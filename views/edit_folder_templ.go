// Code generated by templ@v0.2.364 DO NOT EDIT.

package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import "context"
import "io"
import "bytes"

import (
	"fmt"
	"github.com/ugent-library/deliver/ctx"
	"github.com/ugent-library/deliver/models"
	"github.com/ugent-library/deliver/validate"
)

func EditFolder(c *ctx.Ctx, folder *models.Folder, errs *validate.Errors) templ.Component {
	return templ.ComponentFunc(func(ctx context.Context, w io.Writer) (err error) {
		templBuffer, templIsBuffer := w.(*bytes.Buffer)
		if !templIsBuffer {
			templBuffer = templ.GetBuffer()
			defer templ.ReleaseBuffer(templBuffer)
		}
		ctx = templ.InitializeContext(ctx)
		var_1 := templ.GetChildren(ctx)
		if var_1 == nil {
			var_1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		var_2 := templ.ComponentFunc(func(ctx context.Context, w io.Writer) (err error) {
			templBuffer, templIsBuffer := w.(*bytes.Buffer)
			if !templIsBuffer {
				templBuffer = templ.GetBuffer()
				defer templ.ReleaseBuffer(templBuffer)
			}
			_, err = templBuffer.WriteString("<div class=\"w-100 u-scroll-wrapper\"><div class=\"bg-white\"><div class=\"bc-navbar bc-navbar--xlarge bc-navbar--white bc-navbar--bordered-bottom\"><div class=\"bc-toolbar\"><div class=\"bc-toolbar-left\"><div class=\"bc-toolbar-item\"><h4 class=\"bc-toolbar-title\"><a href=\"")
			if err != nil {
				return err
			}
			var var_3 templ.SafeURL = templ.URL(c.PathTo("space", "spaceName", folder.Space.Name).String())
			_, err = templBuffer.WriteString(templ.EscapeString(string(var_3)))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("\"><i class=\"if if-arrow-left\"></i><span>")
			if err != nil {
				return err
			}
			var var_4 string = folder.Space.Name
			_, err = templBuffer.WriteString(templ.EscapeString(var_4))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</span></a><span>")
			if err != nil {
				return err
			}
			var_5 := `&mdash; Edit folder`
			_, err = templBuffer.WriteString(var_5)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</span><a href=\"")
			if err != nil {
				return err
			}
			var var_6 templ.SafeURL = templ.URL(c.PathTo("folder", "folderID", folder.ID).String())
			_, err = templBuffer.WriteString(templ.EscapeString(string(var_6)))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("\">")
			if err != nil {
				return err
			}
			var var_7 string = folder.Name
			_, err = templBuffer.WriteString(templ.EscapeString(var_7))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</a></h4></div></div></div></div></div><div class=\"u-scroll-wrapper__body p-6\"><div class=\"card w-100 mb-6\"><div class=\"card-header\"><div class=\"bc-toolbar\"><div class=\"bc-toolbar-left\"><div class=\"bc-toolbar-item\">")
			if err != nil {
				return err
			}
			var_8 := `Edit `
			_, err = templBuffer.WriteString(var_8)
			if err != nil {
				return err
			}
			var var_9 string = folder.Name
			_, err = templBuffer.WriteString(templ.EscapeString(var_9))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</div></div><div class=\"bc-toolbar-right\"><div class=\"bc-toolbar-item\"><form action=\"")
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString(templ.EscapeString(c.PathTo("deleteFolder", "folderID", folder.ID).String()))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("\" method=\"POST\" id=\"delete-folder\"><input type=\"hidden\" name=\"_method\" value=\"DELETE\">")
			if err != nil {
				return err
			}
			err = csrfField(c).Render(ctx, templBuffer)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("<button class=\"btn btn-link btn-link-muted\" data-bs-toggle=\"modal\" data-target=\"#confirm-delete-folder\"><i class=\"if if-delete\"></i><span class=\"btn-text\">")
			if err != nil {
				return err
			}
			var_10 := `Delete folder`
			_, err = templBuffer.WriteString(var_10)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</span></button></form></div><div class=\"bc-toolbar-item\"><a class=\"btn btn-link btn-link-muted\" href=\"")
			if err != nil {
				return err
			}
			var var_11 templ.SafeURL = templ.URL(c.PathTo("folder", "folderID", folder.ID).String())
			_, err = templBuffer.WriteString(templ.EscapeString(string(var_11)))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("\"><i class=\"if if-close\"></i><span class=\"btn-text\">")
			if err != nil {
				return err
			}
			var_12 := `Discard changes`
			_, err = templBuffer.WriteString(var_12)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</span></a></div><div class=\"bc-toolbar-item\"><button class=\"btn btn-primary\" data-submit-target=\"#update-folder\"><i class=\"if if-check\"></i><span class=\"btn-text\">")
			if err != nil {
				return err
			}
			var_13 := `Save changes`
			_, err = templBuffer.WriteString(var_13)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</span></button></div></div></div></div><div class=\"card-body\"><form action=\"")
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString(templ.EscapeString(c.PathTo("updateFolder", "folderID", folder.ID).String()))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("\" method=\"POST\" id=\"update-folder\"><input type=\"hidden\" name=\"_method\" value=\"PUT\">")
			if err != nil {
				return err
			}
			err = csrfField(c).Render(ctx, templBuffer)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("<div class=\"row mb-6\"><label class=\"col-lg-3 col-xl-2 col-form-label\" for=\"folder-name\">")
			if err != nil {
				return err
			}
			var_14 := `Folder name`
			_, err = templBuffer.WriteString(var_14)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</label><div class=\"col-lg-5 col-xl-4\">")
			if err != nil {
				return err
			}
			if e := errs.Get("name"); e != nil {
				_, err = templBuffer.WriteString("<input class=\"form-control is-invalid\" type=\"text\" value=\"")
				if err != nil {
					return err
				}
				_, err = templBuffer.WriteString(templ.EscapeString(folder.Name))
				if err != nil {
					return err
				}
				_, err = templBuffer.WriteString("\" id=\"folder-name\" name=\"name\" aria-invalid=\"true\" aria-describedby=\"folder-name-invalid\"> <small class=\"invalid-feedback\" id=\"folder-name-invalid\">")
				if err != nil {
					return err
				}
				var var_15 string = e.Error()
				_, err = templBuffer.WriteString(templ.EscapeString(var_15))
				if err != nil {
					return err
				}
				_, err = templBuffer.WriteString("</small>")
				if err != nil {
					return err
				}
			} else {
				_, err = templBuffer.WriteString("<input class=\"form-control\" type=\"text\" value=\"")
				if err != nil {
					return err
				}
				_, err = templBuffer.WriteString(templ.EscapeString(folder.Name))
				if err != nil {
					return err
				}
				_, err = templBuffer.WriteString("\" id=\"folder-name\" name=\"name\">")
				if err != nil {
					return err
				}
			}
			_, err = templBuffer.WriteString("</div></div><div class=\"row\"><label class=\"col-lg-3 col-xl-2 col-form-label\" for=\"URL\"><p>")
			if err != nil {
				return err
			}
			var_16 := `Public shareable link`
			_, err = templBuffer.WriteString(var_16)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</p></label><div class=\"col-lg-7 col-xl-9\"><code class=\"c-code\">")
			if err != nil {
				return err
			}
			var var_17 string = c.URLTo("shareFolder", "folderID", folder.ID, "folderSlug", folder.Slug()).String()
			_, err = templBuffer.WriteString(templ.EscapeString(var_17))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</code><p class=\"small form-text text-muted\">")
			if err != nil {
				return err
			}
			var_18 := `Anyone with`
			_, err = templBuffer.WriteString(var_18)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString(" ")
			if err != nil {
				return err
			}
			var_19 := `this automatically generated link can view the files`
			_, err = templBuffer.WriteString(var_19)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString(" ")
			if err != nil {
				return err
			}
			var_20 := `in this folder.`
			_, err = templBuffer.WriteString(var_20)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</p></div></div></form></div></div></div></div> <div id=\"confirm-delete-folder\" class=\"modal hide\" aria-modal=\"true\" aria-hidden=\"true\" role=\"dialog\"><div class=\"modal-dialog modal-dialog-centered\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-body\"><div class=\"c-blank-slate c-blank-slate-muted\"><div class=\"bc-avatar\"><i class=\"if if-alert\"></i></div><h4>")
			if err != nil {
				return err
			}
			var_21 := `Are you sure you want to delete the folder`
			_, err = templBuffer.WriteString(var_21)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString(" <br><strong>")
			if err != nil {
				return err
			}
			var var_22 string = folder.Name
			_, err = templBuffer.WriteString(templ.EscapeString(var_22))
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</strong> ")
			if err != nil {
				return err
			}
			var_23 := `and its files?`
			_, err = templBuffer.WriteString(var_23)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</h4><p>")
			if err != nil {
				return err
			}
			var_24 := `You cannot undo this action or recover the files.`
			_, err = templBuffer.WriteString(var_24)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</p></div></div><div class=\"modal-footer\"><button class=\"btn btn-link\" data-bs-dismiss=\"modal\">")
			if err != nil {
				return err
			}
			var_25 := `No, cancel`
			_, err = templBuffer.WriteString(var_25)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</button><button class=\"btn btn-danger\" data-submit-target=\"#delete-folder\">")
			if err != nil {
				return err
			}
			var_26 := `Yes, delete this folder`
			_, err = templBuffer.WriteString(var_26)
			if err != nil {
				return err
			}
			_, err = templBuffer.WriteString("</button></div></div></div></div>")
			if err != nil {
				return err
			}
			if !templIsBuffer {
				_, err = io.Copy(w, templBuffer)
			}
			return err
		})
		err = pageLayout(c, fmt.Sprintf("%s - Edit %s", folder.Space.Name, folder.Name)).Render(templ.WithChildren(ctx, var_2), templBuffer)
		if err != nil {
			return err
		}
		if !templIsBuffer {
			_, err = templBuffer.WriteTo(w)
		}
		return err
	})
}
