{"version":3,"file":"/js/app.js","mappings":"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","sources":["webpack:///webpack/runtime/chunk loaded","webpack:///./assets/js/form_upload_progress.js","webpack:///./node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js","webpack:///./node_modules/@hotwired/stimulus/dist/stimulus.js","webpack:///./node_modules/popper.js/dist/esm/popper.js","webpack:///./assets/js/controllers/base_controller.js","webpack:///./assets/js/lib/bsn_popper.js","webpack:///./assets/js/controllers/clipboard_controller.js","webpack:///./assets/js/app.js","webpack:///./assets/js/toast.js","webpack:///./assets/js/form_submit.js","webpack:///./node_modules/bootstrap.native/dist/bootstrap-native-v4.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","export default function(rootEl) {\n    rootEl.querySelectorAll('form input[data-upload-progress-target]').forEach(input => {\n        input.addEventListener('change', () => {\n            let files = Array.from(input.files)\n\n            if (!files.length) return;\n\n            let target = document.getElementById(input.dataset.uploadProgressTarget)\n            let form = input.closest('form')\n            let csrfToken = document.querySelector('meta[name=csrf-token]').content\n\n            files.forEach((file, i) => {\n                let tmpl = document.getElementById('tmpl-upload-progress').content.firstElementChild.cloneNode(true)\n                tmpl.querySelector('.upload-name').innerText = file.name\n                target.appendChild(tmpl)\n\n                let hideBtnCancelUpload = function(){\n                  let b = tmpl.querySelector('.btn-cancel-upload')\n                  if (b == null) return\n                  b.parentElement.removeChild(b)\n                }\n                let showBtnRemoveUpload = function(){\n                  let b = tmpl.querySelector('.btn-remove-upload')\n                  if (b == null) return\n                  b.classList.remove('d-none')\n                }\n                tmpl.querySelector('.btn-remove-upload').addEventListener('click', function(){\n                  let i = this.closest('.list-group-item')\n                  i.parentElement.removeChild(i)\n                })\n                let showMessage = function(msg, level) {\n                  let m = tmpl.querySelector('.upload-msg')\n                  let cl = 'text-muted'\n                  if (level == 'info') {\n                    cl = 'text-muted'\n                  } else if(level = 'error') {\n                    cl = 'text-danger'\n                  }\n                  m.classList.remove('text-muted')\n                  m.classList.add(cl)\n                  m.innerText = msg\n                }\n                let hlPgBar = function(pgBar, level) {\n                  let cl = 'bg-info'\n                  if (level == 'warning') {\n                    cl = 'bg-warning'\n                  } else if(level == 'error') {\n                    cl = 'bg-danger'\n                  }\n                  pgBar.classList.remove('bg-info')\n                  pgBar.classList.add(cl)\n                }\n\n                // prevent file upload when above max file size\n                let maxFileSize = input.dataset.uploadMaxFileSize\n                if (!isNaN(maxFileSize) && file.size > maxFileSize) {\n\n                  hideBtnCancelUpload()\n                  showBtnRemoveUpload()\n                  showMessage(input.dataset.uploadMsgFileTooLarge, 'error')\n                  hlPgBar(tmpl.querySelector('.progress-bar'), 'error')\n                  return\n\n                }\n\n                // send headers along with request\n                let headers = [\n                  ['X-CSRF-Token', csrfToken],\n                  // weird, but makes sure that middleware does not try to read _method from form\n                  ['X-HTTP-Method-Override', 'POST'],\n                  //\"Failed to execute 'setRequestHeader' on 'XMLHttpRequest': String contains non ISO-8859-1 code point\"\n                  ['X-Upload-Filename', encodeURIComponent(file.name)],\n                  //refused by browser\n                  //['Content-Length', file.size],\n                  ['Content-Type', file.type]\n                ]\n\n                let req = new XMLHttpRequest();\n\n                req.addEventListener('abort', e => {\n\n                  showMessage(input.dataset.uploadMsgFileAborted, 'error')\n                  hlPgBar(tmpl.querySelector('.progress-bar'), 'error')\n                  hideBtnCancelUpload()\n                  showBtnRemoveUpload()\n\n                }, false);\n\n                req.upload.addEventListener('progress', e => {\n                    if (!e.lengthComputable) return;\n\n                    let percent = Math.floor(e.loaded / e.total * 100)\n                    tmpl.querySelector('.upload-size').innerText = friendlyBytes(e.loaded)\n                    tmpl.querySelector('.upload-percent').innerText = percent\n                    let pb = tmpl.querySelector('.progress-bar')\n                    pb.style['width'] = `${percent}%`\n                    pb.setAttribute('aria-valuenow', percent)\n\n                    if (e.loaded == e.total) {\n\n                      hideBtnCancelUpload()\n                      showMessage(input.dataset.uploadMsgFileProcessing, 'info')\n\n                    } else {\n\n                      showMessage(input.dataset.uploadMsgFileUploading, 'info')\n\n                    }\n\n                }, false);\n\n                req.addEventListener('readystatechange', evt => {\n\n                  if (req.readyState !== 4) return\n\n                  hideBtnCancelUpload()\n\n                  // file created\n                  if (req.status == 200 || req.status == 201) {\n                    tmpl.parentElement.removeChild(tmpl)\n                    Turbo.renderStreamMessage(req.response)\n                  }\n\n                  /*\n                   * file too large. Unfortunately this cannot be detected\n                   * anymore at server as the error is wrapped inside others.\n                   */\n                  else if(req.status == 413) {\n\n                    showBtnRemoveUpload()\n                    showMessage(input.dataset.uploadMsgFileTooLarge, 'error')\n                    hlPgBar(tmpl.querySelector('.progress-bar'), 'error')\n\n                  }\n                  // directory has been removed in the meantime\n                  else if(req.status == 404) {\n\n                    showBtnRemoveUpload()\n                    showMessage(input.dataset.uploadMsgDirNotFound, 'error')\n                    hlPgBar(tmpl.querySelector('.progress-bar'), 'error')\n\n                  }\n                  // undetermined errors\n                  else {\n\n                    showBtnRemoveUpload()\n                    showMessage(input.dataset.uploadMsgUnexpected, 'error')\n                    hlPgBar(tmpl.querySelector('.progress-bar'), 'error')\n\n                  }\n\n                })\n\n                req.open(form.method, form.action);\n                for(let i = 0; i < headers.length; i++) {\n                  req.setRequestHeader(headers[i][0], headers[i][1])\n                }\n                tmpl.querySelector('.btn-cancel-upload').addEventListener('click', function(evt) {\n                  evt.preventDefault()\n                  req.abort()\n                })\n                req.send(file);\n\n            })\n\n            // important to retrigger \"change\" when someone enters the same file again\n            input.value = \"\";\n        })\n    });\n}\n\nconst byteUnits = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB']\n\nfunction friendlyBytes(n) {\n    if (n < 10) {\n        return n + ' B'\n    }\n    let e = Math.floor(Math.log(n) / Math.log(1000))\n    let unit = byteUnits[e]\n    let val =  Math.floor(n / Math.pow(1000, e)*10+0.5) / 10\n    if (val < 10 && !Number.isInteger(val)) {\n        return val.toFixed(1) + ' ' + unit\n    }\n    return val.toFixed(0) + ' ' + unit\n}\n","/*\nTurbo 7.2.5\nCopyright © 2023 37signals LLC\n */\n(function () {\n    if (window.Reflect === undefined ||\n        window.customElements === undefined ||\n        window.customElements.polyfillWrapFlushCallback) {\n        return;\n    }\n    const BuiltInHTMLElement = HTMLElement;\n    const wrapperForTheName = {\n        HTMLElement: function HTMLElement() {\n            return Reflect.construct(BuiltInHTMLElement, [], this.constructor);\n        },\n    };\n    window.HTMLElement = wrapperForTheName[\"HTMLElement\"];\n    HTMLElement.prototype = BuiltInHTMLElement.prototype;\n    HTMLElement.prototype.constructor = HTMLElement;\n    Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement);\n})();\n\n/**\n * The MIT License (MIT)\n * \n * Copyright (c) 2019 Javan Makhmali\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function(prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function(submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form || raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\nfunction findSubmitterFromClickTarget(target) {\n    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n    const candidate = element ? element.closest(\"input, button\") : null;\n    return (candidate === null || candidate === void 0 ? void 0 : candidate.type) == \"submit\" ? candidate : null;\n}\nfunction clickCaptured(event) {\n    const submitter = findSubmitterFromClickTarget(event.target);\n    if (submitter && submitter.form) {\n        submittersByForm.set(submitter.form, submitter);\n    }\n}\n(function () {\n    if (\"submitter\" in Event.prototype)\n        return;\n    let prototype;\n    if (\"SubmitEvent\" in window && /Apple Computer/.test(navigator.vendor)) {\n        prototype = window.SubmitEvent.prototype;\n    }\n    else if (\"SubmitEvent\" in window) {\n        return;\n    }\n    else {\n        prototype = window.Event.prototype;\n    }\n    addEventListener(\"click\", clickCaptured, true);\n    Object.defineProperty(prototype, \"submitter\", {\n        get() {\n            if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n                return submittersByForm.get(this.target);\n            }\n        },\n    });\n})();\n\nvar FrameLoadingStyle;\n(function (FrameLoadingStyle) {\n    FrameLoadingStyle[\"eager\"] = \"eager\";\n    FrameLoadingStyle[\"lazy\"] = \"lazy\";\n})(FrameLoadingStyle || (FrameLoadingStyle = {}));\nclass FrameElement extends HTMLElement {\n    constructor() {\n        super();\n        this.loaded = Promise.resolve();\n        this.delegate = new FrameElement.delegateConstructor(this);\n    }\n    static get observedAttributes() {\n        return [\"disabled\", \"complete\", \"loading\", \"src\"];\n    }\n    connectedCallback() {\n        this.delegate.connect();\n    }\n    disconnectedCallback() {\n        this.delegate.disconnect();\n    }\n    reload() {\n        return this.delegate.sourceURLReloaded();\n    }\n    attributeChangedCallback(name) {\n        if (name == \"loading\") {\n            this.delegate.loadingStyleChanged();\n        }\n        else if (name == \"complete\") {\n            this.delegate.completeChanged();\n        }\n        else if (name == \"src\") {\n            this.delegate.sourceURLChanged();\n        }\n        else {\n            this.delegate.disabledChanged();\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\");\n    }\n    set src(value) {\n        if (value) {\n            this.setAttribute(\"src\", value);\n        }\n        else {\n            this.removeAttribute(\"src\");\n        }\n    }\n    get loading() {\n        return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\");\n    }\n    set loading(value) {\n        if (value) {\n            this.setAttribute(\"loading\", value);\n        }\n        else {\n            this.removeAttribute(\"loading\");\n        }\n    }\n    get disabled() {\n        return this.hasAttribute(\"disabled\");\n    }\n    set disabled(value) {\n        if (value) {\n            this.setAttribute(\"disabled\", \"\");\n        }\n        else {\n            this.removeAttribute(\"disabled\");\n        }\n    }\n    get autoscroll() {\n        return this.hasAttribute(\"autoscroll\");\n    }\n    set autoscroll(value) {\n        if (value) {\n            this.setAttribute(\"autoscroll\", \"\");\n        }\n        else {\n            this.removeAttribute(\"autoscroll\");\n        }\n    }\n    get complete() {\n        return !this.delegate.isLoading;\n    }\n    get isActive() {\n        return this.ownerDocument === document && !this.isPreview;\n    }\n    get isPreview() {\n        var _a, _b;\n        return (_b = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.documentElement) === null || _b === void 0 ? void 0 : _b.hasAttribute(\"data-turbo-preview\");\n    }\n}\nfunction frameLoadingStyleFromString(style) {\n    switch (style.toLowerCase()) {\n        case \"lazy\":\n            return FrameLoadingStyle.lazy;\n        default:\n            return FrameLoadingStyle.eager;\n    }\n}\n\nfunction expandURL(locatable) {\n    return new URL(locatable.toString(), document.baseURI);\n}\nfunction getAnchor(url) {\n    let anchorMatch;\n    if (url.hash) {\n        return url.hash.slice(1);\n    }\n    else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n        return anchorMatch[1];\n    }\n}\nfunction getAction(form, submitter) {\n    const action = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formaction\")) || form.getAttribute(\"action\") || form.action;\n    return expandURL(action);\n}\nfunction getExtension(url) {\n    return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\";\n}\nfunction isHTML(url) {\n    return !!getExtension(url).match(/^(?:|\\.(?:htm|html|xhtml|php))$/);\n}\nfunction isPrefixedBy(baseURL, url) {\n    const prefix = getPrefix(url);\n    return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix);\n}\nfunction locationIsVisitable(location, rootLocation) {\n    return isPrefixedBy(location, rootLocation) && isHTML(location);\n}\nfunction getRequestURL(url) {\n    const anchor = getAnchor(url);\n    return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href;\n}\nfunction toCacheKey(url) {\n    return getRequestURL(url);\n}\nfunction urlsAreEqual(left, right) {\n    return expandURL(left).href == expandURL(right).href;\n}\nfunction getPathComponents(url) {\n    return url.pathname.split(\"/\").slice(1);\n}\nfunction getLastPathComponent(url) {\n    return getPathComponents(url).slice(-1)[0];\n}\nfunction getPrefix(url) {\n    return addTrailingSlash(url.origin + url.pathname);\n}\nfunction addTrailingSlash(value) {\n    return value.endsWith(\"/\") ? value : value + \"/\";\n}\n\nclass FetchResponse {\n    constructor(response) {\n        this.response = response;\n    }\n    get succeeded() {\n        return this.response.ok;\n    }\n    get failed() {\n        return !this.succeeded;\n    }\n    get clientError() {\n        return this.statusCode >= 400 && this.statusCode <= 499;\n    }\n    get serverError() {\n        return this.statusCode >= 500 && this.statusCode <= 599;\n    }\n    get redirected() {\n        return this.response.redirected;\n    }\n    get location() {\n        return expandURL(this.response.url);\n    }\n    get isHTML() {\n        return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/);\n    }\n    get statusCode() {\n        return this.response.status;\n    }\n    get contentType() {\n        return this.header(\"Content-Type\");\n    }\n    get responseText() {\n        return this.response.clone().text();\n    }\n    get responseHTML() {\n        if (this.isHTML) {\n            return this.response.clone().text();\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n    }\n    header(name) {\n        return this.response.headers.get(name);\n    }\n}\n\nfunction activateScriptElement(element) {\n    if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n        return element;\n    }\n    else {\n        const createdScriptElement = document.createElement(\"script\");\n        const cspNonce = getMetaContent(\"csp-nonce\");\n        if (cspNonce) {\n            createdScriptElement.nonce = cspNonce;\n        }\n        createdScriptElement.textContent = element.textContent;\n        createdScriptElement.async = false;\n        copyElementAttributes(createdScriptElement, element);\n        return createdScriptElement;\n    }\n}\nfunction copyElementAttributes(destinationElement, sourceElement) {\n    for (const { name, value } of sourceElement.attributes) {\n        destinationElement.setAttribute(name, value);\n    }\n}\nfunction createDocumentFragment(html) {\n    const template = document.createElement(\"template\");\n    template.innerHTML = html;\n    return template.content;\n}\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n    const event = new CustomEvent(eventName, {\n        cancelable,\n        bubbles: true,\n        composed: true,\n        detail,\n    });\n    if (target && target.isConnected) {\n        target.dispatchEvent(event);\n    }\n    else {\n        document.documentElement.dispatchEvent(event);\n    }\n    return event;\n}\nfunction nextAnimationFrame() {\n    return new Promise((resolve) => requestAnimationFrame(() => resolve()));\n}\nfunction nextEventLoopTick() {\n    return new Promise((resolve) => setTimeout(() => resolve(), 0));\n}\nfunction nextMicrotask() {\n    return Promise.resolve();\n}\nfunction parseHTMLDocument(html = \"\") {\n    return new DOMParser().parseFromString(html, \"text/html\");\n}\nfunction unindent(strings, ...values) {\n    const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n    const match = lines[0].match(/^\\s+/);\n    const indent = match ? match[0].length : 0;\n    return lines.map((line) => line.slice(indent)).join(\"\\n\");\n}\nfunction interpolate(strings, values) {\n    return strings.reduce((result, string, i) => {\n        const value = values[i] == undefined ? \"\" : values[i];\n        return result + string + value;\n    }, \"\");\n}\nfunction uuid() {\n    return Array.from({ length: 36 })\n        .map((_, i) => {\n        if (i == 8 || i == 13 || i == 18 || i == 23) {\n            return \"-\";\n        }\n        else if (i == 14) {\n            return \"4\";\n        }\n        else if (i == 19) {\n            return (Math.floor(Math.random() * 4) + 8).toString(16);\n        }\n        else {\n            return Math.floor(Math.random() * 15).toString(16);\n        }\n    })\n        .join(\"\");\n}\nfunction getAttribute(attributeName, ...elements) {\n    for (const value of elements.map((element) => element === null || element === void 0 ? void 0 : element.getAttribute(attributeName))) {\n        if (typeof value == \"string\")\n            return value;\n    }\n    return null;\n}\nfunction hasAttribute(attributeName, ...elements) {\n    return elements.some((element) => element && element.hasAttribute(attributeName));\n}\nfunction markAsBusy(...elements) {\n    for (const element of elements) {\n        if (element.localName == \"turbo-frame\") {\n            element.setAttribute(\"busy\", \"\");\n        }\n        element.setAttribute(\"aria-busy\", \"true\");\n    }\n}\nfunction clearBusyState(...elements) {\n    for (const element of elements) {\n        if (element.localName == \"turbo-frame\") {\n            element.removeAttribute(\"busy\");\n        }\n        element.removeAttribute(\"aria-busy\");\n    }\n}\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n    return new Promise((resolve) => {\n        const onComplete = () => {\n            element.removeEventListener(\"error\", onComplete);\n            element.removeEventListener(\"load\", onComplete);\n            resolve();\n        };\n        element.addEventListener(\"load\", onComplete, { once: true });\n        element.addEventListener(\"error\", onComplete, { once: true });\n        setTimeout(resolve, timeoutInMilliseconds);\n    });\n}\nfunction getHistoryMethodForAction(action) {\n    switch (action) {\n        case \"replace\":\n            return history.replaceState;\n        case \"advance\":\n        case \"restore\":\n            return history.pushState;\n    }\n}\nfunction isAction(action) {\n    return action == \"advance\" || action == \"replace\" || action == \"restore\";\n}\nfunction getVisitAction(...elements) {\n    const action = getAttribute(\"data-turbo-action\", ...elements);\n    return isAction(action) ? action : null;\n}\nfunction getMetaElement(name) {\n    return document.querySelector(`meta[name=\"${name}\"]`);\n}\nfunction getMetaContent(name) {\n    const element = getMetaElement(name);\n    return element && element.content;\n}\nfunction setMetaContent(name, content) {\n    let element = getMetaElement(name);\n    if (!element) {\n        element = document.createElement(\"meta\");\n        element.setAttribute(\"name\", name);\n        document.head.appendChild(element);\n    }\n    element.setAttribute(\"content\", content);\n    return element;\n}\nfunction findClosestRecursively(element, selector) {\n    var _a;\n    if (element instanceof Element) {\n        return (element.closest(selector) ||\n            findClosestRecursively(element.assignedSlot || ((_a = element.getRootNode()) === null || _a === void 0 ? void 0 : _a.host), selector));\n    }\n}\n\nvar FetchMethod;\n(function (FetchMethod) {\n    FetchMethod[FetchMethod[\"get\"] = 0] = \"get\";\n    FetchMethod[FetchMethod[\"post\"] = 1] = \"post\";\n    FetchMethod[FetchMethod[\"put\"] = 2] = \"put\";\n    FetchMethod[FetchMethod[\"patch\"] = 3] = \"patch\";\n    FetchMethod[FetchMethod[\"delete\"] = 4] = \"delete\";\n})(FetchMethod || (FetchMethod = {}));\nfunction fetchMethodFromString(method) {\n    switch (method.toLowerCase()) {\n        case \"get\":\n            return FetchMethod.get;\n        case \"post\":\n            return FetchMethod.post;\n        case \"put\":\n            return FetchMethod.put;\n        case \"patch\":\n            return FetchMethod.patch;\n        case \"delete\":\n            return FetchMethod.delete;\n    }\n}\nclass FetchRequest {\n    constructor(delegate, method, location, body = new URLSearchParams(), target = null) {\n        this.abortController = new AbortController();\n        this.resolveRequestPromise = (_value) => { };\n        this.delegate = delegate;\n        this.method = method;\n        this.headers = this.defaultHeaders;\n        this.body = body;\n        this.url = location;\n        this.target = target;\n    }\n    get location() {\n        return this.url;\n    }\n    get params() {\n        return this.url.searchParams;\n    }\n    get entries() {\n        return this.body ? Array.from(this.body.entries()) : [];\n    }\n    cancel() {\n        this.abortController.abort();\n    }\n    async perform() {\n        const { fetchOptions } = this;\n        this.delegate.prepareRequest(this);\n        await this.allowRequestToBeIntercepted(fetchOptions);\n        try {\n            this.delegate.requestStarted(this);\n            const response = await fetch(this.url.href, fetchOptions);\n            return await this.receive(response);\n        }\n        catch (error) {\n            if (error.name !== \"AbortError\") {\n                if (this.willDelegateErrorHandling(error)) {\n                    this.delegate.requestErrored(this, error);\n                }\n                throw error;\n            }\n        }\n        finally {\n            this.delegate.requestFinished(this);\n        }\n    }\n    async receive(response) {\n        const fetchResponse = new FetchResponse(response);\n        const event = dispatch(\"turbo:before-fetch-response\", {\n            cancelable: true,\n            detail: { fetchResponse },\n            target: this.target,\n        });\n        if (event.defaultPrevented) {\n            this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n        }\n        else if (fetchResponse.succeeded) {\n            this.delegate.requestSucceededWithResponse(this, fetchResponse);\n        }\n        else {\n            this.delegate.requestFailedWithResponse(this, fetchResponse);\n        }\n        return fetchResponse;\n    }\n    get fetchOptions() {\n        var _a;\n        return {\n            method: FetchMethod[this.method].toUpperCase(),\n            credentials: \"same-origin\",\n            headers: this.headers,\n            redirect: \"follow\",\n            body: this.isIdempotent ? null : this.body,\n            signal: this.abortSignal,\n            referrer: (_a = this.delegate.referrer) === null || _a === void 0 ? void 0 : _a.href,\n        };\n    }\n    get defaultHeaders() {\n        return {\n            Accept: \"text/html, application/xhtml+xml\",\n        };\n    }\n    get isIdempotent() {\n        return this.method == FetchMethod.get;\n    }\n    get abortSignal() {\n        return this.abortController.signal;\n    }\n    acceptResponseType(mimeType) {\n        this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n    }\n    async allowRequestToBeIntercepted(fetchOptions) {\n        const requestInterception = new Promise((resolve) => (this.resolveRequestPromise = resolve));\n        const event = dispatch(\"turbo:before-fetch-request\", {\n            cancelable: true,\n            detail: {\n                fetchOptions,\n                url: this.url,\n                resume: this.resolveRequestPromise,\n            },\n            target: this.target,\n        });\n        if (event.defaultPrevented)\n            await requestInterception;\n    }\n    willDelegateErrorHandling(error) {\n        const event = dispatch(\"turbo:fetch-request-error\", {\n            target: this.target,\n            cancelable: true,\n            detail: { request: this, error: error },\n        });\n        return !event.defaultPrevented;\n    }\n}\n\nclass AppearanceObserver {\n    constructor(delegate, element) {\n        this.started = false;\n        this.intersect = (entries) => {\n            const lastEntry = entries.slice(-1)[0];\n            if (lastEntry === null || lastEntry === void 0 ? void 0 : lastEntry.isIntersecting) {\n                this.delegate.elementAppearedInViewport(this.element);\n            }\n        };\n        this.delegate = delegate;\n        this.element = element;\n        this.intersectionObserver = new IntersectionObserver(this.intersect);\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.intersectionObserver.observe(this.element);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.intersectionObserver.unobserve(this.element);\n        }\n    }\n}\n\nclass StreamMessage {\n    constructor(fragment) {\n        this.fragment = importStreamElements(fragment);\n    }\n    static wrap(message) {\n        if (typeof message == \"string\") {\n            return new this(createDocumentFragment(message));\n        }\n        else {\n            return message;\n        }\n    }\n}\nStreamMessage.contentType = \"text/vnd.turbo-stream.html\";\nfunction importStreamElements(fragment) {\n    for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n        const streamElement = document.importNode(element, true);\n        for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n            inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n        }\n        element.replaceWith(streamElement);\n    }\n    return fragment;\n}\n\nvar FormSubmissionState;\n(function (FormSubmissionState) {\n    FormSubmissionState[FormSubmissionState[\"initialized\"] = 0] = \"initialized\";\n    FormSubmissionState[FormSubmissionState[\"requesting\"] = 1] = \"requesting\";\n    FormSubmissionState[FormSubmissionState[\"waiting\"] = 2] = \"waiting\";\n    FormSubmissionState[FormSubmissionState[\"receiving\"] = 3] = \"receiving\";\n    FormSubmissionState[FormSubmissionState[\"stopping\"] = 4] = \"stopping\";\n    FormSubmissionState[FormSubmissionState[\"stopped\"] = 5] = \"stopped\";\n})(FormSubmissionState || (FormSubmissionState = {}));\nvar FormEnctype;\n(function (FormEnctype) {\n    FormEnctype[\"urlEncoded\"] = \"application/x-www-form-urlencoded\";\n    FormEnctype[\"multipart\"] = \"multipart/form-data\";\n    FormEnctype[\"plain\"] = \"text/plain\";\n})(FormEnctype || (FormEnctype = {}));\nfunction formEnctypeFromString(encoding) {\n    switch (encoding.toLowerCase()) {\n        case FormEnctype.multipart:\n            return FormEnctype.multipart;\n        case FormEnctype.plain:\n            return FormEnctype.plain;\n        default:\n            return FormEnctype.urlEncoded;\n    }\n}\nclass FormSubmission {\n    constructor(delegate, formElement, submitter, mustRedirect = false) {\n        this.state = FormSubmissionState.initialized;\n        this.delegate = delegate;\n        this.formElement = formElement;\n        this.submitter = submitter;\n        this.formData = buildFormData(formElement, submitter);\n        this.location = expandURL(this.action);\n        if (this.method == FetchMethod.get) {\n            mergeFormDataEntries(this.location, [...this.body.entries()]);\n        }\n        this.fetchRequest = new FetchRequest(this, this.method, this.location, this.body, this.formElement);\n        this.mustRedirect = mustRedirect;\n    }\n    static confirmMethod(message, _element, _submitter) {\n        return Promise.resolve(confirm(message));\n    }\n    get method() {\n        var _a;\n        const method = ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formmethod\")) || this.formElement.getAttribute(\"method\") || \"\";\n        return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;\n    }\n    get action() {\n        var _a;\n        const formElementAction = typeof this.formElement.action === \"string\" ? this.formElement.action : null;\n        if ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"formaction\")) {\n            return this.submitter.getAttribute(\"formaction\") || \"\";\n        }\n        else {\n            return this.formElement.getAttribute(\"action\") || formElementAction || \"\";\n        }\n    }\n    get body() {\n        if (this.enctype == FormEnctype.urlEncoded || this.method == FetchMethod.get) {\n            return new URLSearchParams(this.stringFormData);\n        }\n        else {\n            return this.formData;\n        }\n    }\n    get enctype() {\n        var _a;\n        return formEnctypeFromString(((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formenctype\")) || this.formElement.enctype);\n    }\n    get isIdempotent() {\n        return this.fetchRequest.isIdempotent;\n    }\n    get stringFormData() {\n        return [...this.formData].reduce((entries, [name, value]) => {\n            return entries.concat(typeof value == \"string\" ? [[name, value]] : []);\n        }, []);\n    }\n    async start() {\n        const { initialized, requesting } = FormSubmissionState;\n        const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n        if (typeof confirmationMessage === \"string\") {\n            const answer = await FormSubmission.confirmMethod(confirmationMessage, this.formElement, this.submitter);\n            if (!answer) {\n                return;\n            }\n        }\n        if (this.state == initialized) {\n            this.state = requesting;\n            return this.fetchRequest.perform();\n        }\n    }\n    stop() {\n        const { stopping, stopped } = FormSubmissionState;\n        if (this.state != stopping && this.state != stopped) {\n            this.state = stopping;\n            this.fetchRequest.cancel();\n            return true;\n        }\n    }\n    prepareRequest(request) {\n        if (!request.isIdempotent) {\n            const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n            if (token) {\n                request.headers[\"X-CSRF-Token\"] = token;\n            }\n        }\n        if (this.requestAcceptsTurboStreamResponse(request)) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted(_request) {\n        var _a;\n        this.state = FormSubmissionState.waiting;\n        (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.setAttribute(\"disabled\", \"\");\n        dispatch(\"turbo:submit-start\", {\n            target: this.formElement,\n            detail: { formSubmission: this },\n        });\n        this.delegate.formSubmissionStarted(this);\n    }\n    requestPreventedHandlingResponse(request, response) {\n        this.result = { success: response.succeeded, fetchResponse: response };\n    }\n    requestSucceededWithResponse(request, response) {\n        if (response.clientError || response.serverError) {\n            this.delegate.formSubmissionFailedWithResponse(this, response);\n        }\n        else if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n            const error = new Error(\"Form responses must redirect to another location\");\n            this.delegate.formSubmissionErrored(this, error);\n        }\n        else {\n            this.state = FormSubmissionState.receiving;\n            this.result = { success: true, fetchResponse: response };\n            this.delegate.formSubmissionSucceededWithResponse(this, response);\n        }\n    }\n    requestFailedWithResponse(request, response) {\n        this.result = { success: false, fetchResponse: response };\n        this.delegate.formSubmissionFailedWithResponse(this, response);\n    }\n    requestErrored(request, error) {\n        this.result = { success: false, error };\n        this.delegate.formSubmissionErrored(this, error);\n    }\n    requestFinished(_request) {\n        var _a;\n        this.state = FormSubmissionState.stopped;\n        (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.removeAttribute(\"disabled\");\n        dispatch(\"turbo:submit-end\", {\n            target: this.formElement,\n            detail: Object.assign({ formSubmission: this }, this.result),\n        });\n        this.delegate.formSubmissionFinished(this);\n    }\n    requestMustRedirect(request) {\n        return !request.isIdempotent && this.mustRedirect;\n    }\n    requestAcceptsTurboStreamResponse(request) {\n        return !request.isIdempotent || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement);\n    }\n}\nfunction buildFormData(formElement, submitter) {\n    const formData = new FormData(formElement);\n    const name = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"name\");\n    const value = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"value\");\n    if (name) {\n        formData.append(name, value || \"\");\n    }\n    return formData;\n}\nfunction getCookieValue(cookieName) {\n    if (cookieName != null) {\n        const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n        const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n        if (cookie) {\n            const value = cookie.split(\"=\").slice(1).join(\"=\");\n            return value ? decodeURIComponent(value) : undefined;\n        }\n    }\n}\nfunction responseSucceededWithoutRedirect(response) {\n    return response.statusCode == 200 && !response.redirected;\n}\nfunction mergeFormDataEntries(url, entries) {\n    const searchParams = new URLSearchParams();\n    for (const [name, value] of entries) {\n        if (value instanceof File)\n            continue;\n        searchParams.append(name, value);\n    }\n    url.search = searchParams.toString();\n    return url;\n}\n\nclass Snapshot {\n    constructor(element) {\n        this.element = element;\n    }\n    get activeElement() {\n        return this.element.ownerDocument.activeElement;\n    }\n    get children() {\n        return [...this.element.children];\n    }\n    hasAnchor(anchor) {\n        return this.getElementForAnchor(anchor) != null;\n    }\n    getElementForAnchor(anchor) {\n        return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null;\n    }\n    get isConnected() {\n        return this.element.isConnected;\n    }\n    get firstAutofocusableElement() {\n        const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n        for (const element of this.element.querySelectorAll(\"[autofocus]\")) {\n            if (element.closest(inertDisabledOrHidden) == null)\n                return element;\n            else\n                continue;\n        }\n        return null;\n    }\n    get permanentElements() {\n        return queryPermanentElementsAll(this.element);\n    }\n    getPermanentElementById(id) {\n        return getPermanentElementById(this.element, id);\n    }\n    getPermanentElementMapForSnapshot(snapshot) {\n        const permanentElementMap = {};\n        for (const currentPermanentElement of this.permanentElements) {\n            const { id } = currentPermanentElement;\n            const newPermanentElement = snapshot.getPermanentElementById(id);\n            if (newPermanentElement) {\n                permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n            }\n        }\n        return permanentElementMap;\n    }\n}\nfunction getPermanentElementById(node, id) {\n    return node.querySelector(`#${id}[data-turbo-permanent]`);\n}\nfunction queryPermanentElementsAll(node) {\n    return node.querySelectorAll(\"[id][data-turbo-permanent]\");\n}\n\nclass FormSubmitObserver {\n    constructor(delegate, eventTarget) {\n        this.started = false;\n        this.submitCaptured = () => {\n            this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n            this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n        };\n        this.submitBubbled = ((event) => {\n            if (!event.defaultPrevented) {\n                const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n                const submitter = event.submitter || undefined;\n                if (form &&\n                    submissionDoesNotDismissDialog(form, submitter) &&\n                    submissionDoesNotTargetIFrame(form, submitter) &&\n                    this.delegate.willSubmitForm(form, submitter)) {\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    this.delegate.formSubmitted(form, submitter);\n                }\n            }\n        });\n        this.delegate = delegate;\n        this.eventTarget = eventTarget;\n    }\n    start() {\n        if (!this.started) {\n            this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n            this.started = false;\n        }\n    }\n}\nfunction submissionDoesNotDismissDialog(form, submitter) {\n    const method = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formmethod\")) || form.getAttribute(\"method\");\n    return method != \"dialog\";\n}\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n    if ((submitter === null || submitter === void 0 ? void 0 : submitter.hasAttribute(\"formtarget\")) || form.hasAttribute(\"target\")) {\n        const target = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formtarget\")) || form.target;\n        for (const element of document.getElementsByName(target)) {\n            if (element instanceof HTMLIFrameElement)\n                return false;\n        }\n        return true;\n    }\n    else {\n        return true;\n    }\n}\n\nclass View {\n    constructor(delegate, element) {\n        this.resolveRenderPromise = (_value) => { };\n        this.resolveInterceptionPromise = (_value) => { };\n        this.delegate = delegate;\n        this.element = element;\n    }\n    scrollToAnchor(anchor) {\n        const element = this.snapshot.getElementForAnchor(anchor);\n        if (element) {\n            this.scrollToElement(element);\n            this.focusElement(element);\n        }\n        else {\n            this.scrollToPosition({ x: 0, y: 0 });\n        }\n    }\n    scrollToAnchorFromLocation(location) {\n        this.scrollToAnchor(getAnchor(location));\n    }\n    scrollToElement(element) {\n        element.scrollIntoView();\n    }\n    focusElement(element) {\n        if (element instanceof HTMLElement) {\n            if (element.hasAttribute(\"tabindex\")) {\n                element.focus();\n            }\n            else {\n                element.setAttribute(\"tabindex\", \"-1\");\n                element.focus();\n                element.removeAttribute(\"tabindex\");\n            }\n        }\n    }\n    scrollToPosition({ x, y }) {\n        this.scrollRoot.scrollTo(x, y);\n    }\n    scrollToTop() {\n        this.scrollToPosition({ x: 0, y: 0 });\n    }\n    get scrollRoot() {\n        return window;\n    }\n    async render(renderer) {\n        const { isPreview, shouldRender, newSnapshot: snapshot } = renderer;\n        if (shouldRender) {\n            try {\n                this.renderPromise = new Promise((resolve) => (this.resolveRenderPromise = resolve));\n                this.renderer = renderer;\n                await this.prepareToRenderSnapshot(renderer);\n                const renderInterception = new Promise((resolve) => (this.resolveInterceptionPromise = resolve));\n                const options = { resume: this.resolveInterceptionPromise, render: this.renderer.renderElement };\n                const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n                if (!immediateRender)\n                    await renderInterception;\n                await this.renderSnapshot(renderer);\n                this.delegate.viewRenderedSnapshot(snapshot, isPreview);\n                this.delegate.preloadOnLoadLinksForView(this.element);\n                this.finishRenderingSnapshot(renderer);\n            }\n            finally {\n                delete this.renderer;\n                this.resolveRenderPromise(undefined);\n                delete this.renderPromise;\n            }\n        }\n        else {\n            this.invalidate(renderer.reloadReason);\n        }\n    }\n    invalidate(reason) {\n        this.delegate.viewInvalidated(reason);\n    }\n    async prepareToRenderSnapshot(renderer) {\n        this.markAsPreview(renderer.isPreview);\n        await renderer.prepareToRender();\n    }\n    markAsPreview(isPreview) {\n        if (isPreview) {\n            this.element.setAttribute(\"data-turbo-preview\", \"\");\n        }\n        else {\n            this.element.removeAttribute(\"data-turbo-preview\");\n        }\n    }\n    async renderSnapshot(renderer) {\n        await renderer.render();\n    }\n    finishRenderingSnapshot(renderer) {\n        renderer.finishRendering();\n    }\n}\n\nclass FrameView extends View {\n    invalidate() {\n        this.element.innerHTML = \"\";\n    }\n    get snapshot() {\n        return new Snapshot(this.element);\n    }\n}\n\nclass LinkInterceptor {\n    constructor(delegate, element) {\n        this.clickBubbled = (event) => {\n            if (this.respondsToEventTarget(event.target)) {\n                this.clickEvent = event;\n            }\n            else {\n                delete this.clickEvent;\n            }\n        };\n        this.linkClicked = ((event) => {\n            if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {\n                if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n                    this.clickEvent.preventDefault();\n                    event.preventDefault();\n                    this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n                }\n            }\n            delete this.clickEvent;\n        });\n        this.willVisit = ((_event) => {\n            delete this.clickEvent;\n        });\n        this.delegate = delegate;\n        this.element = element;\n    }\n    start() {\n        this.element.addEventListener(\"click\", this.clickBubbled);\n        document.addEventListener(\"turbo:click\", this.linkClicked);\n        document.addEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    stop() {\n        this.element.removeEventListener(\"click\", this.clickBubbled);\n        document.removeEventListener(\"turbo:click\", this.linkClicked);\n        document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    respondsToEventTarget(target) {\n        const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n        return element && element.closest(\"turbo-frame, html\") == this.element;\n    }\n}\n\nclass LinkClickObserver {\n    constructor(delegate, eventTarget) {\n        this.started = false;\n        this.clickCaptured = () => {\n            this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n            this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n        };\n        this.clickBubbled = (event) => {\n            if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n                const target = (event.composedPath && event.composedPath()[0]) || event.target;\n                const link = this.findLinkFromClickTarget(target);\n                if (link && doesNotTargetIFrame(link)) {\n                    const location = this.getLocationForLink(link);\n                    if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n                        event.preventDefault();\n                        this.delegate.followedLinkToLocation(link, location);\n                    }\n                }\n            }\n        };\n        this.delegate = delegate;\n        this.eventTarget = eventTarget;\n    }\n    start() {\n        if (!this.started) {\n            this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n            this.started = false;\n        }\n    }\n    clickEventIsSignificant(event) {\n        return !((event.target && event.target.isContentEditable) ||\n            event.defaultPrevented ||\n            event.which > 1 ||\n            event.altKey ||\n            event.ctrlKey ||\n            event.metaKey ||\n            event.shiftKey);\n    }\n    findLinkFromClickTarget(target) {\n        return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\");\n    }\n    getLocationForLink(link) {\n        return expandURL(link.getAttribute(\"href\") || \"\");\n    }\n}\nfunction doesNotTargetIFrame(anchor) {\n    if (anchor.hasAttribute(\"target\")) {\n        for (const element of document.getElementsByName(anchor.target)) {\n            if (element instanceof HTMLIFrameElement)\n                return false;\n        }\n        return true;\n    }\n    else {\n        return true;\n    }\n}\n\nclass FormLinkClickObserver {\n    constructor(delegate, element) {\n        this.delegate = delegate;\n        this.linkInterceptor = new LinkClickObserver(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n    }\n    willFollowLinkToLocation(link, location, originalEvent) {\n        return (this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n            link.hasAttribute(\"data-turbo-method\"));\n    }\n    followedLinkToLocation(link, location) {\n        const form = document.createElement(\"form\");\n        const type = \"hidden\";\n        for (const [name, value] of location.searchParams) {\n            form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n        }\n        const action = Object.assign(location, { search: \"\" });\n        form.setAttribute(\"data-turbo\", \"true\");\n        form.setAttribute(\"action\", action.href);\n        form.setAttribute(\"hidden\", \"\");\n        const method = link.getAttribute(\"data-turbo-method\");\n        if (method)\n            form.setAttribute(\"method\", method);\n        const turboFrame = link.getAttribute(\"data-turbo-frame\");\n        if (turboFrame)\n            form.setAttribute(\"data-turbo-frame\", turboFrame);\n        const turboAction = getVisitAction(link);\n        if (turboAction)\n            form.setAttribute(\"data-turbo-action\", turboAction);\n        const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n        if (turboConfirm)\n            form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n        const turboStream = link.hasAttribute(\"data-turbo-stream\");\n        if (turboStream)\n            form.setAttribute(\"data-turbo-stream\", \"\");\n        this.delegate.submittedFormLinkToLocation(link, location, form);\n        document.body.appendChild(form);\n        form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n        requestAnimationFrame(() => form.requestSubmit());\n    }\n}\n\nclass Bardo {\n    constructor(delegate, permanentElementMap) {\n        this.delegate = delegate;\n        this.permanentElementMap = permanentElementMap;\n    }\n    static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n        const bardo = new this(delegate, permanentElementMap);\n        bardo.enter();\n        await callback();\n        bardo.leave();\n    }\n    enter() {\n        for (const id in this.permanentElementMap) {\n            const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n            this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n            this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n        }\n    }\n    leave() {\n        for (const id in this.permanentElementMap) {\n            const [currentPermanentElement] = this.permanentElementMap[id];\n            this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n            this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n            this.delegate.leavingBardo(currentPermanentElement);\n        }\n    }\n    replaceNewPermanentElementWithPlaceholder(permanentElement) {\n        const placeholder = createPlaceholderForPermanentElement(permanentElement);\n        permanentElement.replaceWith(placeholder);\n    }\n    replaceCurrentPermanentElementWithClone(permanentElement) {\n        const clone = permanentElement.cloneNode(true);\n        permanentElement.replaceWith(clone);\n    }\n    replacePlaceholderWithPermanentElement(permanentElement) {\n        const placeholder = this.getPlaceholderById(permanentElement.id);\n        placeholder === null || placeholder === void 0 ? void 0 : placeholder.replaceWith(permanentElement);\n    }\n    getPlaceholderById(id) {\n        return this.placeholders.find((element) => element.content == id);\n    }\n    get placeholders() {\n        return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")];\n    }\n}\nfunction createPlaceholderForPermanentElement(permanentElement) {\n    const element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n    element.setAttribute(\"content\", permanentElement.id);\n    return element;\n}\n\nclass Renderer {\n    constructor(currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n        this.activeElement = null;\n        this.currentSnapshot = currentSnapshot;\n        this.newSnapshot = newSnapshot;\n        this.isPreview = isPreview;\n        this.willRender = willRender;\n        this.renderElement = renderElement;\n        this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n    }\n    get shouldRender() {\n        return true;\n    }\n    get reloadReason() {\n        return;\n    }\n    prepareToRender() {\n        return;\n    }\n    finishRendering() {\n        if (this.resolvingFunctions) {\n            this.resolvingFunctions.resolve();\n            delete this.resolvingFunctions;\n        }\n    }\n    async preservingPermanentElements(callback) {\n        await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n    }\n    focusFirstAutofocusableElement() {\n        const element = this.connectedSnapshot.firstAutofocusableElement;\n        if (elementIsFocusable(element)) {\n            element.focus();\n        }\n    }\n    enteringBardo(currentPermanentElement) {\n        if (this.activeElement)\n            return;\n        if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n            this.activeElement = this.currentSnapshot.activeElement;\n        }\n    }\n    leavingBardo(currentPermanentElement) {\n        if (currentPermanentElement.contains(this.activeElement) && this.activeElement instanceof HTMLElement) {\n            this.activeElement.focus();\n            this.activeElement = null;\n        }\n    }\n    get connectedSnapshot() {\n        return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot;\n    }\n    get currentElement() {\n        return this.currentSnapshot.element;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    get permanentElementMap() {\n        return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot);\n    }\n}\nfunction elementIsFocusable(element) {\n    return element && typeof element.focus == \"function\";\n}\n\nclass FrameRenderer extends Renderer {\n    constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n        super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n        this.delegate = delegate;\n    }\n    static renderElement(currentElement, newElement) {\n        var _a;\n        const destinationRange = document.createRange();\n        destinationRange.selectNodeContents(currentElement);\n        destinationRange.deleteContents();\n        const frameElement = newElement;\n        const sourceRange = (_a = frameElement.ownerDocument) === null || _a === void 0 ? void 0 : _a.createRange();\n        if (sourceRange) {\n            sourceRange.selectNodeContents(frameElement);\n            currentElement.appendChild(sourceRange.extractContents());\n        }\n    }\n    get shouldRender() {\n        return true;\n    }\n    async render() {\n        await nextAnimationFrame();\n        this.preservingPermanentElements(() => {\n            this.loadFrameElement();\n        });\n        this.scrollFrameIntoView();\n        await nextAnimationFrame();\n        this.focusFirstAutofocusableElement();\n        await nextAnimationFrame();\n        this.activateScriptElements();\n    }\n    loadFrameElement() {\n        this.delegate.willRenderFrame(this.currentElement, this.newElement);\n        this.renderElement(this.currentElement, this.newElement);\n    }\n    scrollFrameIntoView() {\n        if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n            const element = this.currentElement.firstElementChild;\n            const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n            const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n            if (element) {\n                element.scrollIntoView({ block, behavior });\n                return true;\n            }\n        }\n        return false;\n    }\n    activateScriptElements() {\n        for (const inertScriptElement of this.newScriptElements) {\n            const activatedScriptElement = activateScriptElement(inertScriptElement);\n            inertScriptElement.replaceWith(activatedScriptElement);\n        }\n    }\n    get newScriptElements() {\n        return this.currentElement.querySelectorAll(\"script\");\n    }\n}\nfunction readScrollLogicalPosition(value, defaultValue) {\n    if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\nfunction readScrollBehavior(value, defaultValue) {\n    if (value == \"auto\" || value == \"smooth\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\n\nclass ProgressBar {\n    constructor() {\n        this.hiding = false;\n        this.value = 0;\n        this.visible = false;\n        this.trickle = () => {\n            this.setValue(this.value + Math.random() / 100);\n        };\n        this.stylesheetElement = this.createStylesheetElement();\n        this.progressElement = this.createProgressElement();\n        this.installStylesheetElement();\n        this.setValue(0);\n    }\n    static get defaultCSS() {\n        return unindent `\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this.installProgressElement();\n            this.startTrickling();\n        }\n    }\n    hide() {\n        if (this.visible && !this.hiding) {\n            this.hiding = true;\n            this.fadeProgressElement(() => {\n                this.uninstallProgressElement();\n                this.stopTrickling();\n                this.visible = false;\n                this.hiding = false;\n            });\n        }\n    }\n    setValue(value) {\n        this.value = value;\n        this.refresh();\n    }\n    installStylesheetElement() {\n        document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n    }\n    installProgressElement() {\n        this.progressElement.style.width = \"0\";\n        this.progressElement.style.opacity = \"1\";\n        document.documentElement.insertBefore(this.progressElement, document.body);\n        this.refresh();\n    }\n    fadeProgressElement(callback) {\n        this.progressElement.style.opacity = \"0\";\n        setTimeout(callback, ProgressBar.animationDuration * 1.5);\n    }\n    uninstallProgressElement() {\n        if (this.progressElement.parentNode) {\n            document.documentElement.removeChild(this.progressElement);\n        }\n    }\n    startTrickling() {\n        if (!this.trickleInterval) {\n            this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n        }\n    }\n    stopTrickling() {\n        window.clearInterval(this.trickleInterval);\n        delete this.trickleInterval;\n    }\n    refresh() {\n        requestAnimationFrame(() => {\n            this.progressElement.style.width = `${10 + this.value * 90}%`;\n        });\n    }\n    createStylesheetElement() {\n        const element = document.createElement(\"style\");\n        element.type = \"text/css\";\n        element.textContent = ProgressBar.defaultCSS;\n        if (this.cspNonce) {\n            element.nonce = this.cspNonce;\n        }\n        return element;\n    }\n    createProgressElement() {\n        const element = document.createElement(\"div\");\n        element.className = \"turbo-progress-bar\";\n        return element;\n    }\n    get cspNonce() {\n        return getMetaContent(\"csp-nonce\");\n    }\n}\nProgressBar.animationDuration = 300;\n\nclass HeadSnapshot extends Snapshot {\n    constructor() {\n        super(...arguments);\n        this.detailsByOuterHTML = this.children\n            .filter((element) => !elementIsNoscript(element))\n            .map((element) => elementWithoutNonce(element))\n            .reduce((result, element) => {\n            const { outerHTML } = element;\n            const details = outerHTML in result\n                ? result[outerHTML]\n                : {\n                    type: elementType(element),\n                    tracked: elementIsTracked(element),\n                    elements: [],\n                };\n            return Object.assign(Object.assign({}, result), { [outerHTML]: Object.assign(Object.assign({}, details), { elements: [...details.elements, element] }) });\n        }, {});\n    }\n    get trackedElementSignature() {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n            .join(\"\");\n    }\n    getScriptElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot);\n    }\n    getStylesheetElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot);\n    }\n    getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n            .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n            .filter(({ type }) => type == matchedType)\n            .map(({ elements: [element] }) => element);\n    }\n    get provisionalElements() {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n            if (type == null && !tracked) {\n                return [...result, ...elements];\n            }\n            else if (elements.length > 1) {\n                return [...result, ...elements.slice(1)];\n            }\n            else {\n                return result;\n            }\n        }, []);\n    }\n    getMetaValue(name) {\n        const element = this.findMetaElementByName(name);\n        return element ? element.getAttribute(\"content\") : null;\n    }\n    findMetaElementByName(name) {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { elements: [element], } = this.detailsByOuterHTML[outerHTML];\n            return elementIsMetaElementWithName(element, name) ? element : result;\n        }, undefined);\n    }\n}\nfunction elementType(element) {\n    if (elementIsScript(element)) {\n        return \"script\";\n    }\n    else if (elementIsStylesheet(element)) {\n        return \"stylesheet\";\n    }\n}\nfunction elementIsTracked(element) {\n    return element.getAttribute(\"data-turbo-track\") == \"reload\";\n}\nfunction elementIsScript(element) {\n    const tagName = element.localName;\n    return tagName == \"script\";\n}\nfunction elementIsNoscript(element) {\n    const tagName = element.localName;\n    return tagName == \"noscript\";\n}\nfunction elementIsStylesheet(element) {\n    const tagName = element.localName;\n    return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\");\n}\nfunction elementIsMetaElementWithName(element, name) {\n    const tagName = element.localName;\n    return tagName == \"meta\" && element.getAttribute(\"name\") == name;\n}\nfunction elementWithoutNonce(element) {\n    if (element.hasAttribute(\"nonce\")) {\n        element.setAttribute(\"nonce\", \"\");\n    }\n    return element;\n}\n\nclass PageSnapshot extends Snapshot {\n    constructor(element, headSnapshot) {\n        super(element);\n        this.headSnapshot = headSnapshot;\n    }\n    static fromHTMLString(html = \"\") {\n        return this.fromDocument(parseHTMLDocument(html));\n    }\n    static fromElement(element) {\n        return this.fromDocument(element.ownerDocument);\n    }\n    static fromDocument({ head, body }) {\n        return new this(body, new HeadSnapshot(head));\n    }\n    clone() {\n        const clonedElement = this.element.cloneNode(true);\n        const selectElements = this.element.querySelectorAll(\"select\");\n        const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n        for (const [index, source] of selectElements.entries()) {\n            const clone = clonedSelectElements[index];\n            for (const option of clone.selectedOptions)\n                option.selected = false;\n            for (const option of source.selectedOptions)\n                clone.options[option.index].selected = true;\n        }\n        for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n            clonedPasswordInput.value = \"\";\n        }\n        return new PageSnapshot(clonedElement, this.headSnapshot);\n    }\n    get headElement() {\n        return this.headSnapshot.element;\n    }\n    get rootLocation() {\n        var _a;\n        const root = (_a = this.getSetting(\"root\")) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    get cacheControlValue() {\n        return this.getSetting(\"cache-control\");\n    }\n    get isPreviewable() {\n        return this.cacheControlValue != \"no-preview\";\n    }\n    get isCacheable() {\n        return this.cacheControlValue != \"no-cache\";\n    }\n    get isVisitable() {\n        return this.getSetting(\"visit-control\") != \"reload\";\n    }\n    getSetting(name) {\n        return this.headSnapshot.getMetaValue(`turbo-${name}`);\n    }\n}\n\nvar TimingMetric;\n(function (TimingMetric) {\n    TimingMetric[\"visitStart\"] = \"visitStart\";\n    TimingMetric[\"requestStart\"] = \"requestStart\";\n    TimingMetric[\"requestEnd\"] = \"requestEnd\";\n    TimingMetric[\"visitEnd\"] = \"visitEnd\";\n})(TimingMetric || (TimingMetric = {}));\nvar VisitState;\n(function (VisitState) {\n    VisitState[\"initialized\"] = \"initialized\";\n    VisitState[\"started\"] = \"started\";\n    VisitState[\"canceled\"] = \"canceled\";\n    VisitState[\"failed\"] = \"failed\";\n    VisitState[\"completed\"] = \"completed\";\n})(VisitState || (VisitState = {}));\nconst defaultOptions = {\n    action: \"advance\",\n    historyChanged: false,\n    visitCachedSnapshot: () => { },\n    willRender: true,\n    updateHistory: true,\n    shouldCacheSnapshot: true,\n    acceptsStreamResponse: false,\n};\nvar SystemStatusCode;\n(function (SystemStatusCode) {\n    SystemStatusCode[SystemStatusCode[\"networkFailure\"] = 0] = \"networkFailure\";\n    SystemStatusCode[SystemStatusCode[\"timeoutFailure\"] = -1] = \"timeoutFailure\";\n    SystemStatusCode[SystemStatusCode[\"contentTypeMismatch\"] = -2] = \"contentTypeMismatch\";\n})(SystemStatusCode || (SystemStatusCode = {}));\nclass Visit {\n    constructor(delegate, location, restorationIdentifier, options = {}) {\n        this.identifier = uuid();\n        this.timingMetrics = {};\n        this.followedRedirect = false;\n        this.historyChanged = false;\n        this.scrolled = false;\n        this.shouldCacheSnapshot = true;\n        this.acceptsStreamResponse = false;\n        this.snapshotCached = false;\n        this.state = VisitState.initialized;\n        this.delegate = delegate;\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier || uuid();\n        const { action, historyChanged, referrer, snapshot, snapshotHTML, response, visitCachedSnapshot, willRender, updateHistory, shouldCacheSnapshot, acceptsStreamResponse, } = Object.assign(Object.assign({}, defaultOptions), options);\n        this.action = action;\n        this.historyChanged = historyChanged;\n        this.referrer = referrer;\n        this.snapshot = snapshot;\n        this.snapshotHTML = snapshotHTML;\n        this.response = response;\n        this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n        this.visitCachedSnapshot = visitCachedSnapshot;\n        this.willRender = willRender;\n        this.updateHistory = updateHistory;\n        this.scrolled = !willRender;\n        this.shouldCacheSnapshot = shouldCacheSnapshot;\n        this.acceptsStreamResponse = acceptsStreamResponse;\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    get restorationData() {\n        return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);\n    }\n    get silent() {\n        return this.isSamePage;\n    }\n    start() {\n        if (this.state == VisitState.initialized) {\n            this.recordTimingMetric(TimingMetric.visitStart);\n            this.state = VisitState.started;\n            this.adapter.visitStarted(this);\n            this.delegate.visitStarted(this);\n        }\n    }\n    cancel() {\n        if (this.state == VisitState.started) {\n            if (this.request) {\n                this.request.cancel();\n            }\n            this.cancelRender();\n            this.state = VisitState.canceled;\n        }\n    }\n    complete() {\n        if (this.state == VisitState.started) {\n            this.recordTimingMetric(TimingMetric.visitEnd);\n            this.state = VisitState.completed;\n            this.followRedirect();\n            if (!this.followedRedirect) {\n                this.adapter.visitCompleted(this);\n                this.delegate.visitCompleted(this);\n            }\n        }\n    }\n    fail() {\n        if (this.state == VisitState.started) {\n            this.state = VisitState.failed;\n            this.adapter.visitFailed(this);\n        }\n    }\n    changeHistory() {\n        var _a;\n        if (!this.historyChanged && this.updateHistory) {\n            const actionForHistory = this.location.href === ((_a = this.referrer) === null || _a === void 0 ? void 0 : _a.href) ? \"replace\" : this.action;\n            const method = getHistoryMethodForAction(actionForHistory);\n            this.history.update(method, this.location, this.restorationIdentifier);\n            this.historyChanged = true;\n        }\n    }\n    issueRequest() {\n        if (this.hasPreloadedResponse()) {\n            this.simulateRequest();\n        }\n        else if (this.shouldIssueRequest() && !this.request) {\n            this.request = new FetchRequest(this, FetchMethod.get, this.location);\n            this.request.perform();\n        }\n    }\n    simulateRequest() {\n        if (this.response) {\n            this.startRequest();\n            this.recordResponse();\n            this.finishRequest();\n        }\n    }\n    startRequest() {\n        this.recordTimingMetric(TimingMetric.requestStart);\n        this.adapter.visitRequestStarted(this);\n    }\n    recordResponse(response = this.response) {\n        this.response = response;\n        if (response) {\n            const { statusCode } = response;\n            if (isSuccessful(statusCode)) {\n                this.adapter.visitRequestCompleted(this);\n            }\n            else {\n                this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n            }\n        }\n    }\n    finishRequest() {\n        this.recordTimingMetric(TimingMetric.requestEnd);\n        this.adapter.visitRequestFinished(this);\n    }\n    loadResponse() {\n        if (this.response) {\n            const { statusCode, responseHTML } = this.response;\n            this.render(async () => {\n                if (this.shouldCacheSnapshot)\n                    this.cacheSnapshot();\n                if (this.view.renderPromise)\n                    await this.view.renderPromise;\n                if (isSuccessful(statusCode) && responseHTML != null) {\n                    await this.view.renderPage(PageSnapshot.fromHTMLString(responseHTML), false, this.willRender, this);\n                    this.performScroll();\n                    this.adapter.visitRendered(this);\n                    this.complete();\n                }\n                else {\n                    await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n                    this.adapter.visitRendered(this);\n                    this.fail();\n                }\n            });\n        }\n    }\n    getCachedSnapshot() {\n        const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n        if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n            if (this.action == \"restore\" || snapshot.isPreviewable) {\n                return snapshot;\n            }\n        }\n    }\n    getPreloadedSnapshot() {\n        if (this.snapshotHTML) {\n            return PageSnapshot.fromHTMLString(this.snapshotHTML);\n        }\n    }\n    hasCachedSnapshot() {\n        return this.getCachedSnapshot() != null;\n    }\n    loadCachedSnapshot() {\n        const snapshot = this.getCachedSnapshot();\n        if (snapshot) {\n            const isPreview = this.shouldIssueRequest();\n            this.render(async () => {\n                this.cacheSnapshot();\n                if (this.isSamePage) {\n                    this.adapter.visitRendered(this);\n                }\n                else {\n                    if (this.view.renderPromise)\n                        await this.view.renderPromise;\n                    await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n                    this.performScroll();\n                    this.adapter.visitRendered(this);\n                    if (!isPreview) {\n                        this.complete();\n                    }\n                }\n            });\n        }\n    }\n    followRedirect() {\n        var _a;\n        if (this.redirectedToLocation && !this.followedRedirect && ((_a = this.response) === null || _a === void 0 ? void 0 : _a.redirected)) {\n            this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n                action: \"replace\",\n                response: this.response,\n                shouldCacheSnapshot: false,\n                willRender: false,\n            });\n            this.followedRedirect = true;\n        }\n    }\n    goToSamePageAnchor() {\n        if (this.isSamePage) {\n            this.render(async () => {\n                this.cacheSnapshot();\n                this.performScroll();\n                this.changeHistory();\n                this.adapter.visitRendered(this);\n            });\n        }\n    }\n    prepareRequest(request) {\n        if (this.acceptsStreamResponse) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted() {\n        this.startRequest();\n    }\n    requestPreventedHandlingResponse(_request, _response) { }\n    async requestSucceededWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        const { redirected, statusCode } = response;\n        if (responseHTML == undefined) {\n            this.recordResponse({\n                statusCode: SystemStatusCode.contentTypeMismatch,\n                redirected,\n            });\n        }\n        else {\n            this.redirectedToLocation = response.redirected ? response.location : undefined;\n            this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n        }\n    }\n    async requestFailedWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        const { redirected, statusCode } = response;\n        if (responseHTML == undefined) {\n            this.recordResponse({\n                statusCode: SystemStatusCode.contentTypeMismatch,\n                redirected,\n            });\n        }\n        else {\n            this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n        }\n    }\n    requestErrored(_request, _error) {\n        this.recordResponse({\n            statusCode: SystemStatusCode.networkFailure,\n            redirected: false,\n        });\n    }\n    requestFinished() {\n        this.finishRequest();\n    }\n    performScroll() {\n        if (!this.scrolled && !this.view.forceReloaded) {\n            if (this.action == \"restore\") {\n                this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n            }\n            else {\n                this.scrollToAnchor() || this.view.scrollToTop();\n            }\n            if (this.isSamePage) {\n                this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n            }\n            this.scrolled = true;\n        }\n    }\n    scrollToRestoredPosition() {\n        const { scrollPosition } = this.restorationData;\n        if (scrollPosition) {\n            this.view.scrollToPosition(scrollPosition);\n            return true;\n        }\n    }\n    scrollToAnchor() {\n        const anchor = getAnchor(this.location);\n        if (anchor != null) {\n            this.view.scrollToAnchor(anchor);\n            return true;\n        }\n    }\n    recordTimingMetric(metric) {\n        this.timingMetrics[metric] = new Date().getTime();\n    }\n    getTimingMetrics() {\n        return Object.assign({}, this.timingMetrics);\n    }\n    getHistoryMethodForAction(action) {\n        switch (action) {\n            case \"replace\":\n                return history.replaceState;\n            case \"advance\":\n            case \"restore\":\n                return history.pushState;\n        }\n    }\n    hasPreloadedResponse() {\n        return typeof this.response == \"object\";\n    }\n    shouldIssueRequest() {\n        if (this.isSamePage) {\n            return false;\n        }\n        else if (this.action == \"restore\") {\n            return !this.hasCachedSnapshot();\n        }\n        else {\n            return this.willRender;\n        }\n    }\n    cacheSnapshot() {\n        if (!this.snapshotCached) {\n            this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n            this.snapshotCached = true;\n        }\n    }\n    async render(callback) {\n        this.cancelRender();\n        await new Promise((resolve) => {\n            this.frame = requestAnimationFrame(() => resolve());\n        });\n        await callback();\n        delete this.frame;\n    }\n    cancelRender() {\n        if (this.frame) {\n            cancelAnimationFrame(this.frame);\n            delete this.frame;\n        }\n    }\n}\nfunction isSuccessful(statusCode) {\n    return statusCode >= 200 && statusCode < 300;\n}\n\nclass BrowserAdapter {\n    constructor(session) {\n        this.progressBar = new ProgressBar();\n        this.showProgressBar = () => {\n            this.progressBar.show();\n        };\n        this.session = session;\n    }\n    visitProposedToLocation(location, options) {\n        this.navigator.startVisit(location, (options === null || options === void 0 ? void 0 : options.restorationIdentifier) || uuid(), options);\n    }\n    visitStarted(visit) {\n        this.location = visit.location;\n        visit.loadCachedSnapshot();\n        visit.issueRequest();\n        visit.goToSamePageAnchor();\n    }\n    visitRequestStarted(visit) {\n        this.progressBar.setValue(0);\n        if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n            this.showVisitProgressBarAfterDelay();\n        }\n        else {\n            this.showProgressBar();\n        }\n    }\n    visitRequestCompleted(visit) {\n        visit.loadResponse();\n    }\n    visitRequestFailedWithStatusCode(visit, statusCode) {\n        switch (statusCode) {\n            case SystemStatusCode.networkFailure:\n            case SystemStatusCode.timeoutFailure:\n            case SystemStatusCode.contentTypeMismatch:\n                return this.reload({\n                    reason: \"request_failed\",\n                    context: {\n                        statusCode,\n                    },\n                });\n            default:\n                return visit.loadResponse();\n        }\n    }\n    visitRequestFinished(_visit) {\n        this.progressBar.setValue(1);\n        this.hideVisitProgressBar();\n    }\n    visitCompleted(_visit) { }\n    pageInvalidated(reason) {\n        this.reload(reason);\n    }\n    visitFailed(_visit) { }\n    visitRendered(_visit) { }\n    formSubmissionStarted(_formSubmission) {\n        this.progressBar.setValue(0);\n        this.showFormProgressBarAfterDelay();\n    }\n    formSubmissionFinished(_formSubmission) {\n        this.progressBar.setValue(1);\n        this.hideFormProgressBar();\n    }\n    showVisitProgressBarAfterDelay() {\n        this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n    hideVisitProgressBar() {\n        this.progressBar.hide();\n        if (this.visitProgressBarTimeout != null) {\n            window.clearTimeout(this.visitProgressBarTimeout);\n            delete this.visitProgressBarTimeout;\n        }\n    }\n    showFormProgressBarAfterDelay() {\n        if (this.formProgressBarTimeout == null) {\n            this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n        }\n    }\n    hideFormProgressBar() {\n        this.progressBar.hide();\n        if (this.formProgressBarTimeout != null) {\n            window.clearTimeout(this.formProgressBarTimeout);\n            delete this.formProgressBarTimeout;\n        }\n    }\n    reload(reason) {\n        var _a;\n        dispatch(\"turbo:reload\", { detail: reason });\n        window.location.href = ((_a = this.location) === null || _a === void 0 ? void 0 : _a.toString()) || window.location.href;\n    }\n    get navigator() {\n        return this.session.navigator;\n    }\n}\n\nclass CacheObserver {\n    constructor() {\n        this.started = false;\n        this.removeStaleElements = ((_event) => {\n            const staleElements = [...document.querySelectorAll('[data-turbo-cache=\"false\"]')];\n            for (const element of staleElements) {\n                element.remove();\n            }\n        });\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-cache\", this.removeStaleElements, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-cache\", this.removeStaleElements, false);\n        }\n    }\n}\n\nclass FrameRedirector {\n    constructor(session, element) {\n        this.session = session;\n        this.element = element;\n        this.linkInterceptor = new LinkInterceptor(this, element);\n        this.formSubmitObserver = new FormSubmitObserver(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n        this.formSubmitObserver.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n        this.formSubmitObserver.stop();\n    }\n    shouldInterceptLinkClick(element, _location, _event) {\n        return this.shouldRedirect(element);\n    }\n    linkClickIntercepted(element, url, event) {\n        const frame = this.findFrameElement(element);\n        if (frame) {\n            frame.delegate.linkClickIntercepted(element, url, event);\n        }\n    }\n    willSubmitForm(element, submitter) {\n        return (element.closest(\"turbo-frame\") == null &&\n            this.shouldSubmit(element, submitter) &&\n            this.shouldRedirect(element, submitter));\n    }\n    formSubmitted(element, submitter) {\n        const frame = this.findFrameElement(element, submitter);\n        if (frame) {\n            frame.delegate.formSubmitted(element, submitter);\n        }\n    }\n    shouldSubmit(form, submitter) {\n        var _a;\n        const action = getAction(form, submitter);\n        const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n        const rootLocation = expandURL((_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null && _a !== void 0 ? _a : \"/\");\n        return this.shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation);\n    }\n    shouldRedirect(element, submitter) {\n        const isNavigatable = element instanceof HTMLFormElement\n            ? this.session.submissionIsNavigatable(element, submitter)\n            : this.session.elementIsNavigatable(element);\n        if (isNavigatable) {\n            const frame = this.findFrameElement(element, submitter);\n            return frame ? frame != element.closest(\"turbo-frame\") : false;\n        }\n        else {\n            return false;\n        }\n    }\n    findFrameElement(element, submitter) {\n        const id = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"data-turbo-frame\")) || element.getAttribute(\"data-turbo-frame\");\n        if (id && id != \"_top\") {\n            const frame = this.element.querySelector(`#${id}:not([disabled])`);\n            if (frame instanceof FrameElement) {\n                return frame;\n            }\n        }\n    }\n}\n\nclass History {\n    constructor(delegate) {\n        this.restorationIdentifier = uuid();\n        this.restorationData = {};\n        this.started = false;\n        this.pageLoaded = false;\n        this.onPopState = (event) => {\n            if (this.shouldHandlePopState()) {\n                const { turbo } = event.state || {};\n                if (turbo) {\n                    this.location = new URL(window.location.href);\n                    const { restorationIdentifier } = turbo;\n                    this.restorationIdentifier = restorationIdentifier;\n                    this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location, restorationIdentifier);\n                }\n            }\n        };\n        this.onPageLoad = async (_event) => {\n            await nextMicrotask();\n            this.pageLoaded = true;\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"popstate\", this.onPopState, false);\n            addEventListener(\"load\", this.onPageLoad, false);\n            this.started = true;\n            this.replace(new URL(window.location.href));\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"popstate\", this.onPopState, false);\n            removeEventListener(\"load\", this.onPageLoad, false);\n            this.started = false;\n        }\n    }\n    push(location, restorationIdentifier) {\n        this.update(history.pushState, location, restorationIdentifier);\n    }\n    replace(location, restorationIdentifier) {\n        this.update(history.replaceState, location, restorationIdentifier);\n    }\n    update(method, location, restorationIdentifier = uuid()) {\n        const state = { turbo: { restorationIdentifier } };\n        method.call(history, state, \"\", location.href);\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier;\n    }\n    getRestorationDataForIdentifier(restorationIdentifier) {\n        return this.restorationData[restorationIdentifier] || {};\n    }\n    updateRestorationData(additionalData) {\n        const { restorationIdentifier } = this;\n        const restorationData = this.restorationData[restorationIdentifier];\n        this.restorationData[restorationIdentifier] = Object.assign(Object.assign({}, restorationData), additionalData);\n    }\n    assumeControlOfScrollRestoration() {\n        var _a;\n        if (!this.previousScrollRestoration) {\n            this.previousScrollRestoration = (_a = history.scrollRestoration) !== null && _a !== void 0 ? _a : \"auto\";\n            history.scrollRestoration = \"manual\";\n        }\n    }\n    relinquishControlOfScrollRestoration() {\n        if (this.previousScrollRestoration) {\n            history.scrollRestoration = this.previousScrollRestoration;\n            delete this.previousScrollRestoration;\n        }\n    }\n    shouldHandlePopState() {\n        return this.pageIsLoaded();\n    }\n    pageIsLoaded() {\n        return this.pageLoaded || document.readyState == \"complete\";\n    }\n}\n\nclass Navigator {\n    constructor(delegate) {\n        this.delegate = delegate;\n    }\n    proposeVisit(location, options = {}) {\n        if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n            if (locationIsVisitable(location, this.view.snapshot.rootLocation)) {\n                this.delegate.visitProposedToLocation(location, options);\n            }\n            else {\n                window.location.href = location.toString();\n            }\n        }\n    }\n    startVisit(locatable, restorationIdentifier, options = {}) {\n        this.stop();\n        this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, Object.assign({ referrer: this.location }, options));\n        this.currentVisit.start();\n    }\n    submitForm(form, submitter) {\n        this.stop();\n        this.formSubmission = new FormSubmission(this, form, submitter, true);\n        this.formSubmission.start();\n    }\n    stop() {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n            delete this.formSubmission;\n        }\n        if (this.currentVisit) {\n            this.currentVisit.cancel();\n            delete this.currentVisit;\n        }\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    formSubmissionStarted(formSubmission) {\n        if (typeof this.adapter.formSubmissionStarted === \"function\") {\n            this.adapter.formSubmissionStarted(formSubmission);\n        }\n    }\n    async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n        if (formSubmission == this.formSubmission) {\n            const responseHTML = await fetchResponse.responseHTML;\n            if (responseHTML) {\n                const shouldCacheSnapshot = formSubmission.method == FetchMethod.get;\n                if (!shouldCacheSnapshot) {\n                    this.view.clearSnapshotCache();\n                }\n                const { statusCode, redirected } = fetchResponse;\n                const action = this.getActionForFormSubmission(formSubmission);\n                const visitOptions = {\n                    action,\n                    shouldCacheSnapshot,\n                    response: { statusCode, responseHTML, redirected },\n                };\n                this.proposeVisit(fetchResponse.location, visitOptions);\n            }\n        }\n    }\n    async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        const responseHTML = await fetchResponse.responseHTML;\n        if (responseHTML) {\n            const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n            if (fetchResponse.serverError) {\n                await this.view.renderError(snapshot, this.currentVisit);\n            }\n            else {\n                await this.view.renderPage(snapshot, false, true, this.currentVisit);\n            }\n            this.view.scrollToTop();\n            this.view.clearSnapshotCache();\n        }\n    }\n    formSubmissionErrored(formSubmission, error) {\n        console.error(error);\n    }\n    formSubmissionFinished(formSubmission) {\n        if (typeof this.adapter.formSubmissionFinished === \"function\") {\n            this.adapter.formSubmissionFinished(formSubmission);\n        }\n    }\n    visitStarted(visit) {\n        this.delegate.visitStarted(visit);\n    }\n    visitCompleted(visit) {\n        this.delegate.visitCompleted(visit);\n    }\n    locationWithActionIsSamePage(location, action) {\n        const anchor = getAnchor(location);\n        const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n        const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n        return (action !== \"replace\" &&\n            getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n            (isRestorationToTop || (anchor != null && anchor !== currentAnchor)));\n    }\n    visitScrolledToSamePageLocation(oldURL, newURL) {\n        this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    getActionForFormSubmission({ submitter, formElement }) {\n        return getVisitAction(submitter, formElement) || \"advance\";\n    }\n}\n\nvar PageStage;\n(function (PageStage) {\n    PageStage[PageStage[\"initial\"] = 0] = \"initial\";\n    PageStage[PageStage[\"loading\"] = 1] = \"loading\";\n    PageStage[PageStage[\"interactive\"] = 2] = \"interactive\";\n    PageStage[PageStage[\"complete\"] = 3] = \"complete\";\n})(PageStage || (PageStage = {}));\nclass PageObserver {\n    constructor(delegate) {\n        this.stage = PageStage.initial;\n        this.started = false;\n        this.interpretReadyState = () => {\n            const { readyState } = this;\n            if (readyState == \"interactive\") {\n                this.pageIsInteractive();\n            }\n            else if (readyState == \"complete\") {\n                this.pageIsComplete();\n            }\n        };\n        this.pageWillUnload = () => {\n            this.delegate.pageWillUnload();\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            if (this.stage == PageStage.initial) {\n                this.stage = PageStage.loading;\n            }\n            document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n            addEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n            removeEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = false;\n        }\n    }\n    pageIsInteractive() {\n        if (this.stage == PageStage.loading) {\n            this.stage = PageStage.interactive;\n            this.delegate.pageBecameInteractive();\n        }\n    }\n    pageIsComplete() {\n        this.pageIsInteractive();\n        if (this.stage == PageStage.interactive) {\n            this.stage = PageStage.complete;\n            this.delegate.pageLoaded();\n        }\n    }\n    get readyState() {\n        return document.readyState;\n    }\n}\n\nclass ScrollObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.onScroll = () => {\n            this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"scroll\", this.onScroll, false);\n            this.onScroll();\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"scroll\", this.onScroll, false);\n            this.started = false;\n        }\n    }\n    updatePosition(position) {\n        this.delegate.scrollPositionChanged(position);\n    }\n}\n\nclass StreamMessageRenderer {\n    render({ fragment }) {\n        Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => document.documentElement.appendChild(fragment));\n    }\n    enteringBardo(currentPermanentElement, newPermanentElement) {\n        newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n    }\n    leavingBardo() { }\n}\nfunction getPermanentElementMapForFragment(fragment) {\n    const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n    const permanentElementMap = {};\n    for (const permanentElementInDocument of permanentElementsInDocument) {\n        const { id } = permanentElementInDocument;\n        for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n            const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n            if (elementInStream) {\n                permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n            }\n        }\n    }\n    return permanentElementMap;\n}\n\nclass StreamObserver {\n    constructor(delegate) {\n        this.sources = new Set();\n        this.started = false;\n        this.inspectFetchResponse = ((event) => {\n            const response = fetchResponseFromEvent(event);\n            if (response && fetchResponseIsStream(response)) {\n                event.preventDefault();\n                this.receiveMessageResponse(response);\n            }\n        });\n        this.receiveMessageEvent = (event) => {\n            if (this.started && typeof event.data == \"string\") {\n                this.receiveMessageHTML(event.data);\n            }\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    connectStreamSource(source) {\n        if (!this.streamSourceIsConnected(source)) {\n            this.sources.add(source);\n            source.addEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    disconnectStreamSource(source) {\n        if (this.streamSourceIsConnected(source)) {\n            this.sources.delete(source);\n            source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    streamSourceIsConnected(source) {\n        return this.sources.has(source);\n    }\n    async receiveMessageResponse(response) {\n        const html = await response.responseHTML;\n        if (html) {\n            this.receiveMessageHTML(html);\n        }\n    }\n    receiveMessageHTML(html) {\n        this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n    }\n}\nfunction fetchResponseFromEvent(event) {\n    var _a;\n    const fetchResponse = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.fetchResponse;\n    if (fetchResponse instanceof FetchResponse) {\n        return fetchResponse;\n    }\n}\nfunction fetchResponseIsStream(response) {\n    var _a;\n    const contentType = (_a = response.contentType) !== null && _a !== void 0 ? _a : \"\";\n    return contentType.startsWith(StreamMessage.contentType);\n}\n\nclass ErrorRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        const { documentElement, body } = document;\n        documentElement.replaceChild(newElement, body);\n    }\n    async render() {\n        this.replaceHeadAndBody();\n        this.activateScriptElements();\n    }\n    replaceHeadAndBody() {\n        const { documentElement, head } = document;\n        documentElement.replaceChild(this.newHead, head);\n        this.renderElement(this.currentElement, this.newElement);\n    }\n    activateScriptElements() {\n        for (const replaceableElement of this.scriptElements) {\n            const parentNode = replaceableElement.parentNode;\n            if (parentNode) {\n                const element = activateScriptElement(replaceableElement);\n                parentNode.replaceChild(element, replaceableElement);\n            }\n        }\n    }\n    get newHead() {\n        return this.newSnapshot.headSnapshot.element;\n    }\n    get scriptElements() {\n        return document.documentElement.querySelectorAll(\"script\");\n    }\n}\n\nclass PageRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        if (document.body && newElement instanceof HTMLBodyElement) {\n            document.body.replaceWith(newElement);\n        }\n        else {\n            document.documentElement.appendChild(newElement);\n        }\n    }\n    get shouldRender() {\n        return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical;\n    }\n    get reloadReason() {\n        if (!this.newSnapshot.isVisitable) {\n            return {\n                reason: \"turbo_visit_control_is_reload\",\n            };\n        }\n        if (!this.trackedElementsAreIdentical) {\n            return {\n                reason: \"tracked_element_mismatch\",\n            };\n        }\n    }\n    async prepareToRender() {\n        await this.mergeHead();\n    }\n    async render() {\n        if (this.willRender) {\n            await this.replaceBody();\n        }\n    }\n    finishRendering() {\n        super.finishRendering();\n        if (!this.isPreview) {\n            this.focusFirstAutofocusableElement();\n        }\n    }\n    get currentHeadSnapshot() {\n        return this.currentSnapshot.headSnapshot;\n    }\n    get newHeadSnapshot() {\n        return this.newSnapshot.headSnapshot;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    async mergeHead() {\n        const mergedHeadElements = this.mergeProvisionalElements();\n        const newStylesheetElements = this.copyNewHeadStylesheetElements();\n        this.copyNewHeadScriptElements();\n        await mergedHeadElements;\n        await newStylesheetElements;\n    }\n    async replaceBody() {\n        await this.preservingPermanentElements(async () => {\n            this.activateNewBody();\n            await this.assignNewBody();\n        });\n    }\n    get trackedElementsAreIdentical() {\n        return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;\n    }\n    async copyNewHeadStylesheetElements() {\n        const loadingElements = [];\n        for (const element of this.newHeadStylesheetElements) {\n            loadingElements.push(waitForLoad(element));\n            document.head.appendChild(element);\n        }\n        await Promise.all(loadingElements);\n    }\n    copyNewHeadScriptElements() {\n        for (const element of this.newHeadScriptElements) {\n            document.head.appendChild(activateScriptElement(element));\n        }\n    }\n    async mergeProvisionalElements() {\n        const newHeadElements = [...this.newHeadProvisionalElements];\n        for (const element of this.currentHeadProvisionalElements) {\n            if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n                document.head.removeChild(element);\n            }\n        }\n        for (const element of newHeadElements) {\n            document.head.appendChild(element);\n        }\n    }\n    isCurrentElementInElementList(element, elementList) {\n        for (const [index, newElement] of elementList.entries()) {\n            if (element.tagName == \"TITLE\") {\n                if (newElement.tagName != \"TITLE\") {\n                    continue;\n                }\n                if (element.innerHTML == newElement.innerHTML) {\n                    elementList.splice(index, 1);\n                    return true;\n                }\n            }\n            if (newElement.isEqualNode(element)) {\n                elementList.splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    }\n    removeCurrentHeadProvisionalElements() {\n        for (const element of this.currentHeadProvisionalElements) {\n            document.head.removeChild(element);\n        }\n    }\n    copyNewHeadProvisionalElements() {\n        for (const element of this.newHeadProvisionalElements) {\n            document.head.appendChild(element);\n        }\n    }\n    activateNewBody() {\n        document.adoptNode(this.newElement);\n        this.activateNewBodyScriptElements();\n    }\n    activateNewBodyScriptElements() {\n        for (const inertScriptElement of this.newBodyScriptElements) {\n            const activatedScriptElement = activateScriptElement(inertScriptElement);\n            inertScriptElement.replaceWith(activatedScriptElement);\n        }\n    }\n    async assignNewBody() {\n        await this.renderElement(this.currentElement, this.newElement);\n    }\n    get newHeadStylesheetElements() {\n        return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get newHeadScriptElements() {\n        return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get currentHeadProvisionalElements() {\n        return this.currentHeadSnapshot.provisionalElements;\n    }\n    get newHeadProvisionalElements() {\n        return this.newHeadSnapshot.provisionalElements;\n    }\n    get newBodyScriptElements() {\n        return this.newElement.querySelectorAll(\"script\");\n    }\n}\n\nclass SnapshotCache {\n    constructor(size) {\n        this.keys = [];\n        this.snapshots = {};\n        this.size = size;\n    }\n    has(location) {\n        return toCacheKey(location) in this.snapshots;\n    }\n    get(location) {\n        if (this.has(location)) {\n            const snapshot = this.read(location);\n            this.touch(location);\n            return snapshot;\n        }\n    }\n    put(location, snapshot) {\n        this.write(location, snapshot);\n        this.touch(location);\n        return snapshot;\n    }\n    clear() {\n        this.snapshots = {};\n    }\n    read(location) {\n        return this.snapshots[toCacheKey(location)];\n    }\n    write(location, snapshot) {\n        this.snapshots[toCacheKey(location)] = snapshot;\n    }\n    touch(location) {\n        const key = toCacheKey(location);\n        const index = this.keys.indexOf(key);\n        if (index > -1)\n            this.keys.splice(index, 1);\n        this.keys.unshift(key);\n        this.trim();\n    }\n    trim() {\n        for (const key of this.keys.splice(this.size)) {\n            delete this.snapshots[key];\n        }\n    }\n}\n\nclass PageView extends View {\n    constructor() {\n        super(...arguments);\n        this.snapshotCache = new SnapshotCache(10);\n        this.lastRenderedLocation = new URL(location.href);\n        this.forceReloaded = false;\n    }\n    renderPage(snapshot, isPreview = false, willRender = true, visit) {\n        const renderer = new PageRenderer(this.snapshot, snapshot, PageRenderer.renderElement, isPreview, willRender);\n        if (!renderer.shouldRender) {\n            this.forceReloaded = true;\n        }\n        else {\n            visit === null || visit === void 0 ? void 0 : visit.changeHistory();\n        }\n        return this.render(renderer);\n    }\n    renderError(snapshot, visit) {\n        visit === null || visit === void 0 ? void 0 : visit.changeHistory();\n        const renderer = new ErrorRenderer(this.snapshot, snapshot, ErrorRenderer.renderElement, false);\n        return this.render(renderer);\n    }\n    clearSnapshotCache() {\n        this.snapshotCache.clear();\n    }\n    async cacheSnapshot(snapshot = this.snapshot) {\n        if (snapshot.isCacheable) {\n            this.delegate.viewWillCacheSnapshot();\n            const { lastRenderedLocation: location } = this;\n            await nextEventLoopTick();\n            const cachedSnapshot = snapshot.clone();\n            this.snapshotCache.put(location, cachedSnapshot);\n            return cachedSnapshot;\n        }\n    }\n    getCachedSnapshotForLocation(location) {\n        return this.snapshotCache.get(location);\n    }\n    get snapshot() {\n        return PageSnapshot.fromElement(this.element);\n    }\n}\n\nclass Preloader {\n    constructor(delegate) {\n        this.selector = \"a[data-turbo-preload]\";\n        this.delegate = delegate;\n    }\n    get snapshotCache() {\n        return this.delegate.navigator.view.snapshotCache;\n    }\n    start() {\n        if (document.readyState === \"loading\") {\n            return document.addEventListener(\"DOMContentLoaded\", () => {\n                this.preloadOnLoadLinksForView(document.body);\n            });\n        }\n        else {\n            this.preloadOnLoadLinksForView(document.body);\n        }\n    }\n    preloadOnLoadLinksForView(element) {\n        for (const link of element.querySelectorAll(this.selector)) {\n            this.preloadURL(link);\n        }\n    }\n    async preloadURL(link) {\n        const location = new URL(link.href);\n        if (this.snapshotCache.has(location)) {\n            return;\n        }\n        try {\n            const response = await fetch(location.toString(), { headers: { \"VND.PREFETCH\": \"true\", Accept: \"text/html\" } });\n            const responseText = await response.text();\n            const snapshot = PageSnapshot.fromHTMLString(responseText);\n            this.snapshotCache.put(location, snapshot);\n        }\n        catch (_) {\n        }\n    }\n}\n\nclass Session {\n    constructor() {\n        this.navigator = new Navigator(this);\n        this.history = new History(this);\n        this.preloader = new Preloader(this);\n        this.view = new PageView(this, document.documentElement);\n        this.adapter = new BrowserAdapter(this);\n        this.pageObserver = new PageObserver(this);\n        this.cacheObserver = new CacheObserver();\n        this.linkClickObserver = new LinkClickObserver(this, window);\n        this.formSubmitObserver = new FormSubmitObserver(this, document);\n        this.scrollObserver = new ScrollObserver(this);\n        this.streamObserver = new StreamObserver(this);\n        this.formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement);\n        this.frameRedirector = new FrameRedirector(this, document.documentElement);\n        this.streamMessageRenderer = new StreamMessageRenderer();\n        this.drive = true;\n        this.enabled = true;\n        this.progressBarDelay = 500;\n        this.started = false;\n        this.formMode = \"on\";\n    }\n    start() {\n        if (!this.started) {\n            this.pageObserver.start();\n            this.cacheObserver.start();\n            this.formLinkClickObserver.start();\n            this.linkClickObserver.start();\n            this.formSubmitObserver.start();\n            this.scrollObserver.start();\n            this.streamObserver.start();\n            this.frameRedirector.start();\n            this.history.start();\n            this.preloader.start();\n            this.started = true;\n            this.enabled = true;\n        }\n    }\n    disable() {\n        this.enabled = false;\n    }\n    stop() {\n        if (this.started) {\n            this.pageObserver.stop();\n            this.cacheObserver.stop();\n            this.formLinkClickObserver.stop();\n            this.linkClickObserver.stop();\n            this.formSubmitObserver.stop();\n            this.scrollObserver.stop();\n            this.streamObserver.stop();\n            this.frameRedirector.stop();\n            this.history.stop();\n            this.started = false;\n        }\n    }\n    registerAdapter(adapter) {\n        this.adapter = adapter;\n    }\n    visit(location, options = {}) {\n        const frameElement = options.frame ? document.getElementById(options.frame) : null;\n        if (frameElement instanceof FrameElement) {\n            frameElement.src = location.toString();\n            frameElement.loaded;\n        }\n        else {\n            this.navigator.proposeVisit(expandURL(location), options);\n        }\n    }\n    connectStreamSource(source) {\n        this.streamObserver.connectStreamSource(source);\n    }\n    disconnectStreamSource(source) {\n        this.streamObserver.disconnectStreamSource(source);\n    }\n    renderStreamMessage(message) {\n        this.streamMessageRenderer.render(StreamMessage.wrap(message));\n    }\n    clearCache() {\n        this.view.clearSnapshotCache();\n    }\n    setProgressBarDelay(delay) {\n        this.progressBarDelay = delay;\n    }\n    setFormMode(mode) {\n        this.formMode = mode;\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    historyPoppedToLocationWithRestorationIdentifier(location, restorationIdentifier) {\n        if (this.enabled) {\n            this.navigator.startVisit(location, restorationIdentifier, {\n                action: \"restore\",\n                historyChanged: true,\n            });\n        }\n        else {\n            this.adapter.pageInvalidated({\n                reason: \"turbo_disabled\",\n            });\n        }\n    }\n    scrollPositionChanged(position) {\n        this.history.updateRestorationData({ scrollPosition: position });\n    }\n    willSubmitFormLinkToLocation(link, location) {\n        return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation);\n    }\n    submittedFormLinkToLocation() { }\n    willFollowLinkToLocation(link, location, event) {\n        return (this.elementIsNavigatable(link) &&\n            locationIsVisitable(location, this.snapshot.rootLocation) &&\n            this.applicationAllowsFollowingLinkToLocation(link, location, event));\n    }\n    followedLinkToLocation(link, location) {\n        const action = this.getActionForLink(link);\n        const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n        this.visit(location.href, { action, acceptsStreamResponse });\n    }\n    allowsVisitingLocationWithAction(location, action) {\n        return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location);\n    }\n    visitProposedToLocation(location, options) {\n        extendURLWithDeprecatedProperties(location);\n        this.adapter.visitProposedToLocation(location, options);\n    }\n    visitStarted(visit) {\n        if (!visit.acceptsStreamResponse) {\n            markAsBusy(document.documentElement);\n        }\n        extendURLWithDeprecatedProperties(visit.location);\n        if (!visit.silent) {\n            this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n        }\n    }\n    visitCompleted(visit) {\n        clearBusyState(document.documentElement);\n        this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n    }\n    locationWithActionIsSamePage(location, action) {\n        return this.navigator.locationWithActionIsSamePage(location, action);\n    }\n    visitScrolledToSamePageLocation(oldURL, newURL) {\n        this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n    }\n    willSubmitForm(form, submitter) {\n        const action = getAction(form, submitter);\n        return (this.submissionIsNavigatable(form, submitter) &&\n            locationIsVisitable(expandURL(action), this.snapshot.rootLocation));\n    }\n    formSubmitted(form, submitter) {\n        this.navigator.submitForm(form, submitter);\n    }\n    pageBecameInteractive() {\n        this.view.lastRenderedLocation = this.location;\n        this.notifyApplicationAfterPageLoad();\n    }\n    pageLoaded() {\n        this.history.assumeControlOfScrollRestoration();\n    }\n    pageWillUnload() {\n        this.history.relinquishControlOfScrollRestoration();\n    }\n    receivedMessageFromStream(message) {\n        this.renderStreamMessage(message);\n    }\n    viewWillCacheSnapshot() {\n        var _a;\n        if (!((_a = this.navigator.currentVisit) === null || _a === void 0 ? void 0 : _a.silent)) {\n            this.notifyApplicationBeforeCachingSnapshot();\n        }\n    }\n    allowsImmediateRender({ element }, options) {\n        const event = this.notifyApplicationBeforeRender(element, options);\n        const { defaultPrevented, detail: { render }, } = event;\n        if (this.view.renderer && render) {\n            this.view.renderer.renderElement = render;\n        }\n        return !defaultPrevented;\n    }\n    viewRenderedSnapshot(_snapshot, _isPreview) {\n        this.view.lastRenderedLocation = this.history.location;\n        this.notifyApplicationAfterRender();\n    }\n    preloadOnLoadLinksForView(element) {\n        this.preloader.preloadOnLoadLinksForView(element);\n    }\n    viewInvalidated(reason) {\n        this.adapter.pageInvalidated(reason);\n    }\n    frameLoaded(frame) {\n        this.notifyApplicationAfterFrameLoad(frame);\n    }\n    frameRendered(fetchResponse, frame) {\n        this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n    }\n    applicationAllowsFollowingLinkToLocation(link, location, ev) {\n        const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n        return !event.defaultPrevented;\n    }\n    applicationAllowsVisitingLocation(location) {\n        const event = this.notifyApplicationBeforeVisitingLocation(location);\n        return !event.defaultPrevented;\n    }\n    notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n        return dispatch(\"turbo:click\", {\n            target: link,\n            detail: { url: location.href, originalEvent: event },\n            cancelable: true,\n        });\n    }\n    notifyApplicationBeforeVisitingLocation(location) {\n        return dispatch(\"turbo:before-visit\", {\n            detail: { url: location.href },\n            cancelable: true,\n        });\n    }\n    notifyApplicationAfterVisitingLocation(location, action) {\n        return dispatch(\"turbo:visit\", { detail: { url: location.href, action } });\n    }\n    notifyApplicationBeforeCachingSnapshot() {\n        return dispatch(\"turbo:before-cache\");\n    }\n    notifyApplicationBeforeRender(newBody, options) {\n        return dispatch(\"turbo:before-render\", {\n            detail: Object.assign({ newBody }, options),\n            cancelable: true,\n        });\n    }\n    notifyApplicationAfterRender() {\n        return dispatch(\"turbo:render\");\n    }\n    notifyApplicationAfterPageLoad(timing = {}) {\n        return dispatch(\"turbo:load\", {\n            detail: { url: this.location.href, timing },\n        });\n    }\n    notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n        dispatchEvent(new HashChangeEvent(\"hashchange\", {\n            oldURL: oldURL.toString(),\n            newURL: newURL.toString(),\n        }));\n    }\n    notifyApplicationAfterFrameLoad(frame) {\n        return dispatch(\"turbo:frame-load\", { target: frame });\n    }\n    notifyApplicationAfterFrameRender(fetchResponse, frame) {\n        return dispatch(\"turbo:frame-render\", {\n            detail: { fetchResponse },\n            target: frame,\n            cancelable: true,\n        });\n    }\n    submissionIsNavigatable(form, submitter) {\n        if (this.formMode == \"off\") {\n            return false;\n        }\n        else {\n            const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n            if (this.formMode == \"optin\") {\n                return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null;\n            }\n            else {\n                return submitterIsNavigatable && this.elementIsNavigatable(form);\n            }\n        }\n    }\n    elementIsNavigatable(element) {\n        const container = findClosestRecursively(element, \"[data-turbo]\");\n        const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n        if (this.drive || withinFrame) {\n            if (container) {\n                return container.getAttribute(\"data-turbo\") != \"false\";\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            if (container) {\n                return container.getAttribute(\"data-turbo\") == \"true\";\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    getActionForLink(link) {\n        return getVisitAction(link) || \"advance\";\n    }\n    get snapshot() {\n        return this.view.snapshot;\n    }\n}\nfunction extendURLWithDeprecatedProperties(url) {\n    Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\nconst deprecatedLocationPropertyDescriptors = {\n    absoluteURL: {\n        get() {\n            return this.toString();\n        },\n    },\n};\n\nclass Cache {\n    constructor(session) {\n        this.session = session;\n    }\n    clear() {\n        this.session.clearCache();\n    }\n    resetCacheControl() {\n        this.setCacheControl(\"\");\n    }\n    exemptPageFromCache() {\n        this.setCacheControl(\"no-cache\");\n    }\n    exemptPageFromPreview() {\n        this.setCacheControl(\"no-preview\");\n    }\n    setCacheControl(value) {\n        setMetaContent(\"turbo-cache-control\", value);\n    }\n}\n\nconst StreamActions = {\n    after() {\n        this.targetElements.forEach((e) => { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e.nextSibling); });\n    },\n    append() {\n        this.removeDuplicateTargetChildren();\n        this.targetElements.forEach((e) => e.append(this.templateContent));\n    },\n    before() {\n        this.targetElements.forEach((e) => { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e); });\n    },\n    prepend() {\n        this.removeDuplicateTargetChildren();\n        this.targetElements.forEach((e) => e.prepend(this.templateContent));\n    },\n    remove() {\n        this.targetElements.forEach((e) => e.remove());\n    },\n    replace() {\n        this.targetElements.forEach((e) => e.replaceWith(this.templateContent));\n    },\n    update() {\n        this.targetElements.forEach((targetElement) => {\n            targetElement.innerHTML = \"\";\n            targetElement.append(this.templateContent);\n        });\n    },\n};\n\nconst session = new Session();\nconst cache = new Cache(session);\nconst { navigator: navigator$1 } = session;\nfunction start() {\n    session.start();\n}\nfunction registerAdapter(adapter) {\n    session.registerAdapter(adapter);\n}\nfunction visit(location, options) {\n    session.visit(location, options);\n}\nfunction connectStreamSource(source) {\n    session.connectStreamSource(source);\n}\nfunction disconnectStreamSource(source) {\n    session.disconnectStreamSource(source);\n}\nfunction renderStreamMessage(message) {\n    session.renderStreamMessage(message);\n}\nfunction clearCache() {\n    console.warn(\"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\");\n    session.clearCache();\n}\nfunction setProgressBarDelay(delay) {\n    session.setProgressBarDelay(delay);\n}\nfunction setConfirmMethod(confirmMethod) {\n    FormSubmission.confirmMethod = confirmMethod;\n}\nfunction setFormMode(mode) {\n    session.setFormMode(mode);\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    navigator: navigator$1,\n    session: session,\n    cache: cache,\n    PageRenderer: PageRenderer,\n    PageSnapshot: PageSnapshot,\n    FrameRenderer: FrameRenderer,\n    start: start,\n    registerAdapter: registerAdapter,\n    visit: visit,\n    connectStreamSource: connectStreamSource,\n    disconnectStreamSource: disconnectStreamSource,\n    renderStreamMessage: renderStreamMessage,\n    clearCache: clearCache,\n    setProgressBarDelay: setProgressBarDelay,\n    setConfirmMethod: setConfirmMethod,\n    setFormMode: setFormMode,\n    StreamActions: StreamActions\n});\n\nclass FrameController {\n    constructor(element) {\n        this.fetchResponseLoaded = (_fetchResponse) => { };\n        this.currentFetchRequest = null;\n        this.resolveVisitPromise = () => { };\n        this.connected = false;\n        this.hasBeenLoaded = false;\n        this.ignoredAttributes = new Set();\n        this.action = null;\n        this.visitCachedSnapshot = ({ element }) => {\n            const frame = element.querySelector(\"#\" + this.element.id);\n            if (frame && this.previousFrameElement) {\n                frame.replaceChildren(...this.previousFrameElement.children);\n            }\n            delete this.previousFrameElement;\n        };\n        this.element = element;\n        this.view = new FrameView(this, this.element);\n        this.appearanceObserver = new AppearanceObserver(this, this.element);\n        this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n        this.linkInterceptor = new LinkInterceptor(this, this.element);\n        this.restorationIdentifier = uuid();\n        this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n    }\n    connect() {\n        if (!this.connected) {\n            this.connected = true;\n            if (this.loadingStyle == FrameLoadingStyle.lazy) {\n                this.appearanceObserver.start();\n            }\n            else {\n                this.loadSourceURL();\n            }\n            this.formLinkClickObserver.start();\n            this.linkInterceptor.start();\n            this.formSubmitObserver.start();\n        }\n    }\n    disconnect() {\n        if (this.connected) {\n            this.connected = false;\n            this.appearanceObserver.stop();\n            this.formLinkClickObserver.stop();\n            this.linkInterceptor.stop();\n            this.formSubmitObserver.stop();\n        }\n    }\n    disabledChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.eager) {\n            this.loadSourceURL();\n        }\n    }\n    sourceURLChanged() {\n        if (this.isIgnoringChangesTo(\"src\"))\n            return;\n        if (this.element.isConnected) {\n            this.complete = false;\n        }\n        if (this.loadingStyle == FrameLoadingStyle.eager || this.hasBeenLoaded) {\n            this.loadSourceURL();\n        }\n    }\n    sourceURLReloaded() {\n        const { src } = this.element;\n        this.ignoringChangesToAttribute(\"complete\", () => {\n            this.element.removeAttribute(\"complete\");\n        });\n        this.element.src = null;\n        this.element.src = src;\n        return this.element.loaded;\n    }\n    completeChanged() {\n        if (this.isIgnoringChangesTo(\"complete\"))\n            return;\n        this.loadSourceURL();\n    }\n    loadingStyleChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.lazy) {\n            this.appearanceObserver.start();\n        }\n        else {\n            this.appearanceObserver.stop();\n            this.loadSourceURL();\n        }\n    }\n    async loadSourceURL() {\n        if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n            this.element.loaded = this.visit(expandURL(this.sourceURL));\n            this.appearanceObserver.stop();\n            await this.element.loaded;\n            this.hasBeenLoaded = true;\n        }\n    }\n    async loadResponse(fetchResponse) {\n        if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n            this.sourceURL = fetchResponse.response.url;\n        }\n        try {\n            const html = await fetchResponse.responseHTML;\n            if (html) {\n                const { body } = parseHTMLDocument(html);\n                const newFrameElement = await this.extractForeignFrameElement(body);\n                if (newFrameElement) {\n                    const snapshot = new Snapshot(newFrameElement);\n                    const renderer = new FrameRenderer(this, this.view.snapshot, snapshot, FrameRenderer.renderElement, false, false);\n                    if (this.view.renderPromise)\n                        await this.view.renderPromise;\n                    this.changeHistory();\n                    await this.view.render(renderer);\n                    this.complete = true;\n                    session.frameRendered(fetchResponse, this.element);\n                    session.frameLoaded(this.element);\n                    this.fetchResponseLoaded(fetchResponse);\n                }\n                else if (this.willHandleFrameMissingFromResponse(fetchResponse)) {\n                    console.warn(`A matching frame for #${this.element.id} was missing from the response, transforming into full-page Visit.`);\n                    this.visitResponse(fetchResponse.response);\n                }\n            }\n        }\n        catch (error) {\n            console.error(error);\n            this.view.invalidate();\n        }\n        finally {\n            this.fetchResponseLoaded = () => { };\n        }\n    }\n    elementAppearedInViewport(element) {\n        this.proposeVisitIfNavigatedWithAction(element, element);\n        this.loadSourceURL();\n    }\n    willSubmitFormLinkToLocation(link) {\n        return this.shouldInterceptNavigation(link);\n    }\n    submittedFormLinkToLocation(link, _location, form) {\n        const frame = this.findFrameElement(link);\n        if (frame)\n            form.setAttribute(\"data-turbo-frame\", frame.id);\n    }\n    shouldInterceptLinkClick(element, _location, _event) {\n        return this.shouldInterceptNavigation(element);\n    }\n    linkClickIntercepted(element, location) {\n        this.navigateFrame(element, location);\n    }\n    willSubmitForm(element, submitter) {\n        return element.closest(\"turbo-frame\") == this.element && this.shouldInterceptNavigation(element, submitter);\n    }\n    formSubmitted(element, submitter) {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n        }\n        this.formSubmission = new FormSubmission(this, element, submitter);\n        const { fetchRequest } = this.formSubmission;\n        this.prepareRequest(fetchRequest);\n        this.formSubmission.start();\n    }\n    prepareRequest(request) {\n        var _a;\n        request.headers[\"Turbo-Frame\"] = this.id;\n        if ((_a = this.currentNavigationElement) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"data-turbo-stream\")) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted(_request) {\n        markAsBusy(this.element);\n    }\n    requestPreventedHandlingResponse(_request, _response) {\n        this.resolveVisitPromise();\n    }\n    async requestSucceededWithResponse(request, response) {\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    async requestFailedWithResponse(request, response) {\n        console.error(response);\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    requestErrored(request, error) {\n        console.error(error);\n        this.resolveVisitPromise();\n    }\n    requestFinished(_request) {\n        clearBusyState(this.element);\n    }\n    formSubmissionStarted({ formElement }) {\n        markAsBusy(formElement, this.findFrameElement(formElement));\n    }\n    formSubmissionSucceededWithResponse(formSubmission, response) {\n        const frame = this.findFrameElement(formSubmission.formElement, formSubmission.submitter);\n        frame.delegate.proposeVisitIfNavigatedWithAction(frame, formSubmission.formElement, formSubmission.submitter);\n        frame.delegate.loadResponse(response);\n    }\n    formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        this.element.delegate.loadResponse(fetchResponse);\n    }\n    formSubmissionErrored(formSubmission, error) {\n        console.error(error);\n    }\n    formSubmissionFinished({ formElement }) {\n        clearBusyState(formElement, this.findFrameElement(formElement));\n    }\n    allowsImmediateRender({ element: newFrame }, options) {\n        const event = dispatch(\"turbo:before-frame-render\", {\n            target: this.element,\n            detail: Object.assign({ newFrame }, options),\n            cancelable: true,\n        });\n        const { defaultPrevented, detail: { render }, } = event;\n        if (this.view.renderer && render) {\n            this.view.renderer.renderElement = render;\n        }\n        return !defaultPrevented;\n    }\n    viewRenderedSnapshot(_snapshot, _isPreview) { }\n    preloadOnLoadLinksForView(element) {\n        session.preloadOnLoadLinksForView(element);\n    }\n    viewInvalidated() { }\n    willRenderFrame(currentElement, _newElement) {\n        this.previousFrameElement = currentElement.cloneNode(true);\n    }\n    async visit(url) {\n        var _a;\n        const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n        (_a = this.currentFetchRequest) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.currentFetchRequest = request;\n        return new Promise((resolve) => {\n            this.resolveVisitPromise = () => {\n                this.resolveVisitPromise = () => { };\n                this.currentFetchRequest = null;\n                resolve();\n            };\n            request.perform();\n        });\n    }\n    navigateFrame(element, url, submitter) {\n        const frame = this.findFrameElement(element, submitter);\n        frame.delegate.proposeVisitIfNavigatedWithAction(frame, element, submitter);\n        this.withCurrentNavigationElement(element, () => {\n            frame.src = url;\n        });\n    }\n    proposeVisitIfNavigatedWithAction(frame, element, submitter) {\n        this.action = getVisitAction(submitter, element, frame);\n        if (this.action) {\n            const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n            const { visitCachedSnapshot } = frame.delegate;\n            frame.delegate.fetchResponseLoaded = (fetchResponse) => {\n                if (frame.src) {\n                    const { statusCode, redirected } = fetchResponse;\n                    const responseHTML = frame.ownerDocument.documentElement.outerHTML;\n                    const response = { statusCode, redirected, responseHTML };\n                    const options = {\n                        response,\n                        visitCachedSnapshot,\n                        willRender: false,\n                        updateHistory: false,\n                        restorationIdentifier: this.restorationIdentifier,\n                        snapshot: pageSnapshot,\n                    };\n                    if (this.action)\n                        options.action = this.action;\n                    session.visit(frame.src, options);\n                }\n            };\n        }\n    }\n    changeHistory() {\n        if (this.action) {\n            const method = getHistoryMethodForAction(this.action);\n            session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n        }\n    }\n    willHandleFrameMissingFromResponse(fetchResponse) {\n        this.element.setAttribute(\"complete\", \"\");\n        const response = fetchResponse.response;\n        const visit = async (url, options = {}) => {\n            if (url instanceof Response) {\n                this.visitResponse(url);\n            }\n            else {\n                session.visit(url, options);\n            }\n        };\n        const event = dispatch(\"turbo:frame-missing\", {\n            target: this.element,\n            detail: { response, visit },\n            cancelable: true,\n        });\n        return !event.defaultPrevented;\n    }\n    async visitResponse(response) {\n        const wrapped = new FetchResponse(response);\n        const responseHTML = await wrapped.responseHTML;\n        const { location, redirected, statusCode } = wrapped;\n        return session.visit(location, { response: { redirected, statusCode, responseHTML } });\n    }\n    findFrameElement(element, submitter) {\n        var _a;\n        const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n        return (_a = getFrameElementById(id)) !== null && _a !== void 0 ? _a : this.element;\n    }\n    async extractForeignFrameElement(container) {\n        let element;\n        const id = CSS.escape(this.id);\n        try {\n            element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n            if (element) {\n                return element;\n            }\n            element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n            if (element) {\n                await element.loaded;\n                return await this.extractForeignFrameElement(element);\n            }\n        }\n        catch (error) {\n            console.error(error);\n            return new FrameElement();\n        }\n        return null;\n    }\n    formActionIsVisitable(form, submitter) {\n        const action = getAction(form, submitter);\n        return locationIsVisitable(expandURL(action), this.rootLocation);\n    }\n    shouldInterceptNavigation(element, submitter) {\n        const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n        if (element instanceof HTMLFormElement && !this.formActionIsVisitable(element, submitter)) {\n            return false;\n        }\n        if (!this.enabled || id == \"_top\") {\n            return false;\n        }\n        if (id) {\n            const frameElement = getFrameElementById(id);\n            if (frameElement) {\n                return !frameElement.disabled;\n            }\n        }\n        if (!session.elementIsNavigatable(element)) {\n            return false;\n        }\n        if (submitter && !session.elementIsNavigatable(submitter)) {\n            return false;\n        }\n        return true;\n    }\n    get id() {\n        return this.element.id;\n    }\n    get enabled() {\n        return !this.element.disabled;\n    }\n    get sourceURL() {\n        if (this.element.src) {\n            return this.element.src;\n        }\n    }\n    set sourceURL(sourceURL) {\n        this.ignoringChangesToAttribute(\"src\", () => {\n            this.element.src = sourceURL !== null && sourceURL !== void 0 ? sourceURL : null;\n        });\n    }\n    get loadingStyle() {\n        return this.element.loading;\n    }\n    get isLoading() {\n        return this.formSubmission !== undefined || this.resolveVisitPromise() !== undefined;\n    }\n    get complete() {\n        return this.element.hasAttribute(\"complete\");\n    }\n    set complete(value) {\n        this.ignoringChangesToAttribute(\"complete\", () => {\n            if (value) {\n                this.element.setAttribute(\"complete\", \"\");\n            }\n            else {\n                this.element.removeAttribute(\"complete\");\n            }\n        });\n    }\n    get isActive() {\n        return this.element.isActive && this.connected;\n    }\n    get rootLocation() {\n        var _a;\n        const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n        const root = (_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    isIgnoringChangesTo(attributeName) {\n        return this.ignoredAttributes.has(attributeName);\n    }\n    ignoringChangesToAttribute(attributeName, callback) {\n        this.ignoredAttributes.add(attributeName);\n        callback();\n        this.ignoredAttributes.delete(attributeName);\n    }\n    withCurrentNavigationElement(element, callback) {\n        this.currentNavigationElement = element;\n        callback();\n        delete this.currentNavigationElement;\n    }\n}\nfunction getFrameElementById(id) {\n    if (id != null) {\n        const element = document.getElementById(id);\n        if (element instanceof FrameElement) {\n            return element;\n        }\n    }\n}\nfunction activateElement(element, currentURL) {\n    if (element) {\n        const src = element.getAttribute(\"src\");\n        if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n            throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`);\n        }\n        if (element.ownerDocument !== document) {\n            element = document.importNode(element, true);\n        }\n        if (element instanceof FrameElement) {\n            element.connectedCallback();\n            element.disconnectedCallback();\n            return element;\n        }\n    }\n}\n\nclass StreamElement extends HTMLElement {\n    static async renderElement(newElement) {\n        await newElement.performAction();\n    }\n    async connectedCallback() {\n        try {\n            await this.render();\n        }\n        catch (error) {\n            console.error(error);\n        }\n        finally {\n            this.disconnect();\n        }\n    }\n    async render() {\n        var _a;\n        return ((_a = this.renderPromise) !== null && _a !== void 0 ? _a : (this.renderPromise = (async () => {\n            const event = this.beforeRenderEvent;\n            if (this.dispatchEvent(event)) {\n                await nextAnimationFrame();\n                await event.detail.render(this);\n            }\n        })()));\n    }\n    disconnect() {\n        try {\n            this.remove();\n        }\n        catch (_a) { }\n    }\n    removeDuplicateTargetChildren() {\n        this.duplicateChildren.forEach((c) => c.remove());\n    }\n    get duplicateChildren() {\n        var _a;\n        const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);\n        const newChildrenIds = [...(((_a = this.templateContent) === null || _a === void 0 ? void 0 : _a.children) || [])].filter((c) => !!c.id).map((c) => c.id);\n        return existingChildren.filter((c) => newChildrenIds.includes(c.id));\n    }\n    get performAction() {\n        if (this.action) {\n            const actionFunction = StreamActions[this.action];\n            if (actionFunction) {\n                return actionFunction;\n            }\n            this.raise(\"unknown action\");\n        }\n        this.raise(\"action attribute is missing\");\n    }\n    get targetElements() {\n        if (this.target) {\n            return this.targetElementsById;\n        }\n        else if (this.targets) {\n            return this.targetElementsByQuery;\n        }\n        else {\n            this.raise(\"target or targets attribute is missing\");\n        }\n    }\n    get templateContent() {\n        return this.templateElement.content.cloneNode(true);\n    }\n    get templateElement() {\n        if (this.firstElementChild === null) {\n            const template = this.ownerDocument.createElement(\"template\");\n            this.appendChild(template);\n            return template;\n        }\n        else if (this.firstElementChild instanceof HTMLTemplateElement) {\n            return this.firstElementChild;\n        }\n        this.raise(\"first child element must be a <template> element\");\n    }\n    get action() {\n        return this.getAttribute(\"action\");\n    }\n    get target() {\n        return this.getAttribute(\"target\");\n    }\n    get targets() {\n        return this.getAttribute(\"targets\");\n    }\n    raise(message) {\n        throw new Error(`${this.description}: ${message}`);\n    }\n    get description() {\n        var _a, _b;\n        return (_b = ((_a = this.outerHTML.match(/<[^>]+>/)) !== null && _a !== void 0 ? _a : [])[0]) !== null && _b !== void 0 ? _b : \"<turbo-stream>\";\n    }\n    get beforeRenderEvent() {\n        return new CustomEvent(\"turbo:before-stream-render\", {\n            bubbles: true,\n            cancelable: true,\n            detail: { newStream: this, render: StreamElement.renderElement },\n        });\n    }\n    get targetElementsById() {\n        var _a;\n        const element = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.getElementById(this.target);\n        if (element !== null) {\n            return [element];\n        }\n        else {\n            return [];\n        }\n    }\n    get targetElementsByQuery() {\n        var _a;\n        const elements = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.querySelectorAll(this.targets);\n        if (elements.length !== 0) {\n            return Array.prototype.slice.call(elements);\n        }\n        else {\n            return [];\n        }\n    }\n}\n\nclass StreamSourceElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.streamSource = null;\n    }\n    connectedCallback() {\n        this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n        connectStreamSource(this.streamSource);\n    }\n    disconnectedCallback() {\n        if (this.streamSource) {\n            disconnectStreamSource(this.streamSource);\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\") || \"\";\n    }\n}\n\nFrameElement.delegateConstructor = FrameController;\nif (customElements.get(\"turbo-frame\") === undefined) {\n    customElements.define(\"turbo-frame\", FrameElement);\n}\nif (customElements.get(\"turbo-stream\") === undefined) {\n    customElements.define(\"turbo-stream\", StreamElement);\n}\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n    customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n    let element = document.currentScript;\n    if (!element)\n        return;\n    if (element.hasAttribute(\"data-turbo-suppress-warning\"))\n        return;\n    element = element.parentElement;\n    while (element) {\n        if (element == document.body) {\n            return console.warn(unindent `\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `, element.outerHTML);\n        }\n        element = element.parentElement;\n    }\n})();\n\nwindow.Turbo = Turbo;\nstart();\n\nexport { FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, connectStreamSource, disconnectStreamSource, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n","/*\nStimulus 3.2.1\nCopyright © 2022 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[1];\n    let keyFilter = matches[2];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[3]),\n        eventName,\n        eventOptions: matches[6] ? parseEventOptions(matches[6]) : {},\n        identifier: matches[4],\n        methodName: matches[5],\n        keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    isFilterTarget(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filteres = this.keyFilter.split(\"+\");\n        const modifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\n        const [meta, ctrl, alt, shift] = modifiers.map((modifier) => filteres.includes(modifier));\n        if (event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift) {\n            return true;\n        }\n        const standardFilter = filteres.filter((key) => !modifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(event)) {\n            this.invokeWithEvent(event);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            const { params } = this.action;\n            const actionEvent = Object.assign(event, { params });\n            this.method.call(this.controller, actionEvent);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.isFilterTarget(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(node, attributeName) {\n        const element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details = {}) {\n        this.selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const matches = element.matches(this.selector);\n        if (this.delegate.selectorMatchElement) {\n            return matches && this.delegate.selectorMatchElement(element, this.details);\n        }\n        return matches;\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector)).filter((match) => this.matchElement(match));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        this.selectorMatched(element);\n    }\n    elementUnmatched(element) {\n        this.selectorUnmatched(element);\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const matches = this.matchElement(element);\n        const matchedBefore = this.matchesByElement.has(this.selector, element);\n        if (!matches && matchedBefore) {\n            this.selectorUnmatched(element);\n        }\n    }\n    selectorMatched(element) {\n        if (this.delegate.selectorMatched) {\n            this.delegate.selectorMatched(element, this.selector, this.details);\n            this.matchesByElement.add(this.selector, element);\n        }\n    }\n    selectorUnmatched(element) {\n        this.delegate.selectorUnmatched(element, this.selector, this.details);\n        this.matchesByElement.delete(this.selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n    }\n    start() {\n        if (this.selectorObserverMap.size === 0) {\n            this.outletDefinitions.forEach((outletName) => {\n                const selector = this.selector(outletName);\n                const details = { outletName };\n                if (selector) {\n                    this.selectorObserverMap.set(outletName, new SelectorObserver(document.body, selector, this, details));\n                }\n            });\n            this.selectorObserverMap.forEach((observer) => observer.start());\n        }\n        this.dependentContexts.forEach((context) => context.refresh());\n    }\n    stop() {\n        if (this.selectorObserverMap.size > 0) {\n            this.disconnectAllOutlets();\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        return (this.hasOutlet(element, outletName) &&\n            element.matches(`[${this.context.application.schema.controllerAttribute}~=${outletName}]`));\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad(definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outlet = this.outlets.find(name);\n                if (outlet) {\n                    const outletController = this.application.getControllerForElementAndIdentifier(outlet, name);\n                    if (outletController) {\n                        return outletController;\n                    }\n                    else {\n                        throw new Error(`Missing \"data-controller=${name}\" attribute on outlet element for \"${this.identifier}\" controller`);\n                    }\n                }\n                throw new Error(`Missing outlet element \"${name}\" for \"${this.identifier}\" controller`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outlet) => {\n                        const controller = this.application.getControllerForElementAndIdentifier(outlet, name);\n                        if (controller) {\n                            return controller;\n                        }\n                        else {\n                            console.warn(`The provided outlet element is missing the outlet controller \"${name}\" for \"${this.identifier}\"`, outlet);\n                        }\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outlet = this.outlets.find(name);\n                if (outlet) {\n                    return outlet;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const typeFromObject = parseValueTypeConstant(payload.typeObject.type);\n    if (!typeFromObject)\n        return;\n    const defaultValueType = parseValueTypeDefault(payload.typeObject.default);\n    if (typeFromObject !== defaultValueType) {\n        const propertyPath = payload.controller ? `${payload.controller}.${payload.token}` : payload.token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${payload.typeObject.default}\" is of type \"${defaultValueType}\".`);\n    }\n    return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const typeFromObject = parseValueTypeObject({\n        controller: payload.controller,\n        token: payload.token,\n        typeObject: payload.typeDefinition,\n    });\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(payload.typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = payload.controller ? `${payload.controller}.${payload.typeDefinition}` : payload.token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${payload.token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const defaultValue = typeDefinition.default;\n    if (defaultValue !== undefined)\n        return defaultValue;\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const key = `${dasherize(payload.token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(payload.typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(payload.typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value);\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.1\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n\nvar timeoutDuration = function () {\n  var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}();\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width']) + parseFloat(styles['border' + sideB + 'Width']);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.width;\n  var height = sizes.height || element.clientHeight || result.height;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop);\n    var marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized]);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width']);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n","import BSN from 'bootstrap.native/dist/bootstrap-native-v4'\nimport bsnPopper from '../lib/bsn_popper.js'\nimport { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n    connect() {\n        BSN.initCallback(this.element)\n        bsnPopper(this.element)\n    }\n}","import Popper from 'popper.js'\n\n// Wire in popper.js support. This ensure popups stays within the viewport.\n// See: https://github.com/thednp/bootstrap.native/issues/211\nexport default function(el) {\n    el.querySelectorAll(\"div.dropdown > button\").forEach(function(button) {\n        button.addEventListener(\"click\", function(evt) {\n            let menu = button.parentElement.children.item(1);\n\n            if (menu.classList.contains(\"show\")) {\n                menu.removeAttribute(\"x-placement\");\n                menu.removeAttribute(\"style\");\n\n                let popper = new Popper(button, menu, {\n                    modifiers: {\n                        preventOverflow: { enabled: true },\n                        flip: { enabled: true},\n                        hide: { enabled: false}\n                    }\n                });\n            }\n        })\n    });\n}","import { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n  static targets = [\"button\", \"source\"]\n\n  copy() {\n    let btn = this.buttonTarget\n\n    navigator.clipboard.writeText(this.sourceTarget.value).then(function () {\n      btn.disabled = true\n\n      let icon = btn.querySelector(\".if\")\n      let text = btn.querySelector(\".btn-text\")\n      let origBtnClass = btn.className\n      let origIconClass = icon.className\n      let origTextClass = text.className\n      let origText = text.innerText\n\n      btn.classList.remove(\"btn-outline-secondary\")\n      btn.classList.add(\"btn-outline-success\")\n\n      icon.classList.remove(\"if-copy\", \"text-primary\")\n      icon.classList.add(\"if-check\", \"text-success\")\n\n      text.classList.remove(\"text-primary\")\n      text.classList.add(\"text-success\")\n      text.setAttribute(\"aria-live\", \"polite\")\n      text.innerText = \"Link copied\"\n\n      setTimeout(function () {\n        btn.className  = origBtnClass\n        icon.className = origIconClass\n        text.className = origTextClass\n        text.innerText = origText\n\n        btn.disabled = false\n      }, 1500)\n    })\n  }\n\n  select() {\n    this.sourceTarget.select()\n  }\n}","import toast from './toast.js'\nimport formSubmit from './form_submit.js'\nimport formUploadProgress from './form_upload_progress.js'\n\nwindow.addEventListener(\"DOMContentLoaded\", (evt) => {\n    toast(document)\n    formSubmit(document)\n    formUploadProgress(document)\n})\n\n// old above, new below\n\nimport '@hotwired/turbo'\nimport { Application } from \"@hotwired/stimulus\"\nimport BaseController from \"./controllers/base_controller\"\nimport ClipboardController from \"./controllers/clipboard_controller\"\n\nTurbo.session.drive = false\n\nconst app = Application.start()\napp.register(\"base\", BaseController)\napp.register(\"clipboard\", ClipboardController)\n","export default function (rootEl) {\n    rootEl.querySelectorAll('[data-dismiss=\"toast\"]').forEach((el) => {\n        el.Toast.show()\n    })\n}","export default function(rootEl) {\n    rootEl.querySelectorAll(\"[data-submit-target]\").forEach((btn) => {\n        btn.addEventListener(\"click\", () => {\n            let form = document.querySelector(btn.dataset.submitTarget)\n            form.submit()\n        });\n    });\n\n    rootEl.querySelectorAll(\"form.change-submit\").forEach((form) => {\n        form.addEventListener(\"change\", () => {\n            let btn = form.querySelector(\"button[type='submit']\")\n            if (btn !== null) {\n                btn.disabled = true\n                let loadingText = btn.dataset.loading || \"Loading...\"\n                btn.innerHTML = '<span class=\"spinner-border\" role=\"status\" aria-hidden=\"true\"></span> ' + \n                    loadingText\n            }\n            form.submit()\n        });\n    });\n}","/*!\n  * Native JavaScript for Bootstrap v4.1.0 (https://thednp.github.io/bootstrap.native/)\n  * Copyright 2015-2022 © dnp_theme\n  * Licensed under MIT (https://github.com/thednp/bootstrap.native/blob/master/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.BSN = factory());\n})(this, (function () { 'use strict';\n\n  /**\n   * A global namespace for `document.head`.\n   */\n  var documentHead = document.head;\n\n  /**\n   * A global `boolean` for CSS3 transition support.\n   * @type {boolean}\n   */\n  var supportTransition = 'webkitTransition' in documentHead.style || 'transition' in documentHead.style;\n\n  /**\n   * A global namespace for 'transitionend' string.\n   * @type {string}\n   */\n  var transitionEndEvent = 'webkitTransition' in documentHead.style ? 'webkitTransitionEnd' : 'transitionend';\n\n  /**\n   * A global namespace for 'transitionDelay' string.\n   * @type {string}\n   */\n  var transitionDelay = 'webkitTransition' in documentHead.style ? 'webkitTransitionDelay' : 'transitionDelay';\n\n  /**\n   * A global namespace for:\n   * * `transitionProperty` string for modern brosers,\n   * * `webkitTransition` for legacy Chrome / Safari browsers\n   *\n   * @type {string}\n   */\n  var transitionProperty = 'webkitTransition' in documentHead.style ? 'webkitTransitionProperty' : 'transitionProperty';\n\n  /**\n   * Shortcut for `window.getComputedStyle(element).propertyName`\n   * static method.\n   *\n   * * If `element` parameter is not an `HTMLElement`, `getComputedStyle`\n   * throws a `ReferenceError`.\n   *\n   * @param {HTMLElement | Element} element target\n   * @param {string} property the css property\n   * @return {string} the css property value\n   */\n  function getElementStyle(element, property) {\n    var computedStyle = getComputedStyle(element);\n\n    // @ts-ignore -- must use camelcase strings,\n    // or non-camelcase strings with `getPropertyValue`\n    return property in computedStyle ? computedStyle[property] : '';\n  }\n\n  /**\n   * Utility to get the computed `transitionDelay`\n   * from Element in miliseconds.\n   *\n   * @param {HTMLElement | Element} element target\n   * @return {number} the value in miliseconds\n   */\n  function getElementTransitionDelay(element) {\n    var propertyValue = getElementStyle(element, transitionProperty);\n    var delayValue = getElementStyle(element, transitionDelay);\n    var delayScale = delayValue.includes('ms') ? 1 : 1000;\n    var duration = supportTransition && propertyValue && propertyValue !== 'none'\n      ? parseFloat(delayValue) * delayScale : 0;\n\n    return !Number.isNaN(duration) ? duration : 0;\n  }\n\n  /**\n   * A global namespace for 'transitionDuration' string.\n   * @type {string}\n   */\n  var transitionDuration = 'webkitTransition' in documentHead.style ? 'webkitTransitionDuration' : 'transitionDuration';\n\n  /**\n   * Utility to get the computed `transitionDuration`\n   * from Element in miliseconds.\n   *\n   * @param {HTMLElement | Element} element target\n   * @return {number} the value in miliseconds\n   */\n  function getElementTransitionDuration(element) {\n    var propertyValue = getElementStyle(element, transitionProperty);\n    var durationValue = getElementStyle(element, transitionDuration);\n    var durationScale = durationValue.includes('ms') ? 1 : 1000;\n    var duration = supportTransition && propertyValue && propertyValue !== 'none'\n      ? parseFloat(durationValue) * durationScale : 0;\n\n    return !Number.isNaN(duration) ? duration : 0;\n  }\n\n  /**\n   * Utility to make sure callbacks are consistently\n   * called when transition ends.\n   *\n   * @param {HTMLElement | Element} element target\n   * @param {EventListener} handler `transitionend` callback\n   */\n  function emulateTransitionEnd(element, handler) {\n    var called = 0;\n    var endEvent = new Event(transitionEndEvent);\n    var duration = getElementTransitionDuration(element);\n    var delay = getElementTransitionDelay(element);\n\n    if (supportTransition && duration) {\n      /**\n       * Wrap the handler in on -> off callback\n       * @param {Event} e Event object\n       */\n      var transitionEndWrapper = function (e) {\n        if (e.target === element) {\n          handler.apply(element, [e]);\n          element.removeEventListener(transitionEndEvent, transitionEndWrapper);\n          called = 1;\n        }\n      };\n      element.addEventListener(transitionEndEvent, transitionEndWrapper);\n      setTimeout(function () {\n        if (!called) { element.dispatchEvent(endEvent); }\n      }, duration + delay + 17);\n    } else {\n      handler.apply(element, [endEvent]);\n    }\n  }\n\n  /**\n   * Returns the `document` or the `#document` element.\n   * @see https://github.com/floating-ui/floating-ui\n   * @param {(Node | HTMLElement | Element | globalThis)=} node\n   * @returns {Document}\n   */\n  function getDocument(node) {\n    if (node instanceof HTMLElement) { return node.ownerDocument; }\n    if (node instanceof Window) { return node.document; }\n    return window.document;\n  }\n\n  /**\n   * A global array of possible `ParentNode`.\n   */\n  var parentNodes = [Document, Element, HTMLElement];\n\n  /**\n   * A global array with `Element` | `HTMLElement`.\n   */\n  var elementNodes = [Element, HTMLElement];\n\n  /**\n   * Utility to check if target is typeof `HTMLElement`, `Element`, `Node`\n   * or find one that matches a selector.\n   *\n   * @param {HTMLElement | Element | string} selector the input selector or target element\n   * @param {(HTMLElement | Element | Document)=} parent optional node to look into\n   * @return {(HTMLElement | Element)?} the `HTMLElement` or `querySelector` result\n   */\n  function querySelector(selector, parent) {\n    var lookUp = parentNodes.some(function (x) { return parent instanceof x; })\n      ? parent : getDocument();\n\n    // @ts-ignore\n    return elementNodes.some(function (x) { return selector instanceof x; })\n      // @ts-ignore\n      ? selector : lookUp.querySelector(selector);\n  }\n\n  /** BSN v4 custom event */\n  function bootstrapCustomEvent(eventType, componentName, eventProperties) {\n    var OriginalCustomEvent = new CustomEvent((eventType + \".bs.\" + componentName), { cancelable: true });\n\n    if (typeof eventProperties !== 'undefined') {\n      Object.keys(eventProperties).forEach(function (key) {\n        Object.defineProperty(OriginalCustomEvent, key, {\n          value: eventProperties[key],\n        });\n      });\n    }\n    return OriginalCustomEvent;\n  }\n\n  /**\n   * A quick shortcut for `dispatchEvent` v4.\n   * @param {CustomEvent} customEvent the event object\n   */\n  function dispatchCustomEvent(customEvent) {\n    if (this) { this.dispatchEvent(customEvent); }\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Alert\n  -------------------------------------------- */\n\n  // ALERT DEFINITION\n  // ================\n\n  function Alert(elem) {\n    var element;\n\n    // bind\n    var self = this;\n\n    // the target alert\n    var alert;\n\n    // custom events\n    var closeCustomEvent = bootstrapCustomEvent('close', 'alert');\n    var closedCustomEvent = bootstrapCustomEvent('closed', 'alert');\n\n    // private methods\n    function triggerHandler() {\n      if (alert.classList.contains('fade')) { emulateTransitionEnd(alert, transitionEndHandler); }\n      else { transitionEndHandler(); }\n    }\n    function toggleEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      element[action]('click', clickHandler, false);\n    }\n\n    // event handlers\n    function clickHandler(e) {\n      alert = e && e.target.closest('.alert');\n      element = querySelector('[data-dismiss=\"alert\"]', alert);\n      if (element && alert && (element === e.target || element.contains(e.target))) { self.close(); }\n    }\n    function transitionEndHandler() {\n      toggleEvents();\n      alert.parentNode.removeChild(alert);\n      dispatchCustomEvent.call(alert, closedCustomEvent);\n    }\n\n    // PUBLIC METHODS\n    self.close = function () {\n      if (alert && element && alert.classList.contains('show')) {\n        dispatchCustomEvent.call(alert, closeCustomEvent);\n        if (closeCustomEvent.defaultPrevented) { return; }\n        self.dispose();\n        alert.classList.remove('show');\n        triggerHandler();\n      }\n    };\n\n    self.dispose = function () {\n      toggleEvents();\n      delete element.Alert;\n    };\n\n    // INIT\n    // initialization element\n    element = querySelector(elem);\n\n    // find the target alert\n    alert = element.closest('.alert');\n\n    // reset on re-init\n    if (element.Alert) { element.Alert.dispose(); }\n\n    // prevent adding event handlers twice\n    if (!element.Alert) { toggleEvents(1); }\n\n    // store init object within target element\n    self.element = element;\n    element.Alert = self;\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Button\n  ---------------------------------------------*/\n\n  // BUTTON DEFINITION\n  // =================\n\n  function Button(elem) {\n    var element;\n\n    // bind and labels\n    var self = this;\n    var labels;\n\n    // changeEvent\n    var changeCustomEvent = bootstrapCustomEvent('change', 'button');\n\n    // private methods\n    function toggle(e) {\n      var eTarget = e.target;\n      var parentLabel = eTarget.closest('LABEL'); // the .btn label\n      var label = null;\n\n      if (eTarget.tagName === 'LABEL') {\n        label = eTarget;\n      } else if (parentLabel) {\n        label = parentLabel;\n      }\n\n      // current input\n      var input = label && label.getElementsByTagName('INPUT')[0];\n\n      // invalidate if no input\n      if (!input) { return; }\n\n      dispatchCustomEvent.call(input, changeCustomEvent); // trigger the change for the input\n      dispatchCustomEvent.call(element, changeCustomEvent); // trigger the change for the btn-group\n\n      // manage the dom manipulation\n      if (input.type === 'checkbox') { // checkboxes\n        if (changeCustomEvent.defaultPrevented) { return; } // discontinue when defaultPrevented is true\n\n        if (!input.checked) {\n          label.classList.add('active');\n          input.getAttribute('checked');\n          input.setAttribute('checked', 'checked');\n          input.checked = true;\n        } else {\n          label.classList.remove('active');\n          input.getAttribute('checked');\n          input.removeAttribute('checked');\n          input.checked = false;\n        }\n\n        if (!element.toggled) { // prevent triggering the event twice\n          element.toggled = true;\n        }\n      }\n\n      if (input.type === 'radio' && !element.toggled) { // radio buttons\n        if (changeCustomEvent.defaultPrevented) { return; }\n        // don't trigger if already active\n        // (the OR condition is a hack to check if the buttons were selected\n        // with key press and NOT mouse click)\n        if (!input.checked || (e.screenX === 0 && e.screenY === 0)) {\n          label.classList.add('active');\n          label.classList.add('focus');\n          input.setAttribute('checked', 'checked');\n          input.checked = true;\n\n          element.toggled = true;\n          Array.from(labels).forEach(function (otherLabel) {\n            var otherInput = otherLabel.getElementsByTagName('INPUT')[0];\n            if (otherLabel !== label && otherLabel.classList.contains('active')) {\n              dispatchCustomEvent.call(otherInput, changeCustomEvent); // trigger the change\n              otherLabel.classList.remove('active');\n              otherInput.removeAttribute('checked');\n              otherInput.checked = false;\n            }\n          });\n        }\n      }\n      setTimeout(function () { element.toggled = false; }, 50);\n    }\n\n    // handlers\n    function keyHandler(e) {\n      var key = e.which || e.keyCode;\n      if (key === 32 && e.target === document.activeElement) { toggle(e); }\n    }\n    function preventScroll(e) {\n      var key = e.which || e.keyCode;\n      if (key === 32) { e.preventDefault(); }\n    }\n    function focusToggle(e) {\n      if (e.target.tagName === 'INPUT') {\n        var action = e.type === 'focusin' ? 'add' : 'remove';\n        e.target.closest('.btn').classList[action]('focus');\n      }\n    }\n    function toggleEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      element[action]('click', toggle, false);\n      element[action]('keyup', keyHandler, false);\n      element[action]('keydown', preventScroll, false);\n      element[action]('focusin', focusToggle, false);\n      element[action]('focusout', focusToggle, false);\n    }\n\n    // public method\n    self.dispose = function () {\n      toggleEvents();\n      delete element.Button;\n    };\n\n    // init\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Button) { element.Button.dispose(); }\n\n    labels = element.getElementsByClassName('btn');\n\n    // invalidate\n    if (!labels.length) { return; }\n\n    // prevent adding event handlers twice\n    if (!element.Button) { toggleEvents(1); }\n\n    // set initial toggled state\n    // toggled makes sure to prevent triggering twice the change.bs.button events\n    element.toggled = false;\n\n    // associate target with init object\n    element.Button = self;\n\n    // activate items on load\n    Array.from(labels).forEach(function (btn) {\n      var hasChecked = querySelector('input:checked', btn);\n      if (!btn.classList.contains('active') && hasChecked) {\n        btn.classList.add('active');\n      }\n      if (btn.classList.contains('active') && !hasChecked) {\n        btn.classList.remove('active');\n      }\n    });\n  }\n\n  /**\n   * A global namespace for mouse hover events.\n   * @type {[string, string]}\n   */\n  var mouseHoverEvents = ('onmouseleave' in document) ? ['mouseenter', 'mouseleave'] : ['mouseover', 'mouseout'];\n\n  /**\n   * A global namespace for most scroll event listeners.\n   * @type {Partial<AddEventListenerOptions>}\n   */\n  var passiveHandler = { passive: true };\n\n  /**\n   * Returns the bounding client rect of a target `HTMLElement`.\n   *\n   * @see https://github.com/floating-ui/floating-ui\n   *\n   * @param {HTMLElement | Element} element event.target\n   * @param {boolean=} includeScale when *true*, the target scale is also computed\n   * @returns {SHORTER.BoundingClientRect} the bounding client rect object\n   */\n  function getBoundingClientRect(element, includeScale) {\n    var ref = element.getBoundingClientRect();\n    var width = ref.width;\n    var height = ref.height;\n    var top = ref.top;\n    var right = ref.right;\n    var bottom = ref.bottom;\n    var left = ref.left;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    if (includeScale && element instanceof HTMLElement) {\n      var offsetWidth = element.offsetWidth;\n      var offsetHeight = element.offsetHeight;\n      scaleX = offsetWidth > 0 ? Math.round(width) / offsetWidth || 1 : 1;\n      scaleY = offsetHeight > 0 ? Math.round(height) / offsetHeight || 1 : 1;\n    }\n\n    return {\n      width: width / scaleX,\n      height: height / scaleY,\n      top: top / scaleY,\n      right: right / scaleX,\n      bottom: bottom / scaleY,\n      left: left / scaleX,\n      x: left / scaleX,\n      y: top / scaleY,\n    };\n  }\n\n  /**\n   * Returns the `document.documentElement` or the `<html>` element.\n   *\n   * @param {(Node | HTMLElement | Element | globalThis)=} node\n   * @returns {HTMLElement | HTMLHtmlElement}\n   */\n  function getDocumentElement(node) {\n    return getDocument(node).documentElement;\n  }\n\n  /**\n   * Utility to determine if an `HTMLElement`\n   * is partially visible in viewport.\n   *\n   * @param {HTMLElement | Element} element target\n   * @return {boolean} the query result\n   */\n  var isElementInScrollRange = function (element) {\n    var ref = getBoundingClientRect(element);\n    var top = ref.top;\n    var bottom = ref.bottom;\n    var ref$1 = getDocumentElement(element);\n    var clientHeight = ref$1.clientHeight;\n    // checks bottom && top\n    return top <= clientHeight && bottom >= 0;\n  };\n\n  /**\n   * Utility to force re-paint of an `HTMLElement` target.\n   *\n   * @param {HTMLElement | Element} element is the target\n   * @return {number} the `Element.offsetHeight` value\n   */\n  // @ts-ignore\n  var reflow = function (element) { return element.offsetHeight; };\n\n  /* Native JavaScript for Bootstrap 4 | Carousel\n  ----------------------------------------------- */\n\n  // CAROUSEL DEFINITION\n  // ===================\n\n  function Carousel(elem, opsInput) {\n    var assign, assign$1, assign$2;\n\n    var element;\n\n    // set options\n    var options = opsInput || {};\n\n    // bind\n    var self = this;\n\n    // internal variables\n    var vars;\n    var ops;\n\n    // custom events\n    var slideCustomEvent;\n    var slidCustomEvent;\n\n    // carousel elements\n    var slides;\n    var leftArrow;\n    var rightArrow;\n    var indicator;\n    var indicators;\n\n    // handlers\n    function pauseHandler() {\n      if (ops.interval !== false && !element.classList.contains('paused')) {\n        element.classList.add('paused');\n        if (!vars.isSliding) {\n          clearInterval(vars.timer);\n          vars.timer = null;\n        }\n      }\n    }\n    function resumeHandler() {\n      if (ops.interval !== false && element.classList.contains('paused')) {\n        element.classList.remove('paused');\n        if (!vars.isSliding) {\n          clearInterval(vars.timer);\n          vars.timer = null;\n          self.cycle();\n        }\n      }\n    }\n    function indicatorHandler(e) {\n      e.preventDefault();\n      if (vars.isSliding) { return; }\n\n      var eventTarget = e.target; // event target | the current active item\n\n      if (eventTarget && !eventTarget.classList.contains('active') && eventTarget.getAttribute('data-slide-to')) {\n        vars.index = +(eventTarget.getAttribute('data-slide-to'));\n      } else { return; }\n\n      self.slideTo(vars.index); // Do the slide\n    }\n    function controlsHandler(e) {\n      e.preventDefault();\n      if (vars.isSliding) { return; }\n\n      var eventTarget = e.currentTarget || e.srcElement;\n\n      if (eventTarget === rightArrow) {\n        vars.index += 1;\n      } else if (eventTarget === leftArrow) {\n        vars.index -= 1;\n      }\n\n      self.slideTo(vars.index); // Do the slide\n    }\n    function keyHandler(ref) {\n      var which = ref.which;\n\n      if (vars.isSliding) { return; }\n      switch (which) {\n        case 39:\n          vars.index += 1;\n          break;\n        case 37:\n          vars.index -= 1;\n          break;\n        default: return;\n      }\n      self.slideTo(vars.index); // Do the slide\n    }\n    function toggleEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      if (ops.pause && ops.interval) {\n        element[action](mouseHoverEvents[0], pauseHandler, false);\n        element[action](mouseHoverEvents[1], resumeHandler, false);\n        element[action]('touchstart', pauseHandler, passiveHandler);\n        element[action]('touchend', resumeHandler, passiveHandler);\n      }\n\n      if (ops.touch && slides.length > 1) { element[action]('touchstart', touchDownHandler, passiveHandler); }\n\n      if (rightArrow) { rightArrow[action]('click', controlsHandler, false); }\n      if (leftArrow) { leftArrow[action]('click', controlsHandler, false); }\n\n      if (indicator) { indicator[action]('click', indicatorHandler, false); }\n      if (ops.keyboard) { window[action]('keydown', keyHandler, false); }\n    }\n    // touch events\n    function toggleTouchEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      element[action]('touchmove', touchMoveHandler, passiveHandler);\n      element[action]('touchend', touchEndHandler, passiveHandler);\n    }\n    function touchDownHandler(e) {\n      if (vars.isTouch) { return; }\n\n      vars.touchPosition.startX = e.changedTouches[0].pageX;\n\n      if (element.contains(e.target)) {\n        vars.isTouch = true;\n        toggleTouchEvents(1);\n      }\n    }\n    function touchMoveHandler(e) {\n      if (!vars.isTouch) { e.preventDefault(); return; }\n\n      vars.touchPosition.currentX = e.changedTouches[0].pageX;\n\n      // cancel touch if more than one changedTouches detected\n      if (e.type === 'touchmove' && e.changedTouches.length > 1) {\n        e.preventDefault();\n      }\n    }\n    function touchEndHandler(e) {\n      if (!vars.isTouch || vars.isSliding) { return; }\n\n      vars.touchPosition.endX = vars.touchPosition.currentX || e.changedTouches[0].pageX;\n\n      if (vars.isTouch) {\n        if ((!element.contains(e.target) || !element.contains(e.relatedTarget))\n            && Math.abs(vars.touchPosition.startX - vars.touchPosition.endX) < 75) {\n          return;\n        }\n        if (vars.touchPosition.currentX < vars.touchPosition.startX) {\n          vars.index += 1;\n        } else if (vars.touchPosition.currentX > vars.touchPosition.startX) {\n          vars.index -= 1;\n        }\n        vars.isTouch = false;\n        self.slideTo(vars.index);\n\n        toggleTouchEvents(); // remove\n      }\n    }\n    // private methods\n    function setActivePage(pageIndex) { // indicators\n      Array.from(indicators).forEach(function (x) { return x.classList.remove('active'); });\n      if (indicators[pageIndex]) { indicators[pageIndex].classList.add('active'); }\n    }\n    function transitionEndHandler(e) {\n      if (vars.touchPosition) {\n        var next = vars.index;\n        var timeout = e && e.target !== slides[next] ? e.elapsedTime * 1000 + 100 : 20;\n        var activeItem = self.getActiveIndex();\n        var orientation = vars.direction === 'left' ? 'next' : 'prev';\n\n        if (vars.isSliding) {\n          setTimeout(function () {\n            if (vars.touchPosition) {\n              vars.isSliding = false;\n\n              slides[next].classList.add('active');\n              slides[activeItem].classList.remove('active');\n\n              slides[next].classList.remove((\"carousel-item-\" + orientation));\n              slides[next].classList.remove((\"carousel-item-\" + (vars.direction)));\n              slides[activeItem].classList.remove((\"carousel-item-\" + (vars.direction)));\n\n              dispatchCustomEvent.call(element, slidCustomEvent);\n              // check for element, might have been disposed\n              if (!document.hidden && ops.interval && !element.classList.contains('paused')) {\n                self.cycle();\n              }\n            }\n          }, timeout);\n        }\n      }\n    }\n\n    // public methods\n    self.cycle = function () {\n      if (vars.timer) {\n        clearInterval(vars.timer);\n        vars.timer = null;\n      }\n\n      vars.timer = setInterval(function () {\n        var idx = vars.index || self.getActiveIndex();\n        if (isElementInScrollRange(element)) {\n          idx += 1;\n          self.slideTo(idx);\n        }\n      }, ops.interval);\n    };\n    self.slideTo = function (idx) {\n      if (vars.isSliding) { return; } // when controled via methods, make sure to check again\n\n      // the current active, orientation, event eventProperties\n      var activeItem = self.getActiveIndex();\n      var next = idx;\n\n      // first return if we're on the same item #227\n      if (activeItem === next) {\n        return;\n      // or determine slide direction\n      } if ((activeItem < next) || (activeItem === 0 && next === slides.length - 1)) {\n        vars.direction = 'left'; // next\n      } else if ((activeItem > next) || (activeItem === slides.length - 1 && next === 0)) {\n        vars.direction = 'right'; // prev\n      }\n\n      // find the right next index\n      if (next < 0) { next = slides.length - 1; }\n      else if (next >= slides.length) { next = 0; }\n\n      var orientation = vars.direction === 'left' ? 'next' : 'prev'; // determine type\n\n      var eventProperties = {\n        relatedTarget: slides[next], direction: vars.direction, from: activeItem, to: next,\n      };\n      slideCustomEvent = bootstrapCustomEvent('slide', 'carousel', eventProperties);\n      slidCustomEvent = bootstrapCustomEvent('slid', 'carousel', eventProperties);\n      dispatchCustomEvent.call(element, slideCustomEvent); // here we go with the slide\n      if (slideCustomEvent.defaultPrevented) { return; } // discontinue when prevented\n\n      // update index\n      vars.index = next;\n\n      vars.isSliding = true;\n      clearInterval(vars.timer);\n      vars.timer = null;\n      setActivePage(next);\n\n      if (getElementTransitionDuration(slides[next]) && element.classList.contains('slide')) {\n        slides[next].classList.add((\"carousel-item-\" + orientation));\n        reflow(slides[next]);\n        slides[next].classList.add((\"carousel-item-\" + (vars.direction)));\n        slides[activeItem].classList.add((\"carousel-item-\" + (vars.direction)));\n\n        emulateTransitionEnd(slides[next], transitionEndHandler);\n      } else {\n        slides[next].classList.add('active');\n        reflow(slides[next]);\n        slides[activeItem].classList.remove('active');\n        setTimeout(function () {\n          vars.isSliding = false;\n          // check for element, might have been disposed\n          if (ops.interval && element && !element.classList.contains('paused')) {\n            self.cycle();\n          }\n          dispatchCustomEvent.call(element, slidCustomEvent);\n        }, 100);\n      }\n    };\n\n    self.getActiveIndex = function () { return Array.from(slides).indexOf(element.getElementsByClassName('carousel-item active')[0]) || 0; };\n\n    self.dispose = function () {\n      var itemClasses = ['left', 'right', 'prev', 'next'];\n\n      Array.from(slides).forEach(function (slide, idx) {\n        if (slide.classList.contains('active')) { setActivePage(idx); }\n        itemClasses.forEach(function (cls) { return slide.classList.remove((\"carousel-item-\" + cls)); });\n      });\n      clearInterval(vars.timer);\n\n      toggleEvents();\n      vars = {};\n      ops = {};\n      delete element.Carousel;\n    };\n\n    // init\n\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Carousel) { element.Carousel.dispose(); }\n\n    // carousel elements\n    slides = element.getElementsByClassName('carousel-item');\n    (assign = element.getElementsByClassName('carousel-control-prev'), leftArrow = assign[0]);\n    (assign$1 = element.getElementsByClassName('carousel-control-next'), rightArrow = assign$1[0]);\n    (assign$2 = element.getElementsByClassName('carousel-indicators'), indicator = assign$2[0]);\n    indicators = (indicator && indicator.getElementsByTagName('LI')) || [];\n\n    // invalidate when not enough items\n    if (slides.length < 2) { return; }\n\n    // check options\n    // DATA API\n    var intervalAttribute = element.getAttribute('data-interval');\n    var intervalData = intervalAttribute === 'false' ? 0 : +(intervalAttribute);\n    var touchData = element.getAttribute('data-touch') === 'false' ? 0 : 1;\n    var pauseData = element.getAttribute('data-pause') === 'hover' || false;\n    var keyboardData = element.getAttribute('data-keyboard') === 'true' || false;\n\n    // JS options\n    var intervalOption = options.interval;\n    var touchOption = options.touch;\n\n    // set instance options\n    ops = {};\n    ops.keyboard = options.keyboard === true || keyboardData;\n    ops.pause = (options.pause === 'hover' || pauseData) ? 'hover' : false; // false / hover\n    ops.touch = touchOption || touchData;\n\n    ops.interval = 5000; // bootstrap carousel default interval\n\n    if (typeof intervalOption === 'number') { ops.interval = intervalOption; }\n    else if (intervalOption === false || intervalData === 0 || intervalData === false) {\n      ops.interval = 0;\n    } else if (!Number.isNaN(intervalData)) { ops.interval = intervalData; }\n\n    // set first slide active if none\n    if (self.getActiveIndex() < 0) {\n      if (slides.length) { slides[0].classList.add('active'); }\n      if (indicators.length) { setActivePage(0); }\n    }\n\n    // set initial state\n    vars = {};\n    vars.direction = 'left';\n    vars.index = 0;\n    vars.timer = null;\n    vars.isSliding = false;\n    vars.isTouch = false;\n    vars.touchPosition = {\n      startX: 0,\n      currentX: 0,\n      endX: 0,\n    };\n\n    // attach event handlers\n    toggleEvents(1);\n\n    // start to cycle if interval is set\n    if (ops.interval) { self.cycle(); }\n\n    // associate init object to target\n    element.Carousel = self;\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Collapse\n  ----------------------------------------------- */\n\n  // COLLAPSE DEFINITION\n  // ===================\n\n  function Collapse(elem, opsInput) {\n    var element;\n    // set options\n    var options = opsInput || {};\n\n    // bind\n    var self = this;\n\n    // target practice\n    var accordion = null;\n    var collapse = null;\n    var activeCollapse;\n    var activeElement;\n    // custom events\n    var showCustomEvent;\n    var shownCustomEvent;\n    var hideCustomEvent;\n    var hiddenCustomEvent;\n\n    // private methods\n    function openAction(collapseElement, toggle) {\n      dispatchCustomEvent.call(collapseElement, showCustomEvent);\n      if (showCustomEvent.defaultPrevented) { return; }\n      collapseElement.isAnimating = true;\n      collapseElement.classList.add('collapsing');\n      collapseElement.classList.remove('collapse');\n      collapseElement.style.height = (collapseElement.scrollHeight) + \"px\";\n\n      emulateTransitionEnd(collapseElement, function () {\n        collapseElement.isAnimating = false;\n        collapseElement.setAttribute('aria-expanded', 'true');\n        toggle.setAttribute('aria-expanded', 'true');\n        collapseElement.classList.remove('collapsing');\n        collapseElement.classList.add('collapse');\n        collapseElement.classList.add('show');\n        collapseElement.style.height = '';\n        dispatchCustomEvent.call(collapseElement, shownCustomEvent);\n      });\n    }\n    function closeAction(collapseElement, toggle) {\n      dispatchCustomEvent.call(collapseElement, hideCustomEvent);\n      if (hideCustomEvent.defaultPrevented) { return; }\n      collapseElement.isAnimating = true;\n      collapseElement.style.height = (collapseElement.scrollHeight) + \"px\"; // set height first\n      collapseElement.classList.remove('collapse');\n      collapseElement.classList.remove('show');\n      collapseElement.classList.add('collapsing');\n      reflow(collapseElement); // force reflow to enable transition\n      collapseElement.style.height = '0px';\n\n      emulateTransitionEnd(collapseElement, function () {\n        collapseElement.isAnimating = false;\n        collapseElement.setAttribute('aria-expanded', 'false');\n        toggle.setAttribute('aria-expanded', 'false');\n        collapseElement.classList.remove('collapsing');\n        collapseElement.classList.add('collapse');\n        collapseElement.style.height = '';\n        dispatchCustomEvent.call(collapseElement, hiddenCustomEvent);\n      });\n    }\n\n    // public methods\n    self.toggle = function (e) {\n      if ((e && e.target.tagName === 'A') || element.tagName === 'A') { e.preventDefault(); }\n      if (element.contains(e.target) || e.target === element) {\n        if (!collapse.classList.contains('show')) { self.show(); }\n        else { self.hide(); }\n      }\n    };\n    self.hide = function () {\n      if (collapse.isAnimating) { return; }\n      closeAction(collapse, element);\n      element.classList.add('collapsed');\n    };\n    self.show = function () {\n      var assign;\n\n      if (accordion) {\n        (assign = accordion.getElementsByClassName('collapse show'), activeCollapse = assign[0]);\n        activeElement = activeCollapse && (querySelector((\"[data-target=\\\"#\" + (activeCollapse.id) + \"\\\"]\"), accordion)\n                      || querySelector((\"[href=\\\"#\" + (activeCollapse.id) + \"\\\"]\"), accordion));\n      }\n\n      if (!collapse.isAnimating) {\n        if (activeElement && activeCollapse !== collapse) {\n          closeAction(activeCollapse, activeElement);\n          activeElement.classList.add('collapsed');\n        }\n        openAction(collapse, element);\n        element.classList.remove('collapsed');\n      }\n    };\n    self.dispose = function () {\n      element.removeEventListener('click', self.toggle, false);\n      delete element.Collapse;\n    };\n\n    // init\n\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Collapse) { element.Collapse.dispose(); }\n\n    // DATA API\n    var accordionData = element.getAttribute('data-parent');\n\n    // custom events\n    showCustomEvent = bootstrapCustomEvent('show', 'collapse');\n    shownCustomEvent = bootstrapCustomEvent('shown', 'collapse');\n    hideCustomEvent = bootstrapCustomEvent('hide', 'collapse');\n    hiddenCustomEvent = bootstrapCustomEvent('hidden', 'collapse');\n\n    // determine targets\n    collapse = querySelector(options.target || element.getAttribute('data-target') || element.getAttribute('href'));\n\n    if (collapse !== null) { collapse.isAnimating = false; }\n    var accordionSelector = options.parent || accordionData;\n    if (accordionSelector) {\n      accordion = element.closest(accordionSelector);\n    } else {\n      accordion = null;\n    }\n\n    // prevent adding event handlers twice\n    if (!element.Collapse) {\n      element.addEventListener('click', self.toggle, false);\n    }\n\n    // associate target to init object\n    element.Collapse = self;\n  }\n\n  /**\n   * Points the focus to a specific element.\n   * @param {HTMLElement} element target\n   */\n  var setFocus = function (element) { return element.focus(); };\n\n  /* Native JavaScript for Bootstrap 4 | Dropdown\n  ----------------------------------------------- */\n\n  // DROPDOWN DEFINITION\n  // ===================\n\n  function Dropdown(elem, option) {\n    var element;\n\n    // bind\n    var self = this;\n\n    // custom events\n    var showCustomEvent;\n    var shownCustomEvent;\n    var hideCustomEvent;\n    var hiddenCustomEvent;\n    // targets\n    var relatedTarget = null;\n    var parent; var menu; var menuItems = [];\n    // option\n    var persist;\n\n    // preventDefault on empty anchor links\n    function preventEmptyAnchor(anchor) {\n      if ((anchor.hasAttribute('href') && anchor.href.slice(-1) === '#') || (anchor.parentNode\n        && anchor.parentNode.hasAttribute('href')\n        && anchor.parentNode.href.slice(-1) === '#')) { this.preventDefault(); }\n    }\n    // toggle dismissible events\n    function toggleDismiss() {\n      var action = element.open ? 'addEventListener' : 'removeEventListener';\n      document[action]('click', dismissHandler, false);\n      document[action]('keydown', preventScroll, false);\n      document[action]('keyup', keyHandler, false);\n      document[action]('focus', dismissHandler, false);\n    }\n    // handlers\n    function dismissHandler(e) {\n      var eventTarget = e.target;\n      if (!eventTarget.getAttribute) { return; } // some weird FF bug #409\n      var hasData = ((eventTarget && (eventTarget.getAttribute('data-toggle')))\n                                  || (eventTarget.parentNode && eventTarget.parentNode.getAttribute\n                                  && eventTarget.parentNode.getAttribute('data-toggle')));\n      if (e.type === 'focus' && (eventTarget === element || eventTarget === menu || menu.contains(eventTarget))) {\n        return;\n      }\n      if ((eventTarget === menu || menu.contains(eventTarget)) && (persist || hasData)) { return; }\n\n      relatedTarget = eventTarget === element || element.contains(eventTarget) ? element : null;\n      self.hide();\n\n      preventEmptyAnchor.call(e, eventTarget);\n    }\n    function clickHandler(e) {\n      relatedTarget = element;\n      self.show();\n      preventEmptyAnchor.call(e, e.target);\n    }\n    function preventScroll(e) {\n      var key = e.which || e.keyCode;\n      if (key === 38 || key === 40) { e.preventDefault(); }\n    }\n    function keyHandler(e) {\n      var key = e.which || e.keyCode;\n      var activeItem = document.activeElement;\n      var isSameElement = activeItem === element;\n      var isInsideMenu = menu.contains(activeItem);\n      var isMenuItem = activeItem.parentNode === menu || activeItem.parentNode.parentNode === menu;\n      var idx = menuItems.indexOf(activeItem);\n\n      if (isMenuItem) { // navigate up | down\n        if (isSameElement) {\n          idx = 0;\n        } else if (key === 38) {\n          idx = idx > 1 ? idx - 1 : 0;\n        } else if (key === 40) {\n          idx = idx < menuItems.length - 1 ? idx + 1 : idx;\n        }\n\n        if (menuItems[idx]) { setFocus(menuItems[idx]); }\n      }\n      if (((menuItems.length && isMenuItem) // menu has items\n            || (!menuItems.length && (isInsideMenu || isSameElement)) // menu might be a form\n            || !isInsideMenu) // or the focused element is not in the menu at all\n            && element.open && key === 27 // menu must be open\n      ) {\n        self.toggle();\n        relatedTarget = null;\n      }\n    }\n\n    // public methods\n    self.show = function () {\n      showCustomEvent = bootstrapCustomEvent('show', 'dropdown', { relatedTarget: relatedTarget });\n      dispatchCustomEvent.call(parent, showCustomEvent);\n      if (showCustomEvent.defaultPrevented) { return; }\n\n      menu.classList.add('show');\n      parent.classList.add('show');\n      element.setAttribute('aria-expanded', true);\n      element.open = true;\n      element.removeEventListener('click', clickHandler, false);\n      setTimeout(function () {\n        setFocus(menu.getElementsByTagName('INPUT')[0] || element); // focus the first input item | element\n        toggleDismiss();\n        shownCustomEvent = bootstrapCustomEvent('shown', 'dropdown', { relatedTarget: relatedTarget });\n        dispatchCustomEvent.call(parent, shownCustomEvent);\n      }, 1);\n    };\n    self.hide = function () {\n      hideCustomEvent = bootstrapCustomEvent('hide', 'dropdown', { relatedTarget: relatedTarget });\n      dispatchCustomEvent.call(parent, hideCustomEvent);\n      if (hideCustomEvent.defaultPrevented) { return; }\n\n      menu.classList.remove('show');\n      parent.classList.remove('show');\n      element.setAttribute('aria-expanded', false);\n      element.open = false;\n      toggleDismiss();\n      setFocus(element);\n      setTimeout(function () {\n        // only re-attach handler if the init is not disposed\n        if (element.Dropdown) { element.addEventListener('click', clickHandler, false); }\n      }, 1);\n\n      hiddenCustomEvent = bootstrapCustomEvent('hidden', 'dropdown', { relatedTarget: relatedTarget });\n      dispatchCustomEvent.call(parent, hiddenCustomEvent);\n    };\n    self.toggle = function () {\n      if (parent.classList.contains('show') && element.open) { self.hide(); } else { self.show(); }\n    };\n    self.dispose = function () {\n      if (parent.classList.contains('show') && element.open) { self.hide(); }\n      element.removeEventListener('click', clickHandler, false);\n      delete element.Dropdown;\n    };\n\n    // init\n\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Dropdown) { element.Dropdown.dispose(); }\n\n    // set  targets\n    parent = element.parentNode;\n    menu = querySelector('.dropdown-menu', parent);\n\n    Array.from(menu.children).forEach(function (child) {\n      if (child.children.length && child.children[0].tagName === 'A') {\n        menuItems.push(child.children[0]);\n      }\n      if (child.tagName === 'A') { menuItems.push(child); }\n    });\n\n    // prevent adding event handlers twice\n    if (!element.Dropdown) {\n      if (!('tabindex' in menu)) { menu.setAttribute('tabindex', '0'); } // Fix onblur on Chrome | Safari\n      element.addEventListener('click', clickHandler, false);\n    }\n\n    // set option\n    persist = option === true || element.getAttribute('data-persist') === 'true' || false;\n\n    // set initial state to closed\n    element.open = false;\n\n    // associate element with init object\n    element.Dropdown = self;\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Modal\n  -------------------------------------------- */\n\n  // MODAL DEFINITION\n  // ================\n\n  function Modal(elem, opsInput) { // element can be the modal/triggering button\n    var element;\n\n    // set options\n    var options = opsInput || {};\n\n    // bind, modal\n    var self = this;\n    var modal;\n\n    // custom events\n    var showCustomEvent;\n    var shownCustomEvent;\n    var hideCustomEvent;\n    var hiddenCustomEvent;\n    // event targets and other\n    var relatedTarget = null;\n    var scrollBarWidth;\n    var overlay;\n    var overlayDelay;\n\n    // also find fixed-top / fixed-bottom items\n    var fixedItems;\n    var ops = {};\n\n    // private methods\n    function setScrollbar() {\n      var bodyClassList = document.body.classList;\n      var openModal = bodyClassList.contains('modal-open');\n      var bodyPad = parseInt(getComputedStyle(document.body).paddingRight, 10);\n      var docClientHeight = document.documentElement.clientHeight;\n      var docScrollHeight = document.documentElement.scrollHeight;\n      var bodyClientHeight = document.body.clientHeight;\n      var bodyScrollHeight = document.body.scrollHeight;\n      var bodyOverflow = docClientHeight !== docScrollHeight\n                      || bodyClientHeight !== bodyScrollHeight;\n      var modalOverflow = modal.clientHeight !== modal.scrollHeight;\n\n      scrollBarWidth = measureScrollbar();\n\n      modal.style.paddingRight = !modalOverflow && scrollBarWidth ? (scrollBarWidth + \"px\") : '';\n      document.body.style.paddingRight = modalOverflow || bodyOverflow\n        ? ((bodyPad + (openModal ? 0 : scrollBarWidth)) + \"px\") : '';\n\n      if (fixedItems.length) {\n        fixedItems.forEach(function (fixed) {\n          var itemPad = getComputedStyle(fixed).paddingRight;\n          fixed.style.paddingRight = modalOverflow || bodyOverflow\n            ? ((parseInt(itemPad, 10) + (openModal ? 0 : scrollBarWidth)) + \"px\")\n            : ((parseInt(itemPad, 10)) + \"px\");\n        });\n      }\n    }\n    function resetScrollbar() {\n      document.body.style.paddingRight = '';\n      modal.style.paddingRight = '';\n      if (fixedItems.length) {\n        fixedItems.forEach(function (fixed) {\n          fixed.style.paddingRight = '';\n        });\n      }\n    }\n    function measureScrollbar() {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.className = 'modal-scrollbar-measure'; // this is here to stay\n      document.body.appendChild(scrollDiv);\n      var widthValue = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n      return widthValue;\n    }\n    function createOverlay() {\n      var newOverlay = document.createElement('div');\n      overlay = querySelector('.modal-backdrop');\n\n      if (overlay === null) {\n        newOverlay.setAttribute('class', (\"modal-backdrop\" + (ops.animation ? ' fade' : '')));\n        overlay = newOverlay;\n        document.body.appendChild(overlay);\n      }\n      return overlay;\n    }\n    function removeOverlay() {\n      overlay = querySelector('.modal-backdrop');\n      if (overlay && !document.getElementsByClassName('modal show')[0]) {\n        document.body.removeChild(overlay); overlay = null;\n      }\n      if (overlay === null) {\n        document.body.classList.remove('modal-open');\n        resetScrollbar();\n      }\n    }\n    function toggleEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      window[action]('resize', self.update, passiveHandler);\n      modal[action]('click', dismissHandler, false);\n      document[action]('keydown', keyHandler, false);\n    }\n    // triggers\n    function beforeShow() {\n      modal.style.display = 'block';\n\n      setScrollbar();\n      if (!document.getElementsByClassName('modal show')[0]) { document.body.classList.add('modal-open'); }\n\n      modal.classList.add('show');\n      modal.setAttribute('aria-hidden', false);\n\n      if (modal.classList.contains('fade')) { emulateTransitionEnd(modal, triggerShow); }\n      else { triggerShow(); }\n    }\n    function triggerShow() {\n      setFocus(modal);\n      modal.isAnimating = false;\n\n      toggleEvents(1);\n\n      shownCustomEvent = bootstrapCustomEvent('shown', 'modal', { relatedTarget: relatedTarget });\n      dispatchCustomEvent.call(modal, shownCustomEvent);\n    }\n    function triggerHide(force) {\n      modal.style.display = '';\n      if (element) { setFocus(element); }\n\n      overlay = querySelector('.modal-backdrop');\n\n      // force can also be the transitionEvent object, we wanna make sure it's not\n      if (force !== 1 && overlay && overlay.classList.contains('show') && !document.getElementsByClassName('modal show')[0]) {\n        overlay.classList.remove('show');\n        emulateTransitionEnd(overlay, removeOverlay);\n      } else {\n        removeOverlay();\n      }\n\n      toggleEvents();\n\n      modal.isAnimating = false;\n\n      hiddenCustomEvent = bootstrapCustomEvent('hidden', 'modal');\n      dispatchCustomEvent.call(modal, hiddenCustomEvent);\n    }\n    // handlers\n    function clickHandler(e) {\n      if (modal.isAnimating) { return; }\n      var clickTarget = e.target;\n      var modalID = \"#\" + (modal.getAttribute('id'));\n      var targetAttrValue = clickTarget.getAttribute('data-target') || clickTarget.getAttribute('href');\n      var elemAttrValue = element.getAttribute('data-target') || element.getAttribute('href');\n\n      if (!modal.classList.contains('show')\n          && ((clickTarget === element && targetAttrValue === modalID)\n          || (element.contains(clickTarget) && elemAttrValue === modalID))) {\n        modal.modalTrigger = element;\n        relatedTarget = element;\n        self.show();\n        e.preventDefault();\n      }\n    }\n    function keyHandler(ref) {\n      var which = ref.which;\n\n      if (!modal.isAnimating && ops.keyboard && which === 27 && modal.classList.contains('show')) {\n        self.hide();\n      }\n    }\n    function dismissHandler(e) {\n      if (modal.isAnimating) { return; }\n      var clickTarget = e.target;\n      var hasData = clickTarget.getAttribute('data-dismiss') === 'modal';\n      var parentWithData = clickTarget.closest('[data-dismiss=\"modal\"]');\n\n      if (modal.classList.contains('show') && (parentWithData || hasData\n          || (clickTarget === modal && ops.backdrop !== 'static'))) {\n        self.hide(); relatedTarget = null;\n        e.preventDefault();\n      }\n    }\n\n    // public methods\n    self.toggle = function () {\n      if (modal.classList.contains('show')) { self.hide(); } else { self.show(); }\n    };\n    self.show = function () {\n      if (modal.classList.contains('show') && !!modal.isAnimating) { return; }\n\n      showCustomEvent = bootstrapCustomEvent('show', 'modal', { relatedTarget: relatedTarget });\n      dispatchCustomEvent.call(modal, showCustomEvent);\n\n      if (showCustomEvent.defaultPrevented) { return; }\n\n      modal.isAnimating = true;\n\n      // we elegantly hide any opened modal\n      var currentOpen = document.getElementsByClassName('modal show')[0];\n      if (currentOpen && currentOpen !== modal) {\n        if (currentOpen.modalTrigger) { currentOpen.modalTrigger.Modal.hide(); }\n        if (currentOpen.Modal) { currentOpen.Modal.hide(); }\n      }\n\n      if (ops.backdrop) { overlay = createOverlay(); }\n\n      if (overlay && !currentOpen && !overlay.classList.contains('show')) {\n        reflow(overlay);\n        overlayDelay = getElementTransitionDuration(overlay);\n        overlay.classList.add('show');\n      }\n\n      if (!currentOpen) { setTimeout(beforeShow, overlay && overlayDelay ? overlayDelay : 0); }\n      else { beforeShow(); }\n    };\n    self.hide = function (force) {\n      if (!modal.classList.contains('show')) { return; }\n\n      hideCustomEvent = bootstrapCustomEvent('hide', 'modal');\n      dispatchCustomEvent.call(modal, hideCustomEvent);\n      if (hideCustomEvent.defaultPrevented) { return; }\n\n      modal.isAnimating = true;\n\n      modal.classList.remove('show');\n      modal.setAttribute('aria-hidden', true);\n\n      if (modal.classList.contains('fade') && force !== 1) { emulateTransitionEnd(modal, triggerHide); }\n      else { triggerHide(); }\n    };\n    self.setContent = function (content) {\n      querySelector('.modal-content', modal).innerHTML = content;\n    };\n    self.update = function () {\n      if (modal.classList.contains('show')) {\n        setScrollbar();\n      }\n    };\n    self.dispose = function () {\n      self.hide(1);\n      if (element) { element.removeEventListener('click', clickHandler, false); delete element.Modal; } else { delete modal.Modal; }\n    };\n\n    // init\n\n    // the modal (both JavaScript / DATA API init) / triggering button element (DATA API)\n    element = querySelector(elem);\n\n    // determine modal, triggering element\n    var checkModal = querySelector(element.getAttribute('data-target') || element.getAttribute('href'));\n    modal = element.classList.contains('modal') ? element : checkModal;\n\n    // set fixed items\n    fixedItems = Array.from(document.getElementsByClassName('fixed-top'))\n      .concat(Array.from(document.getElementsByClassName('fixed-bottom')));\n\n    if (element.classList.contains('modal')) { element = null; } // modal is now independent of it's triggering element\n\n    // reset on re-init\n    if (element && element.Modal) { element.Modal.dispose(); }\n    if (modal && modal.Modal) { modal.Modal.dispose(); }\n\n    // set options\n    ops.keyboard = !(options.keyboard === false || modal.getAttribute('data-keyboard') === 'false');\n    ops.backdrop = options.backdrop === 'static' || modal.getAttribute('data-backdrop') === 'static' ? 'static' : true;\n    ops.backdrop = options.backdrop === false || modal.getAttribute('data-backdrop') === 'false' ? false : ops.backdrop;\n    ops.animation = !!modal.classList.contains('fade');\n    ops.content = options.content; // JavaScript only\n\n    // set an initial state of the modal\n    modal.isAnimating = false;\n\n    // prevent adding event handlers over and over\n    // modal is independent of a triggering element\n    if (element && !element.Modal) {\n      element.addEventListener('click', clickHandler, false);\n    }\n\n    if (ops.content) {\n      self.setContent(ops.content.trim());\n    }\n\n    // set associations\n    if (element) {\n      modal.modalTrigger = element;\n      element.Modal = self;\n    } else {\n      modal.Modal = self;\n    }\n  }\n\n  /**\n   * A global namespace for mouse click events.\n   * @type {Record<string, string>}\n   */\n  var mouseClickEvents = { down: 'mousedown', up: 'mouseup' };\n\n  /**\n   * Returns the `Window` / `HTML` scroll position.\n   * Popover, Tooltip & ScrollSpy need it.\n   *\n   * @returns {{x: number, y: number}} the scroll `{x,y}` values\n   */\n  function getScroll() {\n    return {\n      y: window.pageYOffset || document.documentElement.scrollTop,\n      x: window.pageXOffset || document.documentElement.scrollLeft,\n    };\n  }\n\n  // both popovers and tooltips (target,tooltip,placement,elementToAppendTo)\n  function styleTip(link, element, originalPosition, parent) {\n    var tipPositions = /\\b(top|bottom|left|right)+/;\n    var elementDimensions = { w: element.offsetWidth, h: element.offsetHeight };\n    var windowWidth = (document.documentElement.clientWidth || document.body.clientWidth);\n    var windowHeight = (document.documentElement.clientHeight || document.body.clientHeight);\n    var rect = link.getBoundingClientRect();\n    var scroll = parent === document.body\n      ? getScroll()\n      : { x: parent.offsetLeft + parent.scrollLeft, y: parent.offsetTop + parent.scrollTop };\n    var linkDimensions = { w: rect.right - rect.left, h: rect.bottom - rect.top };\n    var isPopover = element.classList.contains('popover');\n    var arrow = element.getElementsByClassName('arrow')[0];\n    var halfTopExceed = rect.top + linkDimensions.h / 2 - elementDimensions.h / 2 < 0;\n    var halfLeftExceed = rect.left + linkDimensions.w / 2 - elementDimensions.w / 2 < 0;\n    var halfRightExceed = rect.left + elementDimensions.w / 2\n      + linkDimensions.w / 2 >= windowWidth;\n    var halfBottomExceed = rect.top + elementDimensions.h / 2\n      + linkDimensions.h / 2 >= windowHeight;\n    var topExceed = rect.top - elementDimensions.h < 0;\n    var leftExceed = rect.left - elementDimensions.w < 0;\n    var bottomExceed = rect.top + elementDimensions.h + linkDimensions.h >= windowHeight;\n    var rightExceed = rect.left + elementDimensions.w + linkDimensions.w >= windowWidth;\n    var position = originalPosition;\n\n    // recompute position\n    // first, when both left and right limits are exceeded, we fall back to top|bottom\n    position = (position === 'left' || position === 'right') && leftExceed && rightExceed ? 'top' : position;\n    position = position === 'top' && topExceed ? 'bottom' : position;\n    position = position === 'bottom' && bottomExceed ? 'top' : position;\n    position = position === 'left' && leftExceed ? 'right' : position;\n    position = position === 'right' && rightExceed ? 'left' : position;\n\n    var topPosition;\n    var leftPosition;\n    var arrowTop;\n    var arrowLeft;\n\n    // update tooltip/popover class\n    if (element.className.indexOf(position) === -1) {\n      element.className = element.className.replace(tipPositions, position);\n    }\n\n    // we check the computed width & height and update here\n    var arrowWidth = arrow.offsetWidth;\n    var arrowHeight = arrow.offsetHeight;\n\n    // apply styling to tooltip or popover\n    // secondary|side positions\n    if (position === 'left' || position === 'right') {\n      if (position === 'left') { // LEFT\n        leftPosition = rect.left + scroll.x - elementDimensions.w - (isPopover ? arrowWidth : 0);\n      } else { // RIGHT\n        leftPosition = rect.left + scroll.x + linkDimensions.w;\n      }\n\n      // adjust top and arrow\n      if (halfTopExceed) {\n        topPosition = rect.top + scroll.y;\n        arrowTop = linkDimensions.h / 2 - arrowWidth;\n      } else if (halfBottomExceed) {\n        topPosition = rect.top + scroll.y - elementDimensions.h + linkDimensions.h;\n        arrowTop = elementDimensions.h - linkDimensions.h / 2 - arrowWidth;\n      } else {\n        topPosition = rect.top + scroll.y - elementDimensions.h / 2 + linkDimensions.h / 2;\n        arrowTop = elementDimensions.h / 2 - (isPopover ? arrowHeight * 0.9 : arrowHeight / 2);\n      }\n    // primary|vertical positions\n    } else if (position === 'top' || position === 'bottom') {\n      if (position === 'top') { // TOP\n        topPosition = rect.top + scroll.y - elementDimensions.h - (isPopover ? arrowHeight : 0);\n      } else { // BOTTOM\n        topPosition = rect.top + scroll.y + linkDimensions.h;\n      }\n      // adjust left | right and also the arrow\n      if (halfLeftExceed) {\n        leftPosition = 0;\n        arrowLeft = rect.left + linkDimensions.w / 2 - arrowWidth;\n      } else if (halfRightExceed) {\n        leftPosition = windowWidth - elementDimensions.w * 1.01;\n        arrowLeft = elementDimensions.w - (windowWidth - rect.left)\n          + linkDimensions.w / 2 - arrowWidth / 2;\n      } else {\n        leftPosition = rect.left + scroll.x - elementDimensions.w / 2 + linkDimensions.w / 2;\n        arrowLeft = elementDimensions.w / 2 - (isPopover ? arrowWidth : arrowWidth / 2);\n      }\n    }\n\n    // apply style to tooltip/popover and its arrow\n    element.style.top = topPosition + \"px\";\n    element.style.left = leftPosition + \"px\";\n\n    if (arrowTop) { arrow.style.top = arrowTop + \"px\"; }\n    if (arrowLeft) { arrow.style.left = arrowLeft + \"px\"; }\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Popover\n  ---------------------------------------------- */\n\n  // POPOVER DEFINITION\n  // ==================\n\n  function Popover(elem, opsInput) {\n    var element;\n    // set instance options\n    var options = opsInput || {};\n\n    // bind\n    var self = this;\n\n    // popover and timer\n    var popover = null;\n    var timer = 0;\n    var isIphone = /(iPhone|iPod|iPad)/.test(navigator.userAgent);\n    // title and content\n    var titleString;\n    var contentString;\n    var placementClass;\n\n    // options\n    var ops = {};\n\n    // close btn for dissmissible popover\n    var closeBtn;\n\n    // custom events\n    var showCustomEvent;\n    var shownCustomEvent;\n    var hideCustomEvent;\n    var hiddenCustomEvent;\n\n    // handlers\n    function dismissibleHandler(e) {\n      if (popover !== null && e.target === querySelector('.close', popover)) {\n        self.hide();\n      }\n    }\n    // private methods\n    function getAttr(att) {\n      return options[att] || element.dataset[att] || null;\n    }\n    function getTitle() {\n      return getAttr('title');\n    }\n    function getContent() {\n      return getAttr('content');\n    }\n    function removePopover() {\n      ops.container.removeChild(popover);\n      timer = null; popover = null;\n    }\n\n    function createPopover() {\n      titleString = getTitle();\n      contentString = getContent();\n      // fixing https://github.com/thednp/bootstrap.native/issues/233\n      contentString = contentString ? contentString.trim() : null;\n\n      popover = document.createElement('div');\n\n      // popover arrow\n      var popoverArrow = document.createElement('div');\n      popoverArrow.classList.add('arrow');\n      popover.appendChild(popoverArrow);\n\n      // create the popover from data attributes\n      if (contentString !== null && ops.template === null) {\n        popover.setAttribute('role', 'tooltip');\n\n        if (titleString !== null) {\n          var popoverTitle = document.createElement('h3');\n          popoverTitle.classList.add('popover-header');\n          popoverTitle.innerHTML = ops.dismissible ? titleString + closeBtn : titleString;\n          popover.appendChild(popoverTitle);\n        }\n\n        // set popover content\n        var popoverBodyMarkup = document.createElement('div');\n        popoverBodyMarkup.classList.add('popover-body');\n        popoverBodyMarkup.innerHTML = ops.dismissible && titleString === null\n          ? contentString + closeBtn\n          : contentString;\n        popover.appendChild(popoverBodyMarkup);\n      } else { // or create the popover from template\n        var popoverTemplate = document.createElement('div');\n        popoverTemplate.innerHTML = ops.template.trim();\n        popover.className = popoverTemplate.firstChild.className;\n        popover.innerHTML = popoverTemplate.firstChild.innerHTML;\n\n        var popoverHeader = querySelector('.popover-header', popover);\n        var popoverBody = querySelector('.popover-body', popover);\n\n        // fill the template with content from data attributes\n        if (titleString && popoverHeader) { popoverHeader.innerHTML = titleString.trim(); }\n        if (contentString && popoverBody) { popoverBody.innerHTML = contentString.trim(); }\n      }\n\n      // append to the container\n      ops.container.appendChild(popover);\n      popover.style.display = 'block';\n      if (!popover.classList.contains('popover')) { popover.classList.add('popover'); }\n      if (!popover.classList.contains(ops.animation)) { popover.classList.add(ops.animation); }\n      if (!popover.classList.contains(placementClass)) { popover.classList.add(placementClass); }\n    }\n    function showPopover() {\n      if (!popover.classList.contains('show')) { popover.classList.add('show'); }\n    }\n    function updatePopover() {\n      styleTip(element, popover, ops.placement, ops.container);\n    }\n    function forceFocus() {\n      if (popover === null) { element.focus(); }\n    }\n    function toggleEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      if (ops.trigger === 'hover') {\n        element[action](mouseClickEvents.down, self.show);\n        element[action](mouseHoverEvents[0], self.show);\n        // mouseHover = ('onmouseleave' in document)\n        //   ? [ 'mouseenter', 'mouseleave']\n        //   : [ 'mouseover', 'mouseout' ]\n        if (!ops.dismissible) { element[action](mouseHoverEvents[1], self.hide); }\n      } else if (ops.trigger === 'click') {\n        element[action](ops.trigger, self.toggle);\n      } else if (ops.trigger === 'focus') {\n        if (isIphone) { element[action]('click', forceFocus, false); }\n        element[action](ops.trigger, self.toggle);\n      }\n    }\n    function touchHandler(e) {\n      if ((popover && popover.contains(e.target))\n        || e.target === element || element.contains(e.target)) ; else {\n        self.hide();\n      }\n    }\n    // event toggle\n    function dismissHandlerToggle(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      if (ops.dismissible) {\n        document[action]('click', dismissibleHandler, false);\n      } else {\n        if (ops.trigger === 'focus') { element[action]('blur', self.hide); }\n        if (ops.trigger === 'hover') { document[action]('touchstart', touchHandler, passiveHandler); }\n      }\n      window[action]('resize', self.hide, passiveHandler);\n    }\n    // triggers\n    function showTrigger() {\n      dismissHandlerToggle(1);\n      dispatchCustomEvent.call(element, shownCustomEvent);\n    }\n    function hideTrigger() {\n      dismissHandlerToggle();\n      removePopover();\n      dispatchCustomEvent.call(element, hiddenCustomEvent);\n    }\n\n    // public methods / handlers\n    self.toggle = function () {\n      if (popover === null) { self.show(); }\n      else { self.hide(); }\n    };\n    self.show = function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        if (popover === null) {\n          dispatchCustomEvent.call(element, showCustomEvent);\n          if (showCustomEvent.defaultPrevented) { return; }\n\n          createPopover();\n          updatePopover();\n          showPopover();\n          if (ops.animation) { emulateTransitionEnd(popover, showTrigger); }\n          else { showTrigger(); }\n        }\n      }, 20);\n    };\n    self.hide = function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        if (popover && popover !== null && popover.classList.contains('show')) {\n          dispatchCustomEvent.call(element, hideCustomEvent);\n          if (hideCustomEvent.defaultPrevented) { return; }\n          popover.classList.remove('show');\n          if (ops.animation) { emulateTransitionEnd(popover, hideTrigger); }\n          else { hideTrigger(); }\n        }\n      }, ops.delay);\n    };\n    self.dispose = function () {\n      self.hide();\n      toggleEvents();\n      delete element.Popover;\n    };\n\n    // INIT\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Popover) { element.Popover.dispose(); }\n\n    // DATA API\n    var triggerData = element.getAttribute('data-trigger'); // click / hover / focus\n    var animationData = element.getAttribute('data-animation'); // true / false\n\n    var placementData = element.getAttribute('data-placement');\n    var dismissibleData = element.getAttribute('data-dismissible');\n    var delayData = element.getAttribute('data-delay');\n    var containerData = element.getAttribute('data-container');\n\n    // close btn for dissmissible popover\n    closeBtn = '<button type=\"button\" class=\"close\">×</button>';\n\n    // custom events\n    showCustomEvent = bootstrapCustomEvent('show', 'popover');\n    shownCustomEvent = bootstrapCustomEvent('shown', 'popover');\n    hideCustomEvent = bootstrapCustomEvent('hide', 'popover');\n    hiddenCustomEvent = bootstrapCustomEvent('hidden', 'popover');\n\n    // check container\n    var containerElement = querySelector(options.container);\n    var containerDataElement = querySelector(containerData);\n\n    // maybe the element is inside a modal\n    var modal = element.closest('.modal');\n\n    // maybe the element is inside a fixed navbar\n    var navbarFixedTop = element.closest('.fixed-top');\n    var navbarFixedBottom = element.closest('.fixed-bottom');\n\n    // set instance options\n    ops.template = options.template ? options.template : null; // JavaScript only\n    ops.trigger = options.trigger ? options.trigger : triggerData || 'hover';\n    ops.animation = options.animation && options.animation !== 'fade' ? options.animation : animationData || 'fade';\n    ops.placement = options.placement ? options.placement : placementData || 'top';\n    ops.delay = parseInt((options.delay || delayData), 10) || 200;\n    ops.dismissible = !!(options.dismissible || dismissibleData === 'true');\n    ops.container = containerElement\n      || (containerDataElement\n        || (navbarFixedTop || (navbarFixedBottom || (modal || document.body))));\n\n    placementClass = \"bs-popover-\" + (ops.placement);\n\n    // invalidate\n    titleString = getTitle();\n    contentString = getContent();\n\n    if (!contentString && !ops.template) { return; }\n\n    // init\n    if (!element.Popover) { // prevent adding event handlers twice\n      toggleEvents(1);\n    }\n\n    // associate target to init object\n    element.Popover = self;\n  }\n\n  /* Native JavaScript for Bootstrap 5 | ScrollSpy\n  ------------------------------------------------ */\n\n  // SCROLLSPY DEFINITION\n  // ====================\n\n  function ScrollSpy(elem, opsInput) {\n    var element;\n\n    // set options\n    var options = opsInput || {};\n\n    // bind\n    var self = this;\n\n    // GC internals\n    var vars;\n    var links;\n\n    // targets\n    var spyTarget;\n    // determine which is the real scrollTarget\n    var scrollTarget;\n    // options\n    var ops = {};\n\n    // private methods\n    // populate items and targets\n    function updateTargets() {\n      links = spyTarget.getElementsByTagName('A');\n\n      vars.scrollTop = vars.isWindow ? getScroll().y : element.scrollTop;\n\n      // only update vars once or with each mutation\n      if (vars.length !== links.length || getScrollHeight() !== vars.scrollHeight) {\n        var href;\n        var targetItem;\n        var rect;\n\n        // reset arrays & update\n        vars.items = [];\n        vars.offsets = [];\n        vars.scrollHeight = getScrollHeight();\n        vars.maxScroll = vars.scrollHeight - getOffsetHeight();\n\n        Array.from(links).forEach(function (link) {\n          href = link.getAttribute('href');\n          targetItem = href && href.charAt(0) === '#' && href.slice(-1) !== '#' && querySelector(href);\n\n          if (targetItem) {\n            vars.items.push(link);\n            rect = targetItem.getBoundingClientRect();\n            vars.offsets.push((vars.isWindow\n              ? rect.top + vars.scrollTop\n              : targetItem.offsetTop) - ops.offset);\n          }\n        });\n        vars.length = vars.items.length;\n      }\n    }\n    // item update\n    function toggleEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      scrollTarget[action]('scroll', self.refresh, passiveHandler);\n      window[action]('resize', self.refresh, passiveHandler);\n    }\n    function getScrollHeight() {\n      return scrollTarget.scrollHeight || Math.max(\n        document.body.scrollHeight,\n        document.documentElement.scrollHeight\n      );\n    }\n    function getOffsetHeight() {\n      return !vars.isWindow ? element.getBoundingClientRect().height : window.innerHeight;\n    }\n    function clear() {\n      Array.from(links).map(function (item) { return item.classList.contains('active') && item.classList.remove('active'); });\n    }\n    function activate(input) {\n      var item = input;\n      var itemClassList;\n      clear();\n      vars.activeItem = item;\n      item.classList.add('active');\n\n      // activate all parents\n      var parents = [];\n      while (item.parentNode !== document.body) {\n        item = item.parentNode;\n        itemClassList = item.classList;\n\n        if (itemClassList.contains('dropdown-menu') || itemClassList.contains('nav')) { parents.push(item); }\n      }\n\n      parents.forEach(function (menuItem) {\n        var parentLink = menuItem.previousElementSibling;\n\n        if (parentLink && !parentLink.classList.contains('active')) {\n          parentLink.classList.add('active');\n        }\n      });\n\n      dispatchCustomEvent.call(element, bootstrapCustomEvent('activate', 'scrollspy', { relatedTarget: vars.activeItem }));\n    }\n\n    // public method\n    self.refresh = function () {\n      updateTargets();\n\n      if (vars.scrollTop >= vars.maxScroll) {\n        var newActiveItem = vars.items[vars.length - 1];\n\n        if (vars.activeItem !== newActiveItem) {\n          activate(newActiveItem);\n        }\n\n        return;\n      }\n\n      if (vars.activeItem && vars.scrollTop < vars.offsets[0] && vars.offsets[0] > 0) {\n        vars.activeItem = null;\n        clear();\n        return;\n      }\n\n      var i = vars.length;\n      while (i > -1) {\n        if (vars.activeItem !== vars.items[i] && vars.scrollTop >= vars.offsets[i]\n          && (typeof vars.offsets[i + 1] === 'undefined' || vars.scrollTop < vars.offsets[i + 1])) {\n          activate(vars.items[i]);\n        }\n        i -= 1;\n      }\n    };\n    self.dispose = function () {\n      toggleEvents();\n      delete element.ScrollSpy;\n    };\n\n    // init\n    // initialization element, the element we spy on\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.ScrollSpy) { element.ScrollSpy.dispose(); }\n\n    // event targets, constants\n    // DATA API\n    var targetData = element.getAttribute('data-target');\n    var offsetData = element.getAttribute('data-offset');\n\n    // targets\n    spyTarget = querySelector(options.target || targetData);\n\n    // determine which is the real scrollTarget\n    scrollTarget = element.clientHeight < element.scrollHeight ? element : window;\n\n    if (!spyTarget) { return; }\n\n    // set instance option\n    ops.offset = +(options.offset || offsetData) || 10;\n\n    // set instance priority variables\n    vars = {};\n    vars.length = 0;\n    vars.items = [];\n    vars.offsets = [];\n    vars.isWindow = scrollTarget === window;\n    vars.activeItem = null;\n    vars.scrollHeight = 0;\n    vars.maxScroll = 0;\n\n    // prevent adding event handlers twice\n    if (!element.ScrollSpy) { toggleEvents(1); }\n\n    self.refresh();\n\n    // associate target with init object\n    element.ScrollSpy = self;\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Tab\n  ------------------------------------------ */\n\n  // TAB DEFINITION\n  // ==============\n\n  function Tab(elem, opsInput) {\n    var element;\n    // set options\n    var options = opsInput || {};\n\n    // bind\n    var self = this;\n\n    // event targets\n    var tabs;\n    var dropdown;\n\n    // custom events\n    var showCustomEvent;\n    var shownCustomEvent;\n    var hideCustomEvent;\n    var hiddenCustomEvent;\n\n    // more GC material\n    var next;\n    var tabsContentContainer = false;\n    var activeTab;\n    var activeContent;\n    var nextContent;\n    var containerHeight;\n    var equalContents;\n    var nextHeight;\n\n    // triggers\n    function triggerEnd() {\n      tabsContentContainer.style.height = '';\n      tabsContentContainer.classList.remove('collapsing');\n      tabs.isAnimating = false;\n    }\n    function triggerShow() {\n      if (tabsContentContainer) { // height animation\n        if (equalContents) {\n          triggerEnd();\n        } else {\n          setTimeout(function () { // enables height animation\n            tabsContentContainer.style.height = nextHeight + \"px\"; // height animation\n            reflow(tabsContentContainer);\n            emulateTransitionEnd(tabsContentContainer, triggerEnd);\n          }, 50);\n        }\n      } else {\n        tabs.isAnimating = false;\n      }\n      shownCustomEvent = bootstrapCustomEvent('shown', 'tab', { relatedTarget: activeTab });\n      dispatchCustomEvent.call(next, shownCustomEvent);\n    }\n    function triggerHide() {\n      if (tabsContentContainer) {\n        activeContent.style.float = 'left';\n        nextContent.style.float = 'left';\n        containerHeight = activeContent.scrollHeight;\n      }\n\n      showCustomEvent = bootstrapCustomEvent('show', 'tab', { relatedTarget: activeTab });\n      hiddenCustomEvent = bootstrapCustomEvent('hidden', 'tab', { relatedTarget: next });\n\n      dispatchCustomEvent.call(next, showCustomEvent);\n      if (showCustomEvent.defaultPrevented) { return; }\n\n      nextContent.classList.add('active');\n\n      activeContent.classList.remove('active');\n\n      if (tabsContentContainer) {\n        nextHeight = nextContent.scrollHeight;\n        equalContents = nextHeight === containerHeight;\n        tabsContentContainer.classList.add('collapsing');\n        tabsContentContainer.style.height = containerHeight + \"px\"; // height animation\n        reflow(tabsContentContainer);\n        activeContent.style.float = '';\n        nextContent.style.float = '';\n      }\n\n      if (nextContent.classList.contains('fade')) {\n        setTimeout(function () {\n          nextContent.classList.add('show');\n          emulateTransitionEnd(nextContent, triggerShow);\n        }, 20);\n      } else { triggerShow(); }\n\n      dispatchCustomEvent.call(activeTab, hiddenCustomEvent);\n    }\n    // private methods\n    function getActiveTab() {\n      var assign;\n\n      var activeTabs = tabs.getElementsByClassName('active');\n\n      if (activeTabs.length === 1 && !activeTabs[0].parentNode.classList.contains('dropdown')) {\n        (assign = activeTabs, activeTab = assign[0]);\n      } else if (activeTabs.length > 1) {\n        activeTab = activeTabs[activeTabs.length - 1];\n      }\n      return activeTab;\n    }\n    function getActiveContent() { return querySelector(getActiveTab().getAttribute('href')); }\n    // handler\n    function clickHandler(e) {\n      e.preventDefault();\n      next = e.currentTarget;\n      if (!tabs.isAnimating) { self.show(); }\n    }\n\n    // public method\n    self.show = function () { // the tab we clicked is now the next tab\n      next = next || element;\n\n      if (!next.classList.contains('active')) {\n        nextContent = querySelector(next.getAttribute('href')); // this is the actual object, the next tab content to activate\n        activeTab = getActiveTab();\n        activeContent = getActiveContent();\n\n        hideCustomEvent = bootstrapCustomEvent('hide', 'tab', { relatedTarget: next });\n        dispatchCustomEvent.call(activeTab, hideCustomEvent);\n        if (hideCustomEvent.defaultPrevented) { return; }\n\n        tabs.isAnimating = true;\n        activeTab.classList.remove('active');\n        activeTab.setAttribute('aria-selected', 'false');\n        next.classList.add('active');\n        next.setAttribute('aria-selected', 'true');\n\n        if (dropdown) {\n          if (!element.parentNode.classList.contains('dropdown-menu')) {\n            if (dropdown.classList.contains('active')) { dropdown.classList.remove('active'); }\n          } else if (!dropdown.classList.contains('active')) { dropdown.classList.add('active'); }\n        }\n\n        if (activeContent.classList.contains('fade')) {\n          activeContent.classList.remove('show');\n          emulateTransitionEnd(activeContent, triggerHide);\n        } else { triggerHide(); }\n      }\n    };\n    self.dispose = function () {\n      element.removeEventListener('click', clickHandler, false);\n      delete element.Tab;\n    };\n\n    // INIT\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Tab) { element.Tab.dispose(); }\n\n    // DATA API\n    var heightData = element.getAttribute('data-height');\n    // event targets\n    tabs = element.closest('.nav');\n    dropdown = tabs && querySelector('.dropdown-toggle', tabs);\n\n    // instance options\n    var animateHeight = !(!supportTransition || (options.height === false || heightData === 'false'));\n\n    // set default animation state\n    tabs.isAnimating = false;\n\n    // init\n    if (!element.Tab) { // prevent adding event handlers twice\n      element.addEventListener('click', clickHandler, false);\n    }\n\n    if (animateHeight) { tabsContentContainer = getActiveContent().parentNode; }\n\n    // associate target with init object\n    element.Tab = self;\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Toast\n  -------------------------------------------- */\n\n  // TOAST DEFINITION\n  // ==================\n\n  function Toast(elem, opsInput) {\n    var element;\n\n    // set options\n    var options = opsInput || {};\n\n    // bind\n    var self = this;\n\n    // toast, timer\n    var toast;\n    var timer = 0;\n\n    // custom events\n    var showCustomEvent;\n    var hideCustomEvent;\n    var shownCustomEvent;\n    var hiddenCustomEvent;\n    var ops = {};\n\n    // private methods\n    function showComplete() {\n      toast.classList.remove('showing');\n      toast.classList.add('show');\n      dispatchCustomEvent.call(toast, shownCustomEvent);\n      if (ops.autohide) { self.hide(); }\n    }\n    function hideComplete() {\n      toast.classList.add('hide');\n      dispatchCustomEvent.call(toast, hiddenCustomEvent);\n    }\n    function close() {\n      toast.classList.remove('show');\n      if (ops.animation) { emulateTransitionEnd(toast, hideComplete); }\n      else { hideComplete(); }\n    }\n    function disposeComplete() {\n      clearTimeout(timer);\n      element.removeEventListener('click', self.hide, false);\n\n      delete element.Toast;\n    }\n\n    // public methods\n    self.show = function () {\n      if (toast && !toast.classList.contains('show')) {\n        dispatchCustomEvent.call(toast, showCustomEvent);\n        if (showCustomEvent.defaultPrevented) { return; }\n        if (ops.animation) { toast.classList.add('fade'); }\n        toast.classList.remove('hide');\n        reflow(toast); // force reflow\n        toast.classList.add('showing');\n\n        if (ops.animation) { emulateTransitionEnd(toast, showComplete); }\n        else { showComplete(); }\n      }\n    };\n    self.hide = function (noTimer) {\n      if (toast && toast.classList.contains('show')) {\n        dispatchCustomEvent.call(toast, hideCustomEvent);\n        if (hideCustomEvent.defaultPrevented) { return; }\n\n        if (noTimer) { close(); }\n        else { timer = setTimeout(close, ops.delay); }\n      }\n    };\n    self.dispose = function () {\n      if (ops.animation) { emulateTransitionEnd(toast, disposeComplete); }\n      else { disposeComplete(); }\n    };\n\n    // init\n\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Toast) { element.Toast.dispose(); }\n\n    // toast, timer\n    toast = element.closest('.toast');\n\n    // DATA API\n    var animationData = element.getAttribute('data-animation');\n    var autohideData = element.getAttribute('data-autohide');\n    var delayData = element.getAttribute('data-delay');\n\n    // custom events\n    showCustomEvent = bootstrapCustomEvent('show', 'toast');\n    hideCustomEvent = bootstrapCustomEvent('hide', 'toast');\n    shownCustomEvent = bootstrapCustomEvent('shown', 'toast');\n    hiddenCustomEvent = bootstrapCustomEvent('hidden', 'toast');\n\n    // set instance options\n    ops.animation = options.animation === false || animationData === 'false' ? 0 : 1; // true by default\n    ops.autohide = options.autohide === false || autohideData === 'false' ? 0 : 1; // true by default\n    ops.delay = parseInt((options.delay || delayData), 10) || 500; // 500ms default\n\n    if (!element.Toast) { // prevent adding event handlers twice\n      element.addEventListener('click', self.hide, false);\n    }\n\n    // associate targets to init object\n    element.Toast = self;\n  }\n\n  /* Native JavaScript for Bootstrap 4 | Tooltip\n  ---------------------------------------------- */\n\n  // TOOLTIP DEFINITION\n  // ==================\n\n  function Tooltip(elem, opsInput) {\n    var element;\n    // set options\n    var options = opsInput || {};\n\n    // bind\n    var self = this;\n\n    // tooltip, timer, and title\n    var tooltip = null;\n    var timer = 0;\n    var titleString;\n    var placementClass;\n\n    // custom events\n    var showCustomEvent;\n    var shownCustomEvent;\n    var hideCustomEvent;\n    var hiddenCustomEvent;\n\n    var ops = {};\n\n    // private methods\n    function getTitle() {\n      return element.getAttribute('title')\n          || element.getAttribute('data-title')\n          || element.getAttribute('data-original-title');\n    }\n    function removeToolTip() {\n      ops.container.removeChild(tooltip);\n      tooltip = null; timer = null;\n    }\n    function createToolTip() {\n      titleString = getTitle(); // read the title again\n      if (titleString) { // invalidate, maybe markup changed\n        // create tooltip\n        tooltip = document.createElement('div');\n\n        // set markup\n        if (ops.template) {\n          var tooltipMarkup = document.createElement('div');\n          tooltipMarkup.innerHTML = ops.template.trim();\n\n          tooltip.className = tooltipMarkup.firstChild.className;\n          tooltip.innerHTML = tooltipMarkup.firstChild.innerHTML;\n\n          querySelector('.tooltip-inner', tooltip).innerHTML = titleString.trim();\n        } else {\n          // tooltip arrow\n          var tooltipArrow = document.createElement('div');\n          tooltipArrow.classList.add('arrow');\n          tooltip.appendChild(tooltipArrow);\n          // tooltip inner\n          var tooltipInner = document.createElement('div');\n          tooltipInner.classList.add('tooltip-inner');\n          tooltip.appendChild(tooltipInner);\n          tooltipInner.innerHTML = titleString;\n        }\n        // reset position\n        tooltip.style.left = '0';\n        tooltip.style.top = '0';\n        // set class and role attribute\n        tooltip.setAttribute('role', 'tooltip');\n        if (!tooltip.classList.contains('tooltip')) { tooltip.classList.add('tooltip'); }\n        if (!tooltip.classList.contains(ops.animation)) { tooltip.classList.add(ops.animation); }\n        if (!tooltip.classList.contains(placementClass)) { tooltip.classList.add(placementClass); }\n        // append to container\n        ops.container.appendChild(tooltip);\n      }\n    }\n    function updateTooltip() {\n      styleTip(element, tooltip, ops.placement, ops.container);\n    }\n    function showTooltip() {\n      if (!tooltip.classList.contains('show')) { tooltip.classList.add('show'); }\n    }\n    function touchHandler(e) {\n      if ((tooltip && tooltip.contains(e.target))\n        || e.target === element || element.contains(e.target)) ; else {\n        self.hide();\n      }\n    }\n    // triggers\n    function toggleAction(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      document[action]('touchstart', touchHandler, passiveHandler);\n      window[action]('resize', self.hide, passiveHandler);\n    }\n    function showAction() {\n      toggleAction(1);\n      dispatchCustomEvent.call(element, shownCustomEvent);\n    }\n    function hideAction() {\n      toggleAction();\n      removeToolTip();\n      dispatchCustomEvent.call(element, hiddenCustomEvent);\n    }\n    function toggleEvents(add) {\n      var action = add ? 'addEventListener' : 'removeEventListener';\n      element[action](mouseClickEvents.down, self.show, false);\n      element[action](mouseHoverEvents[0], self.show, false);\n      element[action](mouseHoverEvents[1], self.hide, false);\n    }\n\n    // public methods\n    self.show = function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        if (tooltip === null) {\n          dispatchCustomEvent.call(element, showCustomEvent);\n          if (showCustomEvent.defaultPrevented) { return; }\n          // if(createToolTip() == false) return;\n          if (createToolTip() !== false) {\n            updateTooltip();\n            showTooltip();\n            if (ops.animation) { emulateTransitionEnd(tooltip, showAction); }\n            else { showAction(); }\n          }\n        }\n      }, 20);\n    };\n    self.hide = function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        if (tooltip && tooltip.classList.contains('show')) {\n          dispatchCustomEvent.call(element, hideCustomEvent);\n          if (hideCustomEvent.defaultPrevented) { return; }\n          tooltip.classList.remove('show');\n          if (ops.animation) { emulateTransitionEnd(tooltip, hideAction); }\n          else { hideAction(); }\n        }\n      }, ops.delay);\n    };\n    self.toggle = function () {\n      if (!tooltip) { self.show(); }\n      else { self.hide(); }\n    };\n    self.dispose = function () {\n      toggleEvents();\n      self.hide();\n      element.setAttribute('title', element.getAttribute('data-original-title'));\n      element.removeAttribute('data-original-title');\n      delete element.Tooltip;\n    };\n\n    // init\n    // initialization element\n    element = querySelector(elem);\n\n    // reset on re-init\n    if (element.Tooltip) { element.Tooltip.dispose(); }\n\n    // DATA API\n    var animationData = element.getAttribute('data-animation');\n    var placementData = element.getAttribute('data-placement');\n    var delayData = element.getAttribute('data-delay');\n    var containerData = element.getAttribute('data-container');\n\n    // check container\n    var containerElement = querySelector(options.container);\n    var containerDataElement = querySelector(containerData);\n\n    // maybe the element is inside a modal\n    var modal = element.closest('.modal');\n\n    // custom events\n    showCustomEvent = bootstrapCustomEvent('show', 'tooltip');\n    shownCustomEvent = bootstrapCustomEvent('shown', 'tooltip');\n    hideCustomEvent = bootstrapCustomEvent('hide', 'tooltip');\n    hiddenCustomEvent = bootstrapCustomEvent('hidden', 'tooltip');\n\n    // maybe the element is inside a fixed navbar\n    var navbarFixedTop = element.closest('.fixed-top');\n    var navbarFixedBottom = element.closest('.fixed-bottom');\n\n    // set instance options\n    ops.animation = options.animation && options.animation !== 'fade' ? options.animation : animationData || 'fade';\n    ops.placement = options.placement ? options.placement : placementData || 'top';\n    ops.template = options.template ? options.template : null; // JavaScript only\n    ops.delay = parseInt((options.delay || delayData), 10) || 200;\n    ops.container = containerElement\n      || (containerDataElement\n        || (navbarFixedTop || (navbarFixedBottom || (modal || document.body))));\n\n    // set placement class\n    placementClass = \"bs-tooltip-\" + (ops.placement);\n\n    // set tooltip content\n    titleString = getTitle();\n\n    // invalidate\n    if (!titleString) { return; }\n\n    // prevent adding event handlers twice\n    if (!element.Tooltip) {\n      element.setAttribute('data-original-title', titleString);\n      element.removeAttribute('title');\n      toggleEvents(1);\n    }\n\n    // associate target to init object\n    element.Tooltip = self;\n  }\n\n  /** BSN v4 componentsInit */\n  var componentsInit = {};\n\n  /* Native JavaScript for Bootstrap v4 | Initialize Data API\n  -------------------------------------------------------- */\n  function initializeDataAPI(Constructor, collection) {\n    Array.from(collection).map(function (x) { return new Constructor(x); });\n  }\n  function initCallback(context) {\n    var lookUp = context instanceof Element ? context : document;\n    Object.keys(componentsInit).forEach(function (component) {\n      initializeDataAPI(componentsInit[component][0],\n        lookUp.querySelectorAll(componentsInit[component][1]));\n    });\n  }\n\n  componentsInit.Alert = [Alert, '[data-dismiss=\"alert\"]'];\n  componentsInit.Button = [Button, '[data-toggle=\"buttons\"]'];\n  componentsInit.Carousel = [Carousel, '[data-ride=\"carousel\"]'];\n  componentsInit.Collapse = [Collapse, '[data-toggle=\"collapse\"]'];\n  componentsInit.Dropdown = [Dropdown, '[data-toggle=\"dropdown\"]'];\n  componentsInit.Modal = [Modal, '[data-toggle=\"modal\"]'];\n  componentsInit.Popover = [Popover, '[data-toggle=\"popover\"],[data-tip=\"popover\"]'];\n  componentsInit.ScrollSpy = [ScrollSpy, '[data-spy=\"scroll\"]'];\n  componentsInit.Tab = [Tab, '[data-toggle=\"tab\"]'];\n  componentsInit.Toast = [Toast, '[data-dismiss=\"toast\"]'];\n  componentsInit.Tooltip = [Tooltip, '[data-toggle=\"tooltip\"],[data-tip=\"tooltip\"]'];\n\n  // bulk initialize all components\n  if (document.body) { initCallback(); }\n  else {\n    document.addEventListener('DOMContentLoaded', function initWrapper() {\n      initCallback();\n      document.removeEventListener('DOMContentLoaded', initWrapper, false);\n    }, false);\n  }\n\n  /* Native JavaScript for Bootstrap v4 | Remove Data API\n  ---------------------------------------------------- */\n  function removeElementDataAPI(ConstructorName, collection) {\n    Array.from(collection).map(function (x) { return x[ConstructorName].dispose(); });\n  }\n  function removeDataAPI(context) {\n    var lookUp = context instanceof Element ? context : document;\n    Object.keys(componentsInit).forEach(function (component) {\n      removeElementDataAPI(component, lookUp.querySelectorAll(componentsInit[component][1]));\n    });\n  }\n\n  var version = \"4.1.0\";\n\n  var Version = version;\n\n  var BSN = {\n    Alert: Alert,\n    Button: Button,\n    Carousel: Carousel,\n    Collapse: Collapse,\n    Dropdown: Dropdown,\n    Modal: Modal,\n    Popover: Popover,\n    ScrollSpy: ScrollSpy,\n    Tab: Tab,\n    Toast: Toast,\n    Tooltip: Tooltip,\n\n    initCallback: initCallback,\n    removeDataAPI: removeDataAPI,\n    componentsInit: componentsInit,\n    Version: Version,\n  };\n\n  return BSN;\n\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t773: 0,\n\t170: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [170], () => (__webpack_require__(730)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [170], () => (__webpack_require__(576)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","rootEl","querySelectorAll","forEach","input","addEventListener","files","Array","from","length","target","document","getElementById","dataset","uploadProgressTarget","form","closest","csrfToken","querySelector","content","file","i","tmpl","firstElementChild","cloneNode","innerText","name","appendChild","hideBtnCancelUpload","b","parentElement","removeChild","showBtnRemoveUpload","classList","remove","this","showMessage","msg","level","m","cl","add","hlPgBar","pgBar","maxFileSize","uploadMaxFileSize","isNaN","size","uploadMsgFileTooLarge","headers","encodeURIComponent","type","req","XMLHttpRequest","e","uploadMsgFileAborted","upload","lengthComputable","percent","Math","floor","loaded","total","n","log","unit","byteUnits","val","pow","Number","isInteger","toFixed","friendlyBytes","pb","style","setAttribute","uploadMsgFileProcessing","uploadMsgFileUploading","evt","readyState","status","Turbo","renderStreamMessage","response","uploadMsgDirNotFound","uploadMsgUnexpected","open","method","action","setRequestHeader","preventDefault","abort","send","value","undefined","window","Reflect","customElements","polyfillWrapFlushCallback","BuiltInHTMLElement","HTMLElement","wrapperForTheName","construct","constructor","prototype","Object","setPrototypeOf","raise","errorConstructor","message","requestSubmit","submitter","TypeError","DOMException","validateSubmitter","click","createElement","hidden","HTMLFormElement","submittersByForm","WeakMap","clickCaptured","event","element","Element","Node","candidate","findSubmitterFromClickTarget","set","FrameLoadingStyle","FetchMethod","FormSubmissionState","FormEnctype","TimingMetric","VisitState","Event","test","navigator","vendor","SubmitEvent","defineProperty","get","FrameElement","super","Promise","resolve","delegate","delegateConstructor","observedAttributes","connectedCallback","connect","disconnectedCallback","disconnect","reload","sourceURLReloaded","attributeChangedCallback","loadingStyleChanged","completeChanged","sourceURLChanged","disabledChanged","src","getAttribute","removeAttribute","loading","toLowerCase","lazy","eager","frameLoadingStyleFromString","disabled","hasAttribute","autoscroll","complete","isLoading","isActive","ownerDocument","isPreview","_a","_b","documentElement","expandURL","locatable","URL","toString","baseURI","getAnchor","url","anchorMatch","hash","slice","href","match","getAction","getExtension","pathname","split","getPathComponents","getLastPathComponent","isPrefixedBy","baseURL","prefix","origin","endsWith","getPrefix","startsWith","locationIsVisitable","location","rootLocation","getRequestURL","anchor","toCacheKey","FetchResponse","succeeded","ok","failed","clientError","statusCode","serverError","redirected","isHTML","contentType","header","responseText","clone","text","responseHTML","activateScriptElement","createdScriptElement","cspNonce","getMetaContent","nonce","textContent","async","destinationElement","sourceElement","attributes","copyElementAttributes","dispatch","eventName","cancelable","detail","CustomEvent","bubbles","composed","isConnected","dispatchEvent","nextAnimationFrame","requestAnimationFrame","parseHTMLDocument","html","DOMParser","parseFromString","unindent","strings","values","lines","reduce","result","string","interpolate","replace","indent","map","line","join","uuid","_","random","attributeName","elements","markAsBusy","localName","clearBusyState","waitForLoad","timeoutInMilliseconds","onComplete","removeEventListener","once","setTimeout","getHistoryMethodForAction","history","replaceState","pushState","getVisitAction","isAction","getMetaElement","findClosestRecursively","selector","assignedSlot","getRootNode","host","FetchRequest","body","URLSearchParams","abortController","AbortController","resolveRequestPromise","_value","defaultHeaders","params","searchParams","entries","cancel","fetchOptions","prepareRequest","allowRequestToBeIntercepted","requestStarted","fetch","receive","error","willDelegateErrorHandling","requestErrored","requestFinished","fetchResponse","defaultPrevented","requestPreventedHandlingResponse","requestSucceededWithResponse","requestFailedWithResponse","toUpperCase","credentials","redirect","isIdempotent","signal","abortSignal","referrer","Accept","acceptResponseType","mimeType","requestInterception","resume","request","AppearanceObserver","started","intersect","lastEntry","isIntersecting","elementAppearedInViewport","intersectionObserver","IntersectionObserver","start","observe","stop","unobserve","StreamMessage","fragment","streamElement","importNode","inertScriptElement","templateElement","replaceWith","importStreamElements","static","template","innerHTML","createDocumentFragment","FormSubmission","formElement","mustRedirect","state","initialized","formData","FormData","append","buildFormData","File","search","mergeFormDataEntries","fetchRequest","_element","_submitter","confirm","post","put","patch","delete","fetchMethodFromString","formElementAction","enctype","urlEncoded","stringFormData","encoding","multipart","plain","formEnctypeFromString","concat","requesting","confirmationMessage","confirmMethod","perform","stopping","stopped","token","cookieName","cookie","find","decodeURIComponent","getCookieValue","requestAcceptsTurboStreamResponse","_request","waiting","formSubmission","formSubmissionStarted","success","formSubmissionFailedWithResponse","requestMustRedirect","responseSucceededWithoutRedirect","Error","formSubmissionErrored","receiving","formSubmissionSucceededWithResponse","assign","formSubmissionFinished","some","Snapshot","activeElement","children","hasAnchor","getElementForAnchor","firstAutofocusableElement","permanentElements","queryPermanentElementsAll","getPermanentElementById","id","getPermanentElementMapForSnapshot","snapshot","permanentElementMap","currentPermanentElement","newPermanentElement","node","FormSubmitObserver","eventTarget","submitCaptured","submitBubbled","submissionDoesNotDismissDialog","getElementsByName","HTMLIFrameElement","submissionDoesNotTargetIFrame","willSubmitForm","stopImmediatePropagation","formSubmitted","View","resolveRenderPromise","resolveInterceptionPromise","scrollToAnchor","scrollToElement","focusElement","scrollToPosition","x","y","scrollToAnchorFromLocation","scrollIntoView","focus","scrollRoot","scrollTo","scrollToTop","renderer","shouldRender","newSnapshot","renderPromise","prepareToRenderSnapshot","renderInterception","options","render","renderElement","allowsImmediateRender","renderSnapshot","viewRenderedSnapshot","preloadOnLoadLinksForView","finishRenderingSnapshot","invalidate","reloadReason","reason","viewInvalidated","markAsPreview","prepareToRender","finishRendering","FrameView","LinkInterceptor","clickBubbled","respondsToEventTarget","clickEvent","linkClicked","shouldInterceptLinkClick","originalEvent","linkClickIntercepted","willVisit","_event","LinkClickObserver","MouseEvent","clickEventIsSignificant","composedPath","link","findLinkFromClickTarget","doesNotTargetIFrame","getLocationForLink","willFollowLinkToLocation","followedLinkToLocation","isContentEditable","which","altKey","ctrlKey","metaKey","shiftKey","FormLinkClickObserver","linkInterceptor","willSubmitFormLinkToLocation","turboFrame","turboAction","turboConfirm","submittedFormLinkToLocation","Bardo","callback","bardo","enter","leave","enteringBardo","replaceNewPermanentElementWithPlaceholder","replaceCurrentPermanentElementWithClone","replacePlaceholderWithPermanentElement","leavingBardo","permanentElement","placeholder","createPlaceholderForPermanentElement","getPlaceholderById","placeholders","Renderer","currentSnapshot","willRender","promise","reject","resolvingFunctions","preservingPermanentElements","focusFirstAutofocusableElement","connectedSnapshot","elementIsFocusable","contains","currentElement","newElement","FrameRenderer","destinationRange","createRange","selectNodeContents","deleteContents","frameElement","sourceRange","extractContents","loadFrameElement","scrollFrameIntoView","activateScriptElements","willRenderFrame","block","defaultValue","behavior","readScrollBehavior","newScriptElements","activatedScriptElement","ProgressBar","hiding","visible","trickle","setValue","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","installStylesheetElement","defaultCSS","animationDuration","show","installProgressElement","startTrickling","hide","fadeProgressElement","uninstallProgressElement","stopTrickling","refresh","head","insertBefore","firstChild","width","opacity","parentNode","trickleInterval","setInterval","clearInterval","className","HeadSnapshot","arguments","detailsByOuterHTML","filter","tagName","elementIsNoscript","elementWithoutNonce","outerHTML","details","elementType","tracked","elementIsTracked","trackedElementSignature","keys","getScriptElementsNotInSnapshot","getElementsMatchingTypeNotInSnapshot","getStylesheetElementsNotInSnapshot","matchedType","provisionalElements","getMetaValue","findMetaElementByName","elementIsMetaElementWithName","elementIsScript","elementIsStylesheet","PageSnapshot","headSnapshot","fromDocument","clonedElement","selectElements","clonedSelectElements","index","source","option","selectedOptions","selected","clonedPasswordInput","headElement","getSetting","cacheControlValue","isPreviewable","isCacheable","isVisitable","defaultOptions","historyChanged","visitCachedSnapshot","updateHistory","shouldCacheSnapshot","acceptsStreamResponse","SystemStatusCode","PageStage","Visit","restorationIdentifier","identifier","timingMetrics","followedRedirect","scrolled","snapshotCached","snapshotHTML","isSamePage","locationWithActionIsSamePage","adapter","view","restorationData","getRestorationDataForIdentifier","silent","recordTimingMetric","visitStart","visitStarted","cancelRender","canceled","visitEnd","completed","followRedirect","visitCompleted","fail","visitFailed","changeHistory","update","issueRequest","hasPreloadedResponse","simulateRequest","shouldIssueRequest","startRequest","recordResponse","finishRequest","requestStart","visitRequestStarted","isSuccessful","visitRequestCompleted","visitRequestFailedWithStatusCode","requestEnd","visitRequestFinished","loadResponse","cacheSnapshot","renderPage","fromHTMLString","performScroll","visitRendered","renderError","getCachedSnapshot","getCachedSnapshotForLocation","getPreloadedSnapshot","hasCachedSnapshot","loadCachedSnapshot","redirectedToLocation","visitProposedToLocation","goToSamePageAnchor","_response","contentTypeMismatch","_error","networkFailure","forceReloaded","scrollToRestoredPosition","visitScrolledToSamePageLocation","lastRenderedLocation","scrollPosition","metric","Date","getTime","getTimingMetrics","then","frame","cancelAnimationFrame","BrowserAdapter","session","progressBar","showProgressBar","startVisit","visit","showVisitProgressBarAfterDelay","timeoutFailure","context","_visit","hideVisitProgressBar","pageInvalidated","_formSubmission","showFormProgressBarAfterDelay","hideFormProgressBar","visitProgressBarTimeout","progressBarDelay","clearTimeout","formProgressBarTimeout","CacheObserver","removeStaleElements","staleElements","FrameRedirector","formSubmitObserver","_location","shouldRedirect","findFrameElement","shouldSubmit","meta","submissionIsNavigatable","elementIsNavigatable","History","pageLoaded","onPopState","shouldHandlePopState","turbo","historyPoppedToLocationWithRestorationIdentifier","onPageLoad","push","call","updateRestorationData","additionalData","assumeControlOfScrollRestoration","previousScrollRestoration","scrollRestoration","relinquishControlOfScrollRestoration","pageIsLoaded","Navigator","proposeVisit","allowsVisitingLocationWithAction","currentVisit","submitForm","clearSnapshotCache","visitOptions","getActionForFormSubmission","console","currentAnchor","isRestorationToTop","oldURL","newURL","PageObserver","stage","initial","interpretReadyState","pageIsInteractive","pageIsComplete","pageWillUnload","interactive","pageBecameInteractive","ScrollObserver","onScroll","updatePosition","pageXOffset","pageYOffset","position","scrollPositionChanged","StreamMessageRenderer","permanentElementsInDocument","permanentElementInDocument","elementInStream","getPermanentElementMapForFragment","StreamObserver","sources","Set","inspectFetchResponse","fetchResponseFromEvent","fetchResponseIsStream","receiveMessageResponse","receiveMessageEvent","data","receiveMessageHTML","connectStreamSource","streamSourceIsConnected","disconnectStreamSource","has","receivedMessageFromStream","wrap","ErrorRenderer","replaceChild","replaceHeadAndBody","newHead","replaceableElement","scriptElements","PageRenderer","HTMLBodyElement","trackedElementsAreIdentical","mergeHead","replaceBody","currentHeadSnapshot","newHeadSnapshot","mergedHeadElements","mergeProvisionalElements","newStylesheetElements","copyNewHeadStylesheetElements","copyNewHeadScriptElements","activateNewBody","assignNewBody","loadingElements","newHeadStylesheetElements","all","newHeadScriptElements","newHeadElements","newHeadProvisionalElements","currentHeadProvisionalElements","isCurrentElementInElementList","elementList","splice","isEqualNode","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","adoptNode","activateNewBodyScriptElements","newBodyScriptElements","SnapshotCache","snapshots","read","touch","write","clear","key","indexOf","unshift","trim","PageView","snapshotCache","viewWillCacheSnapshot","cachedSnapshot","fromElement","Preloader","preloadURL","extendURLWithDeprecatedProperties","defineProperties","deprecatedLocationPropertyDescriptors","absoluteURL","StreamActions","after","targetElements","templateContent","nextSibling","removeDuplicateTargetChildren","before","prepend","targetElement","preloader","pageObserver","cacheObserver","linkClickObserver","scrollObserver","streamObserver","formLinkClickObserver","frameRedirector","streamMessageRenderer","drive","enabled","formMode","disable","registerAdapter","clearCache","setProgressBarDelay","delay","setFormMode","mode","applicationAllowsFollowingLinkToLocation","getActionForLink","applicationAllowsVisitingLocation","notifyApplicationAfterVisitingLocation","notifyApplicationAfterPageLoad","notifyApplicationAfterVisitingSamePageLocation","notifyApplicationBeforeCachingSnapshot","notifyApplicationBeforeRender","_snapshot","_isPreview","notifyApplicationAfterRender","frameLoaded","notifyApplicationAfterFrameLoad","frameRendered","notifyApplicationAfterFrameRender","ev","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","newBody","timing","HashChangeEvent","submitterIsNavigatable","container","withinFrame","cache","resetCacheControl","setCacheControl","exemptPageFromCache","exemptPageFromPreview","setMetaContent","navigator$1","freeze","__proto__","warn","setConfirmMethod","getFrameElementById","activateElement","currentURL","right","StreamElement","performAction","beforeRenderEvent","duplicateChildren","c","existingChildren","flatMap","newChildrenIds","includes","actionFunction","targetElementsById","targets","targetElementsByQuery","HTMLTemplateElement","description","newStream","StreamSourceElement","streamSource","WebSocket","EventSource","fetchResponseLoaded","_fetchResponse","currentFetchRequest","resolveVisitPromise","connected","hasBeenLoaded","ignoredAttributes","previousFrameElement","replaceChildren","appearanceObserver","loadingStyle","loadSourceURL","isIgnoringChangesTo","ignoringChangesToAttribute","sourceURL","newFrameElement","extractForeignFrameElement","willHandleFrameMissingFromResponse","visitResponse","proposeVisitIfNavigatedWithAction","shouldInterceptNavigation","navigateFrame","currentNavigationElement","newFrame","_newElement","withCurrentNavigationElement","pageSnapshot","Response","wrapped","CSS","escape","formActionIsVisitable","define","currentScript","EventListener","eventOptions","unorderedBindings","bindingConnected","binding","bindingDisconnected","handleEvent","extendedEvent","immediatePropagationStopped","extendEvent","bindings","hasBindings","sort","left","leftIndex","rightIndex","Dispatcher","application","eventListenerMaps","Map","eventListeners","eventListener","listeners","fetchEventListenerForBinding","clearEventListeners","clearEventListenersForBinding","handleError","removeMappedEventListenerFor","eventListenerMap","fetchEventListenerMapForEventTarget","cacheKey","fetchEventListener","createEventListener","parts","defaultActionDescriptorFilters","stopPropagation","prevent","self","descriptorPattern","parseEventTarget","eventTargetName","camelize","char","namespaceCamelize","capitalize","charAt","dasherize","Action","descriptor","schema","defaultEventNames","getDefaultEventNameForElement","methodName","keyFilter","descriptorString","matches","parseActionDescriptorString","eventFilter","isFilterTarget","filteres","modifiers","ctrl","alt","shift","modifier","standardFilter","hasOwnProperty","keyMappings","pattern","RegExp","typecast","a","button","select","textarea","JSON","parse","o_O","Binding","willBeInvokedByEvent","applyEventModifiers","invokeWithEvent","controller","actionDescriptorFilters","passes","currentTarget","actionEvent","logDebugActivity","KeyboardEvent","scope","containsElement","ElementObserver","mutationObserverInit","childList","subtree","mutationObserver","MutationObserver","mutations","processMutations","pause","takeRecords","matchElementsInTree","removeElement","addElement","mutation","processMutation","processAttributeChange","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","nodeType","ELEMENT_NODE","elementMatched","elementUnmatched","AttributeObserver","elementObserver","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","del","prune","Multimap","valuesByKey","hasKey","hasValue","getValuesForKey","getKeysForValue","_key","_values","SelectorObserver","matchesByElement","selectorMatchElement","selectorMatched","selectorUnmatched","_attributeName","matchedBefore","StringMapObserver","stringMap","attributeOldValue","knownAttributeNames","refreshAttribute","oldValue","getStringMapKeyForAttribute","stringMapKeyAdded","stringMapValueChanged","stringMapKeyRemoved","currentAttributeNames","recordedAttributeNames","attribute","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","unmatchedTokens","matchedTokens","refreshTokensForElement","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","max","zip","findIndex","previousToken","currentToken","tokenString","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","connectAction","disconnectAction","forToken","ValueObserver","receiver","stringMapObserver","valueDescriptorMap","invokeChangedCallbacksForDefaultValues","invokeChangedCallback","writer","valueDescriptorNameMap","valueDescriptors","rawValue","rawOldValue","changedMethodName","changedMethod","reader","descriptors","hasMethodName","TargetObserver","targetsByName","disconnectAllTargets","connectTarget","disconnectTarget","targetConnected","targetDisconnected","readInheritableStaticArrayValues","propertyName","ancestors","getAncestorsForConstructor","definition","isArray","getOwnStaticArrayValues","readInheritableStaticObjectPairs","pairs","getOwnStaticObjectPairs","getPrototypeOf","reverse","OutletObserver","outletsByName","outletElementsByName","selectorObserverMap","outletDefinitions","outletName","observer","dependentContexts","disconnectAllOutlets","_selector","outlet","getOutlet","connectOutlet","getOutletFromMap","disconnectOutlet","hasOutlet","controllerAttribute","outletConnected","outletDisconnected","outlets","getSelectorForOutletName","outletDependencies","dependencies","router","modules","module","controllerConstructor","dependentControllerIdentifiers","identifiers","contexts","getControllerForElementAndIdentifier","Context","functionName","bindingObserver","dispatcher","valueObserver","targetObserver","outletObserver","initialize","invokeControllerMethod","args","bless","properties","shadowConstructor","extend","shadowProperties","getOwnKeys","shadowingDescriptor","getOwnPropertyDescriptor","getShadowedDescriptor","getShadowProperties","shadow","blessings","blessedProperties","blessing","getBlessedProperties","getOwnPropertySymbols","object","getOwnPropertyNames","extendWithReflect","extended","create","testReflectExtension","Module","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","ClassMap","getDataKey","getAll","getAttributeName","getAttributeNameForKey","DataMap","Guide","logger","warnedKeysByObject","warnedKeys","attributeValueContainsToken","TargetSet","targetName","targetNames","findTarget","findLegacyTarget","findAll","findAllTargets","findAllLegacyTargets","getSelectorForTargetName","findElement","findAllElements","targetAttributeForScope","getLegacySelectorForTargetName","deprecate","targetDescriptor","targetAttribute","revisedAttributeName","guide","OutletSet","controllerElement","outletNames","findOutlet","findAllOutlets","outletAttributeForScope","queryElements","matchesElement","Scope","classes","controllerSelector","documentScope","isDocumentScope","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","createScopeForElementAndIdentifier","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","loadDefinition","unloadIdentifier","connectModule","afterLoad","disconnectModule","getContextForElementAndIdentifier","defaultSchema","tab","esc","space","up","down","home","end","objectFromEntries","array","memo","k","v","parseValueDefinitionPair","typeDefinition","payload","typeFromObject","parseValueTypeConstant","typeObject","defaultValueType","parseValueTypeDefault","default","propertyPath","parseValueTypeObject","typeFromDefaultValue","typeFromConstant","parseValueTypeDefinition","constant","defaultValuesByType","defaultValueForDefinition","hasCustomDefaultValue","readers","writers","valueDescriptorForTokenAndTypeDefinition","Boolean","String","boolean","number","writeJSON","stringify","Controller","shouldLoad","_identifier","_application","classDefinition","targetDefinition","valueDefinitionPairs","propertyDescriptorMap","valueDefinitionPair","valueDescriptor","propertiesForValueDefinitionPair","outletDefinition","camelizedName","outletController","propertiesForOutletDefinition","isBrowser","timeoutDuration","longerTimeoutBrowsers","userAgent","debounce","fn","called","scheduled","isFunction","functionToCheck","getStyleComputedProperty","property","css","defaultView","getComputedStyle","getParentNode","nodeName","getScrollParent","_getStyleComputedProp","overflow","overflowX","overflowY","getReferenceNode","reference","referenceNode","isIE11","MSInputMethodContext","documentMode","isIE10","isIE","version","getOffsetParent","noOffsetParent","offsetParent","nextElementSibling","getRoot","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","range","setStart","setEnd","commonAncestorContainer","element1root","getScroll","side","upperSide","scrollingElement","includeScroll","rect","subtract","scrollTop","scrollLeft","top","bottom","getBordersSize","styles","axis","sideA","sideB","parseFloat","getSize","computedStyle","parseInt","getWindowSizes","height","classCallCheck","instance","Constructor","createClass","props","enumerable","configurable","writable","protoProps","staticProps","obj","_extends","getClientRect","offsets","getBoundingClientRect","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","parent","fixedPosition","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","offset","isFixed","getFixedPositionOffsetParent","el","getBoundaries","popper","padding","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","_ref","computeAutoPlacement","placement","refRect","rects","sortedAreas","area","filteredAreas","_ref2","computedPlacement","variation","getReferenceOffsets","commonOffsetParent","getOuterSizes","marginBottom","marginRight","getOppositePlacement","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","arr","check","runModifiers","ends","prop","cur","isDestroyed","arrowStyles","flipped","positionFixed","flip","originalPlacement","isCreated","onUpdate","onCreate","isModifierEnabled","modifierName","getSupportedPropertyName","prefixes","upperProp","toCheck","destroy","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","scrollParents","isBody","passive","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","isNumeric","isFinite","setStyles","isFirefox","isModifierRequired","requestingName","requestedName","isRequired","_requesting","requested","placements","validPlacements","clockwise","counter","BEHAVIORS","parseOffset","basePlacement","useHeight","fragments","frag","divider","splitRegex","ops","op","mergeWithPrevious","str","toValue","index2","shiftvariation","_data$offsets","isVertical","shiftOffsets","preventOverflow","transformProp","popperStyles","transform","priority","primary","escapeWithReference","secondary","min","keepTogether","opSide","arrow","_data$offsets$arrow","arrowElement","len","sideCapitalized","altSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","round","placementOpposite","flipOrder","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flipVariations","flippedVariationByContent","flipVariationsByContent","flippedVariation","getOppositeVariation","inner","subtractLength","bound","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","shouldRound","noRound","referenceWidth","popperWidth","isVariation","horizontalToInteger","verticalToInteger","getRoundedOffsets","devicePixelRatio","prefixedProperty","invertTop","invertLeft","applyStyle","onLoad","modifierOptions","Defaults","Popper","_this","bind","jquery","Utils","g","PopperUtils","BSN","menu","item","btn","buttonTarget","clipboard","writeText","sourceTarget","icon","origBtnClass","origIconClass","origTextClass","origText","Toast","submitTarget","submit","loadingText","formSubmit","formUploadProgress","app","debug","logFormattedMessage","register","load","registerActionOption","rest","unload","controllers","onerror","groupCollapsed","groupEnd","BaseController","ClipboardController","exports","documentHead","supportTransition","transitionEndEvent","transitionDelay","transitionProperty","getElementStyle","getElementTransitionDelay","propertyValue","delayValue","delayScale","duration","transitionDuration","getElementTransitionDuration","durationValue","durationScale","emulateTransitionEnd","handler","endEvent","transitionEndWrapper","apply","getDocument","Window","parentNodes","Document","elementNodes","lookUp","bootstrapCustomEvent","eventType","componentName","eventProperties","OriginalCustomEvent","dispatchCustomEvent","customEvent","Alert","elem","alert","closeCustomEvent","closedCustomEvent","triggerHandler","transitionEndHandler","toggleEvents","clickHandler","close","dispose","Button","labels","changeCustomEvent","toggle","eTarget","parentLabel","label","getElementsByTagName","checked","toggled","screenX","screenY","otherLabel","otherInput","keyHandler","keyCode","preventScroll","focusToggle","getElementsByClassName","hasChecked","mouseHoverEvents","passiveHandler","includeScale","ref","scaleX","scaleY","getDocumentElement","isElementInScrollRange","reflow","Carousel","opsInput","assign$1","assign$2","vars","slideCustomEvent","slidCustomEvent","slides","leftArrow","rightArrow","indicator","indicators","pauseHandler","interval","isSliding","timer","resumeHandler","cycle","indicatorHandler","slideTo","controlsHandler","srcElement","touchDownHandler","keyboard","toggleTouchEvents","touchMoveHandler","touchEndHandler","isTouch","touchPosition","startX","changedTouches","pageX","currentX","endX","relatedTarget","abs","setActivePage","pageIndex","next","timeout","elapsedTime","activeItem","getActiveIndex","orientation","direction","idx","to","itemClasses","slide","cls","intervalAttribute","intervalData","touchData","pauseData","keyboardData","intervalOption","touchOption","Collapse","activeCollapse","showCustomEvent","shownCustomEvent","hideCustomEvent","hiddenCustomEvent","accordion","collapse","openAction","collapseElement","isAnimating","closeAction","accordionData","accordionSelector","setFocus","Dropdown","persist","menuItems","preventEmptyAnchor","toggleDismiss","dismissHandler","hasData","isSameElement","isInsideMenu","isMenuItem","child","Modal","modal","scrollBarWidth","overlay","overlayDelay","fixedItems","setScrollbar","openModal","bodyPad","paddingRight","docClientHeight","docScrollHeight","scrollHeight","bodyClientHeight","bodyScrollHeight","bodyOverflow","modalOverflow","measureScrollbar","fixed","itemPad","resetScrollbar","scrollDiv","widthValue","createOverlay","newOverlay","animation","removeOverlay","beforeShow","display","triggerShow","triggerHide","force","clickTarget","modalID","targetAttrValue","elemAttrValue","modalTrigger","parentWithData","backdrop","currentOpen","setContent","checkModal","mouseClickEvents","styleTip","originalPosition","topPosition","leftPosition","arrowTop","arrowLeft","tipPositions","elementDimensions","w","h","windowWidth","windowHeight","scroll","offsetLeft","offsetTop","linkDimensions","isPopover","halfTopExceed","halfLeftExceed","halfRightExceed","halfBottomExceed","topExceed","leftExceed","bottomExceed","rightExceed","arrowWidth","arrowHeight","Popover","titleString","contentString","placementClass","closeBtn","popover","isIphone","dismissibleHandler","getAttr","att","getTitle","getContent","removePopover","createPopover","popoverArrow","popoverTitle","dismissible","popoverBodyMarkup","popoverTemplate","popoverHeader","popoverBody","showPopover","updatePopover","forceFocus","trigger","touchHandler","dismissHandlerToggle","showTrigger","hideTrigger","triggerData","animationData","placementData","dismissibleData","delayData","containerData","containerElement","containerDataElement","navbarFixedTop","navbarFixedBottom","ScrollSpy","links","spyTarget","scrollTarget","updateTargets","targetItem","isWindow","getScrollHeight","items","maxScroll","getOffsetHeight","activate","itemClassList","parents","menuItem","parentLink","previousElementSibling","newActiveItem","targetData","offsetData","Tab","tabs","dropdown","activeTab","activeContent","nextContent","containerHeight","equalContents","nextHeight","tabsContentContainer","triggerEnd","float","getActiveTab","activeTabs","getActiveContent","heightData","animateHeight","toast","showComplete","autohide","hideComplete","disposeComplete","noTimer","autohideData","Tooltip","tooltip","removeToolTip","createToolTip","tooltipMarkup","tooltipArrow","tooltipInner","updateTooltip","showTooltip","toggleAction","showAction","hideAction","componentsInit","initializeDataAPI","collection","initCallback","component","removeElementDataAPI","ConstructorName","removeDataAPI","initWrapper","Version","factory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","O","chunkIds","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","d","o","globalThis","Function","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}